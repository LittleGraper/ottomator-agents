{/*Shared snippet for route service */} 

import Token from "../snippets/request-parameters/_Token.mdx"
import ResponseFormat from "../snippets/request-parameters/_ResponseFormat.mdx"
import BearingAttributes from "../snippets/shared-attributes/_BearingBrTolNavLat.mdx"
import NetworkLocationFields from "../snippets/shared-attributes/_NetworkLocationFields.mdx"
import RouteStopsDirect from "../snippets/request-parameters/_Route-stops-direct.mdx"
import RouteStopsJob from "../snippets/request-parameters/_Route-stops-job.mdx"

## Description

The Route service can be used to find the best way to get from one location to another or to visit several locations. The best route can be the quickest route for a given time of day considering the traffic conditions during that time, or it can be the shortest route that minimizes the travel distance. The Route service can also find the best route that visits each stop during permitted time windows you specify. If you have more than two stops to visit, the best route can be determined for the fixed order of locations you specify. This is called a simple route. Alternatively, the Route service can determine the best sequence in which to visit the locations (the traveling salesman problem). This is called an optimized route. 

<If c="requestType =='direct' && publication == 'services-reference/enterprise'">

The `solve` operation is performed on a [network layer resource](rest/services-reference/enterprise/network-layer). The `solve` operation is supported on a network layer with a `layerType` value of `esriNAServerRouteLayer`.

</If>

<If c="requestType =='direct'">

See the [Get directions and route](DEVSITE/documentation/mapping-and-location-services/routing-and-directions/tutorials/) tutorial to learn more about how to get directions and calculate an optimal route between two or more places using direct request.

</If>

<If c="publication=='rest/online'">

<Note type={"note"}>

The service works in all the supported countries as listed in the [data coverage page](/network-coverage). One or more countries are grouped together to form an analysis region. The service can determine the best region to use based on the location of the inputs; otherwise, you can use a parameter to specify a region. The service does not support requests that span more than one region. Consequently, the service will only generate results for inputs that fall within one region. 

</Note>

</If>

## How to use the service

To use route service, you need to follow a three step workflow:
1. Make the `submitJob` request with the appropriate request parameters to get a job id.
2. Using the job id, make periodical request to check the job status. If `jobStatus` is `esriJobExecuting`, continue to make request. If job failed, the response contains the error messages. If job succeeded, proceed to next step. If job has been executing for a while and you want to cancel it, you can append `/cancel` to the request url to cancel the job.
3. Use the job id to get one or more results.


## Required parameters

<If c="requestType =='job'">
    <RouteStopsJob />
</If>

<If c="requestType =='direct'">
    <RouteStopsDirect />
</If>

### token

<Token />

### f

<ResponseFormat />