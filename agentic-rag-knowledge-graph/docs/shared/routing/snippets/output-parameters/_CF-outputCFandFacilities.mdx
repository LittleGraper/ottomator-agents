
import Stats from "../../snippets/shared-attributes/_Status.mdx"
import SnapXYZ from "../../snippets/shared-attributes/_SnapXYZ-DistToNet.mdx"
import NetworkLocation from "../../snippets/shared-attributes/_NetworkLocationFields.mdx"

import ParamMetadata from "../../../components/param-metatdata" 

<ParamMetadata types={[{name:"feature",link:"../routing-data-types#feature"}]} />

{/* <p class="space-x-2"><span><span class="font-sm text-color-3">type:</span><a class="font-sm text-color-3" href="../routing-data-types#feature">feature</a></span></p> */}

Provides access to the facilities that were closest to the incidents. It provides the location of the facilities and attribute information from the corresponding input facilities.

<If c="requestType == 'job'">

The `output_closest_facilities` parameter includes only those facilities from the set of input facilities that were closest to at least one incident. Conversely, the `output_facilities` data type includes all the facilities from the analysis including the facilities that cannot be reached from any of the incidents. You can use the `Status` field from the `output_facilities` data type to determine why a facility was not used in the analysis.

</If>

<details>
 <summary><span class="font-sm text-color-link">Show attributes for output facilities</span></summary>

<If c="requestType == 'direct'">
-   <p class="space-x-2"><span class="font-bold">ObjectID</span><span class="font-sm text-color-3">integer</span></p>

    If you specify `preserveObjectID=false`, the value for this field will be a system-generated ID. If `preserveObjectID=True`, the value for this field will be the `ObjectID` of your associated input.
    
</If>

-   <p class="space-x-2"><span class="font-bold">Name</span><span class="font-sm text-color-3">string (length: 500)</span><span class="font-bold text-[#00619b]">nullable</span></p>

    The name of the facility. The values for this field are copied from the `Name` field on the input facilities.

<NetworkLocation />

-   <p class="space-x-2"><span class="font-bold">CurbApproach</span><span class="font-sm text-color-3">integer</span><span class="font-bold text-[#00619b]">nullable</span></p>

    The direction a vehicle may arrive at and depart from the facility. The values for this field are copied from the `CurbApproach` field on the input facilities.

<Stats />

<SnapXYZ />

<If c="requestType == 'job'">

-   <p class="space-x-2"><span class="font-bold">AdditionalTime</span><span class="font-sm text-color-3">number (non-negative)</span><span class="font-bold text-[#00619b]">nullable</span></p>

    The amount of time added to the total route time when this facility is visited. The values for this field are copied from the `AdditionalTime` field on the input facilities.

-   <p class="space-x-2"><span class="font-bold">AdditionalDistance</span><span class="font-sm text-color-3">number (non-negative)</span><span class="font-bold text-[#00619b]">nullable</span></p>

    The amount of distance added to the total route distance when this facility is visited. The values for this field are copied from the `AdditionalDistance` field on the input facilities.

-   <p class="space-x-2"><span class="font-bold">AdditionalCost</span><span class="font-sm text-color-3">number (non-negative)</span><span class="font-bold text-[#00619b]">nullable</span></p>

    The cost added to the total route cost when this facility is visited. The values for this field are copied from the `AdditionalCost` field on the input facilities. This field is included only when the travel mode used for the analysis has an impedance attribute that is neither time-based nor distance-based.

-   <p class="space-x-2"><span class="font-bold">Cutoff</span><span class="font-sm text-color-3">type:double (non-negative)</span><span class="font-bold text-[#00619b]">nullable</span></p>

    The impedance value at which the analysis stopped searching for the facilities from a given incident. The values for this field are copied from the Cutoff field on the input facilities.

-   <p class="space-x-2"><span class="font-bold">ID</span><span class="font-sm text-color-3">str</span></p>

    A user-defined unique identifier for the facility. The values for this field are copied from the `ID` field on the input facilities.

-  <p class="space-x-2"><span class="font-bold">FacilityOID</span><span class="font-sm text-color-3">integer</span><span class="font-bold text-[#00619b]">nullable</span></p>

    The `output_closest_facilities` output includes the `ORIG_FID` field, and the `output_facilities` output includes the `FacilityOID` field.

-  <p class="space-x-2"><span class="font-bold">ORIG_FID</span><span class="font-sm text-color-3">integer</span><span class="font-bold text-[#00619b]">nullable</span></p>

    The `ObjectID` value of the input facility. This field can be used to join attributes from the input facilities.

-   <p class="space-x-2"><span class="font-bold">Bearing</span><span class="font-sm text-color-3">number (non-negative)</span><span class="font-bold text-[#00619b]">nullable</span></p>

    The values for this field are copied from the `Bearing` field on the input facilities.

-   <p class="space-x-2"><span class="font-bold">BearingTol</span><span class="font-sm text-color-3">number (non-negative)</span><span class="font-bold text-[#00619b]">nullable</span></p>

    The values for this field are copied from the `BearingTol` field on the input facilities.

-   <p class="space-x-2"><span class="font-bold">NavLatency</span><span class="font-sm text-color-3">number (non-negative)</span><span class="font-bold text-[#00619b]">nullable</span></p>

    The values for this field are copied from the `NavLatency` field on the input facilities.

</If>

<If c="requestType == 'direct'">

-   <p class="space-x-2"><span class="font-bold">Attr_[Cost]</span><span class="font-sm text-color-3">number (non-negative)</span><span class="font-bold text-[#00619b]">nullable</span></p>

    This field stores an extra cost for the network location.

-   <p class="space-x-2"><span class="font-bold">Cutoff_[Impedance]</span><span class="font-sm text-color-3">number (non-negative)</span><span class="font-bold text-[#00619b]">nullable</span></p>

    While searching for the closest incident from a facility, a cutoff value for the impedance can be used. Any incident beyond the cutoff value will not be searched.

</If>

</details>

<If c="requestType == 'job'">
**Example:**

The following shows an example of the output closest facilities.

<CodeBlock language="json" source="../../code-samples/closestFacility/examples/outputs/outputCF.json" group="json" maxLines={20} expandable/>
</If>
