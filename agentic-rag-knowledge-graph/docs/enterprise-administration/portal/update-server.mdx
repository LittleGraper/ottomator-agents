---
title: "Update (Server)"
description: "This operation allows you to set ArcGIS Server federated with Portal for ArcGIS as the hosting server or to enforce fine-grained access control to a federated server."
slug: "update-server"
url: "/update-server"
guid: "GUID-5EAA4E25-016A-4086-9BCF-20073CB3AFAB"
migratedTopicMetadata:
  FTITLE: "Update Server"
  FDESCRIPTION: ""
  FCHANGES: "Adding adminUrl parameter to operation"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "11.2- *"
  CREATED-ON: "13/07/2023 14:00:18"
  FAUTHOR: "tohara"
  FSTATUS: "Released"
  MODIFIED-ON: "25/09/2023 20:55:01"
  VERSION: "6"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "5"
  ED: "GUID-7AA88FA7-D767-40E7-BC3E-D1430BD142C4"
  FUSERGROUP: "VUSERGROUPARCGISONLINEDOC"
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /federation/servers/<serverID>/update
  urlSegments:
    - name: <root>
      url: /portal-administration-root
    - name: /federation/servers/<serverID>/update
  methods:
    - post
  sslOnly: 'no'
  versionIntroduced: '10.4'
  requiredCapabilities:
    - name: Access allowed with the "Servers" privilege
      url: /privileges-for-portal-admin-api
---

## Description

The `update` operation modifies the current administrative URL, server role, and server function set for a federated server.

### Modify server roles

When modifying server roles, a federated server can either be modified to act as the hosting server for an organization or be updated to enable an access model that controls who has administrative and publisher access to the federated server (`FEDERATED_SERVER_WITH_RESTRICTED_PUBLISHING`). Hosting servers can also have their hosting status removed to allow for a different federated server to become the hosting server.

Setting the server role as `HOSTING_SERVER` will set the specified server as the hosting server for the organization. Before a federated server can be elevated to a hosting server, an enterprise geodatabase must first be registered as a managed database with that specific federated server.

Setting the server role as `FEDERATED_SERVER_WITH_RESTRICTED_PUBLISHING` will immediately restrict access to the federated server to only organization administrators. Organization members that have been assigned publisher privileges cannot access the federated server unless they are added to the publisher-specific group for the federated server or have the publisher-specific item shared to a group they belong to. For more information, see the [Fine-grained access control of federated servers](https://enterprise.arcgis.com/en/portal/latest/administer/windows/administer-a-federated-server.htm#ESRI_SECTION3_A4EFC90DD8BB475A9636DC10E3013295) documentation.

### Modify server functions

A federated server can be assigned any of the possible server functions as long as the server meets the specific requirements for each functional type.

<StyledTable headers={"Function,Requirements"}>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `RasterAnalytics` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      The following requirements must be met to configure a federated server as an ArcGIS Raster Analysis Server:

      - The federated server must be licensed for ArcGIS Image Server, as raster analysis is designed to use distributed processing across machines with ArcGIS Image Server. 
      - A hosting server must be configured with the portal. The hosting server can be either a different federated server or the server being updated by this operation.
      - A raster store must be configured with the federated server.

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `ImageHosting` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      The following requirements must be met to configure a federated server as an Image Hosting Server (which will host the raster store, all image services created from imagery layers, and host all the distributed image services generated by a configured raster analysis server):

      - The federated server must be licensed for ArcGIS Image Server.
      - A hosting server must be configured with the portal. If your organization will be performing raster analysis, its recommended that three separate federated servers (one ArcGIS Raster Analysis Server, one Image Hosting Server, and one hosting server) are federated with your organization. However, a single ArcGIS Image Server can also support raster analysis and image hosting.
      - A file share raster store, or a combination of a database raster store and a cloud store raster store, must be configured with the federated server.

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `NotebookServer` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      This server function was introduced at ArcGIS Enterprise 10.8. The following requirements must be met to configure a federated server as an ArcGIS Notebook Server:

      - The federated server must be an [ArcGIS Notebook Server with appropriate licensing](https://enterprise.arcgis.com/en/notebook/latest/install/windows/welcome-to-the-arcgis-notebook-server-install-guide.htm).
      - A hosting server must be configured with the portal.

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `MissionServer` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      This server function was introduced at ArcGIS Enterprise 10.8. The following requirements must be met to configure a federated server as an ArcGIS Mission Server:

      - The federated server must be an [ArcGIS Mission Server with appropriate licensing](https://doc.arcgis.com/en/mission/latest/server/windows/server-install-welcome-to-install-guide.htm).
      - A hosting server must be configured with the portal.

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `WorkflowManager` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      This server function was introduced at ArcGIS Enterprise 10.8.1.The following requirements must be met to configure a federated server as an ArcGIS Workflow Manager Server:

      - The federated server must be an [ArcGIS Workflow Manager Server with appropriate licensing](https://enterprise.arcgis.com/en/workflow/latest/install/windows/welcome-to-workflow-manager-server-installation-guide.htm).
      - A hosting server must be configured with the portal.

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `KnowledgeServer` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      This server function was introduced at ArcGIS Enterprise 10.9.1. The following requirements must be met to configure a federated server as an ArcGIS Knowledge Server:

      - The federated server must be an [ArcGIS Knowledge Server with appropriate licensing](https://enterprise.arcgis.com/en/knowledge/latest/introduction/what-is-arcgis-knowledge.htm).
      - A hosting server must be configured with the portal.
      - A graph store must be configured with the federated server.

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `GeoAnalytics`

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      <Note type="legacy">

        The ArcGIS GeoAnalytics Server extension is
        [deprecated](https://support.esri.com/en-us/knowledge-base/deprecation-arcgis-geoanalytics-server-000032771)
        with the release of ArcGIS Enterprise 11.4. The last ArcGIS Enterprise release with support for
        GeoAnalytics Server is 11.3.

      </Note>

      The following requirements must be met to configure a federated server as an ArcGIS GeoAnalytics Server:

      - The federated server must be licensed for ArcGIS GeoAnalytics Server.
      - A hosting server must be configured with the portal. The hosting server can be either a different federated server or the server being updated by this operation.
      - A spatiotemporal big data store must be configured with the hosting server.

    </StyledTableCell>
  </StyledTableRow>
</StyledTable>

### Modify administrative URLs

Starting at ArcGIS Enterprise 11.2, this operation can be used to modify the administrative URL for a federated server, which is used when performing administrative operations on an internal network. The format of the administrative URL will vary depending on the federated server's assigned functions:

-   Use the following format for federated servers assigned the `RasterAnalytics`, `ImageHosting`, `WorkflowManager`, `KnowledgeServer`, and `GeoAnalytics` function types:

    ```markdown
    https://machine.domain.com:6443/arcgis
    ```
     
-   Use the following format for federated servers assigned the `NotebookServer` function type t:

    ```markdown
    https://machine.domain.com:11443/arcgis
    ```
     
-   Use the following format for federated servers assigned the `MissionServer` function type:

    ```markdown
    https://machine.domain.com:20443/arcgis
    ```


##  Request parameters

<StyledTable headers={"Parameter,Details"}>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `adminUrl` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      Introduced at 11.2. Modifies the administrative URL for the federated server, which is used when performing administrative operations on an internal network. Use the machine's fully qualified name for the administrative URL. The URL provided must be a URL that the portal can use to communicate with all servers in the site, even when one of them is unavailable.

      <Note type={"note"}>

      If you use a web adaptor for this URL, ensure that you enabled administrative access to the server through the web adaptor.

      </Note>

      ```markdown label=Example
      //Notebook server example
      adminUrl=https://machine.domain.com:11443/arcgis
      ```

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `serverRole` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      Specifies whether the server is a hosting server for the portal, a federated server, or a server with restricted access to publishing.

      Values: `FEDERATED_SERVER` | `FEDERATED_SERVER_WITH_RESTRICTED_PUBLISHING` | `HOSTING_SERVER`

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `serverFunction` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      Specifies the functions for the federated server. The server can be assigned any of the values listed below as long as the server meets the requirements for each functional area. Values can be comma separated, but it is recommended that you do not use a single server for multiple server functions.

      Values: `RasterAnalytics` | `ImageHosting` | `NotebookServer` (Introduced at 10.8) | `MissionServer` (Introduced at 10.8) |
      `WorkflowManager` (Introduced at 10.8.1) | `KnowledgeServer` (Introduced at 10.9.1) | `GeoAnalytics` (Deprecated at 11.4)

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `f` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      The response format. The default response value is `html`.

      Values: `html` | `json` | `pjson`

    </StyledTableCell>
  </StyledTableRow>
</StyledTable>


## Example usage

The following is a sample POST request for the `update` operation:

```other
POST /webadaptor/portaladmin/federation/servers/FfURK2ysFiMjzDkJ/update HTTP/1.1
Host: machine.domain.com
Content-Type: application/x-www-form-urlencoded
Content-Length: []

adminUrl=https://machine.domain.com:11443/arcgis&serverRole=FEDERATED_SERVER&serverFunction=NotebookServer&f=json
```

## JSON Response example

```other
{
  "status": "success",
  "serverId": "iSoD09CM73g0tmu9"
}
```