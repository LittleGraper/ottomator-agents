---
title: "Update (System Properties)"
description: "Updates the system-wide properties for your portal."
slug: "update-system-properties"
url: "/update-system-properties"
guid: "GUID-3E809A85-6E9E-43AD-8739-B836A6218725"
migratedTopicMetadata:
  FTITLE: "Update System Properties"
  FDESCRIPTION: ""
  FCHANGES: "Style changes"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "11.1- *"
  CREATED-ON: "18/02/2023 20:28:09"
  FAUTHOR: "tohara"
  FSTATUS: "Released"
  MODIFIED-ON: "27/09/2023 08:54:15"
  VERSION: "4"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "2"
  ED: "GUID-83B96F96-924F-4298-85B4-06B2BBE748B3"
  FUSERGROUP: "VUSERGROUPARCGISONLINEDOC"
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /system/properties/update
  urlSegments:
    - name: <root>
      url: /portal-administration-root
    - name: /system/properties/update
  methods:
    - post
  sslOnly: 'no'
  versionIntroduced: '10.3'
  requiredCapabilities:
    - name: Access allowed with either the "Security and Infrastructure" or "Organization Website" privileges
      url: /privileges-for-portal-admin-api
---

## Description

The `update` operation updates one or more system properties. All previously modified system properties must be included in the request. Only the properties that have been updated or added to the JSON object will be effected.

##  Request parameters

<StyledTable headers={"Parameter,Details"}>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `properties` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      A JSON object containing system properties. This parameter must include all previously modified system properties in the JSON object.

      ```markdown label=Example
      properties={"nonProxyHosts": "localhost|machine012.domain.com|*.domain.com","privatePortalURL": "https://loadbalancer:7443/arcgis"}
      ```

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `f` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      The response format. The default response format is `html`.

      Values: `html` | `json` | `pjson`

    </StyledTableCell>
  </StyledTableRow>
</StyledTable>


## System properties

<Note type={"note"}>

If your forward proxy is configured to exclusively use HTTPS, do not include `HTTP` properties in the request.

</Note>

<StyledTable headers={"Property,Details"}>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `allowLegacyURLParser` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      By default, the property is not listed and its value is `false`. When added and set to `true`, braces `{ }`, brackets `[ ]`, pipe `|`, and double quote `"` special characters are allowed in unencoded URL query strings.

      <Note type={"warning"}>

      It is recommended that you do not enable this property, as it carries a security vulnerability. If you do add or change the property, you must manually restart Portal for ArcGIS for changes to take effect.

      </Note>

      Values: `true` | `false`

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `defaultJsonResponseContentType` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      Reverts the `content-type` value of your Portal Services REST API to `text/plain`. The default `content-type` value for JSON and JSON with callback responses has been changed from `text/plain` to `application/json` and `application/javascript`, respectively. The only value this parameter will accept is `text/plain`. Carefully consider the security risks of changing the `content-type` value of JSON responses in the Enterprise portal.

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `disableSignup` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      To create all accounts manually, you can use this property to disable the sign-up page and prevent users from creating their own accounts. To allow users to create new accounts, set this property to `false`. To set the property to `false`, you must have a default user type and role set under [Security Configuration](/security-configuration).

      Values: `true` | `false`

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `diskThresholdforReceivingCollaboratedContentInGB` 

</StyledTableCell>
<StyledTableCell cellStyle="markdown">

      This property controls when, based on available disk space, the Enterprise portal will stop receiving collaborated content. The default disk space value is 10 GB. The minimum allowed value is 1 GB. The specified size must be in GB.

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `enableNosniffHeader` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      When set to `true`, all network communication from the Enterprise portal includes the `X-Content-Type-Options` response header with a value of `nosniff`. This helps protect against MIME confusion attacks by preventing web browsers from MIME sniffing a response away from the declared `content-type` of an asset. The default value is `true`.

      Values: `true` | `false`

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `privatePortalURL` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      Specifies the internal URL that ArcGIS Server will use to communicate with the Enterprise portal. This property is typically used when you have a highly available ArcGIS Enterprise deployment or if the server cannot communicate directly with the Enterprise portal machine.

      ```markdown label=Example
      "privatePortalURL": "https://privatelb.domain.com:7443/arcgis"
      ```

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `portalLocalHostname` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      Informs the Enterprise portal back end to present the value of this property as the host name of the local portal machine. This is typically used during federation and when the Enterprise portal machine has one or more public host names.

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `httpProxyHost` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      Specifies the HTTP host name of the proxy server.

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `httpProxyPort` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      Specifies the HTTP port number of the proxy server.

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `httpProxyUser` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      Specifies the HTTP proxy server username.

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `httpProxyPassword` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      Specifies the HTTP proxy server password.

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `isHttpProxyPasswordEncrypted` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      Set this property to `false` when you are configuring the HTTP proxy server password in plain text. After configuration, the password will be encrypted, and this property will be set to `true`.

      Values: `true` | `false`

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `httpsProxyHost` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      Specifies the HTTPS host name of the proxy server.

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `httpsProxyPort` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      Specifies the HTTPS port number of the proxy server.

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `httpsProxyUser` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      Specifies the HTTPS proxy server username.

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `httpsProxyPassword` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      Specifies the HTTPS proxy server password.

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `isHttpsProxyPasswordEncrypted` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      Set this property to `false` when you are configuring the HTTPS proxy server password in plain text. After configuration, the password will be encrypted, and this property will be set to `true`.

      Values: `true` | `false`

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `ldapCertificateValidation`

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      When set to `true`, any encrypted LDAP communication (LDAPS) made from the Enterprise portal to the user or group identity store will enforce certificate validation. The default value is `false`. 

      <Note type={"warning"}>

      When set to `true`, if the certificate name does not match or the certificate cannot be validated, the Enterprise portal may attempt to use unencrypted LDAP communication or it may not be able to establish communication at all. If this occurs, a warning message will be logged.

      </Note>

      Values: `true` | `false`

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `nonProxyHosts` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      This property should always contain the machine name where Portal for ArcGIS is installed. If you want to federate ArcGIS Server, this property should also include the name of the machine where ArcGIS Server is installed. If the ArcGIS Server site contains multiple machines, a wildcard can be used for all machines in the domain (for example, `*.domain.com`). Machine and domain items are separated using a pipe (`|`).

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `WebContextURL` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      Explicitly defines the organization URL used for client communication. This property is required for sites with reverse proxy implementations and architectures without web adaptors. Using `WebContextURL` is recommended for sites using a DNS alias for the organization URL.

      ```markdown label=Example
      "WebContextURL": "https://dnsalias.domain.com/portal"
      ```

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `enablePrintService` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      Introduced at ArcGIS Enterprise 10.9. When set to `false`, the default print service that is distributed with the ArcGIS Enterprise portal is disabled. This change does not impact access to any other configured print service. The default value is `true`.

      Values: `true` | `false`

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `enableLegendsService` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      Introduced at ArcGIS Enterprise 10.9. When set to `true`, the legend service used to retrieve legend icons from older maps and feature services is enabled. The default value is `false`.

      Values: `true` | `false`

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `enableRssService` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      Introduced at ArcGIS Enterprise 10.9. When set to `false`, the service used by the ArcGIS Enterprise portal to communicate with the live GeoRSS feed is disabled. The default value is `true`.

      Values: `true` | `false`

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `enableKmlService` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      Introduced at ArcGIS Enterprise 10.9. When set to `false`, the service used by the ArcGIS Enterprise portal to communicate with the KML endpoint is disabled. The default value is `true`.

      Values: `true` | `false`

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `enableWfsService` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      Introduced at ArcGIS Enterprise 10.9.1. When set to `true`, the WFS adaptor that is distributed with the ArcGIS Enterprise portal is enabled. This change does not impact access to WFS services added to, or hosted by, the portal. The default value is `false`.

      Values: `true` | `false`

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `logBackupWarning` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      Introduced at ArcGIS Enterprise 11.1. Using this property you can disable backup warnings that appear in the Portal for ArcGIS logs when the site's values for [`fullBackupTimeStamp` or `backupModeTimeStamp`](/backuprestoreinfo#response-properties) are older than two weeks. For administrators using an external backup mechanism, the backup messages can be disabled by setting `logBackupWarning` to `false`. The default value is `true`.

      Values: `true` | `false`

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `diskSpaceThresholdGB` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      Introduced at ArcGIS Enterprise 11.3. By using this property, you can declare the threshold for usable disk space for drives on a portal machine. If a drive were to exceed the threshold value, [exceededDiskSpaceThreshold](/hardware) will return as `true`, and more disk space may need to be made available on that drive. If this property is not set, the default will be 5 GB.

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `useROConnectionForQueries` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      Introduced at ArcGIS Enterprise 11.4. Starting at 11.4, highly available deployments will have both the primary and standby databases receive query requests by default. This behavior can be modified by setting the `useROConnectionForQueries` property as `false`, which ensures that both the primary and stanby machines only use the primary database for query requests. If this property is not defined in the system properties, or is set to `true`, the default behavior will be used.

      Values: `true` | `false`

    </StyledTableCell>
  </StyledTableRow>
</StyledTable>

## Example usage

The following is a sample POST request for the `update` operation that demonstrates how to update the `privatePortalURL` property, formatted for readability:

```other
POST /webadaptor/portaladmin/system/properties/update HTTP/1.1
Host: machine.domain.com
Content-Type:
Content-Length: []

properties={
  "nonProxyHosts": "localhost|machine012.domain.com|*.domain.com",
  "privatePortalURL": "https://loadbalancer:7443/arcgis"
}&f=pjson
```

## JSON Response example

```javascript
{
  "status": "success",
  "recheckAfterSeconds": 10
}
```
