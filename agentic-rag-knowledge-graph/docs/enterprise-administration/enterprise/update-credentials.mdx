---
title: "Update Credentials"
description: "The update/credentials operation updates the credentials for the metrics viewer and metrics API."
slug: "update-credentials"
url: "/update-credentials"
guid: "GUID-A150FCFE-542A-4BB4-9367-7F2BC93DAB0D"
migratedTopicMetadata:
  FTITLE: "Update Credentials"
  FDESCRIPTION: ""
  FCHANGES: "Changes to grafana information"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "11.2-*"
  CREATED-ON: "06/11/2023 13:15:39"
  FAUTHOR: "tohara"
  FSTATUS: "Released"
  MODIFIED-ON: "09/11/2023 19:36:25"
  VERSION: "3"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "2"
  ED: "GUID-E0585206-0F1E-423D-860F-9A7FF09CA6EC"
  FUSERGROUP: "VUSERGROUPARCGISONLINEDOC"
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /usagestatistics/update/credentials
  urlSegments:
    - name: <root>
      url: /enterprise-admin-root
    - name: /usagestatistics/update/credentials
  methods:
    - post
  sslOnly: 'no'
  versionIntroduced: '10.9'
  requiredCapabilities:
    - name: Access allowed only with the default administrator role
      url: /managing-access-to-the-enterprise-admin-api
---

## Description

The `update/credentials` operation updates the credentials for the metrics viewer and metrics API.

### Metrics viewer

<Note type={"note"}>

Prior to ArcGIS Enterprise 11.2 on Kubernetes, administrators could directly access Grafana through the metrics viewer app. However, Grafana is no longer accessible from ArcGIS Enterprise on Kubernetes. Only deployments using ArcGIS Enterprise 11.1 on Kubernetes or earlier versions will be able to use the `update/credentials` resource to modify the credentials for Grafana.

</Note>

By default, the initial administrator account credentials that were created during the configuration of your organization are used to access the metrics viewer.

### Metrics API

System-generated credentials are created and used to access the metrics API. It is recommended that these credentials be updated once your organization is configured.


## Request parameters

<StyledTable headers={"Parameter,Details"}>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `resource` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      <Note type={"note"}>

      Prior to ArcGIS Enterprise 11.2 on Kubernetes, administrators could directly access Grafana through the metrics viewer app. However, Grafana is no longer accessible from ArcGIS Enterprise on Kubernetes. Only deployments using ArcGIS Enterprise 11.1 on Kubernetes or earlier versions will be able to use the `update/credentials` resource to modify the credentials for Grafana.

      </Note>

      Specifies whether the updated credentials will be applied to the metrics viewer (`grafana`) or the metrics API (`prometheus`).

      Values: `grafana` | `prometheus`

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `username` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      The new username for the specified metrics resource.

      ```markdown label=Example
      username=metricsadmin
      ```

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `password` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      The new password for the metrics resource. The new password must be a minimum of eight characters and must contain at least one letter (A-Z, a-z), one number (0-9), and one special character.

      ```markdown label=Example
      password=metrics.pass1
      ```

    </StyledTableCell>
  </StyledTableRow>
</StyledTable>


## Example usage

The following is a sample POST request for the `update/credentials` operation:

```other
POST /context/usagestatistics/update/credentials HTTP/1.1
Host: organization.domain.com
Content-Type: application/x-www-form-urlencoded
Content-Length: []

resource=prometheus&username=metricsadmin&password=metrics.pass1&token=tAn8XQKKU5HhvrvxFmM5_3Yb3qdXwPM4NZID92K0IfxRBf95GKvrHdzd2Euzbi-6OzRHWpYIqIrs0oNHqYkk9cvz4Hx_hlQ1A7ClYGkMlL4YdA-fQMX7YL-0-p4j70KJeVI6tL94sAjZQbrS-b1VN3E5GG6oyhbGGzqvjEQYYGy47m495iZw8kXiSFwWP1FBbyLaJoK2JSMLOpMeg7CqbuyIRLmveFZ0AbJ95_CUb9V_WyYTC4PDkSLv1SKn21TE

```

## JSON Response example

```other
{"status": "success"}
```