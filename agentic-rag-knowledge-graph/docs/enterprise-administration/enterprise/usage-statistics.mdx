---
title: "Usage Statistics"
description: "The usagestatistics resource provides access to the metrics viewer and metrics API tools."
slug: "usage-statistics"
url: "/usage-statistics"
guid: "GUID-01A62959-43BB-4F0F-9531-510033EA7199"
migratedTopicMetadata:
  FTITLE: "Usage Statistics"
  FDESCRIPTION: ""
  FCHANGES: "Modifying Grafana information"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "10.9.1-*"
  CREATED-ON: "06/11/2023 13:01:22"
  FAUTHOR: "tohara"
  FSTATUS: "Released"
  MODIFIED-ON: "09/11/2023 19:35:11"
  VERSION: "3"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "4"
  ED: "GUID-D3E5F858-C27B-4832-8651-40F83BA0C657"
  FUSERGROUP: "VUSERGROUPARCGISONLINEDOC"
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /usagestatistics
  urlSegments:
    - name: <root>
      url: /enterprise-admin-root
    - name: /usagestatistics
  methods:
    - get
  sslOnly: 'no'
  versionIntroduced: '10.9'
  requiredCapabilities:
    - name: Access allowed only with the default administrator role
      url: /managing-access-to-the-enterprise-admin-api
---

## Description

The `usagestatistics` resource provides access to the metrics viewer and metrics API tools. As an administrator, you can use these tools to monitor GIS service usage in your organization for feature services, map services, tiled map services, geocode services, and geometry services. Information that can be gathered from service usage statistics includes the following:

- Historical service usage data
- Peak and off-peak periods of service usage
- Slowdown in response times or throughput

<Note type={"note"}>

Before accessing the Prometheus dashboard, you must [update](/update-credentials) your credentials. The new password must be a minimum of eight characters and must contain at least one letter (A-Z, a-z), one number (0-9), and one special character.

</Note>

### Metrics viewer

<Note type={"note"}>

Prior to ArcGIS Enterprise 11.2 on Kubernetes, administrators could directly access Grafana through the metrics viewer app. However, Grafana is no longer accessible from ArcGIS Enterprise on Kubernetes. While administrators no longer have access to the metrics viewer, Grafana can still be installed separately and used with Prometheus for the metrics API.

</Note>

This resource is only available to deployments using ArcGIS Enterprise 11.1 on Kubernetes or earlier versions. Service usage statistics are collected using a metrics API pod running in your cluster. These metrics are persisted by a metrics API and are exposed through a service metrics viewer pod that queries the metrics API.

The metrics viewer app uses Prometheus and Grafana components to create and view custom dashboards consisting of graph panels for various metrics. You can use PromQL queries on the metrics API to generate graphs for metrics across different periods of time. To learn more about how to view statistics dashboards, and which dashboards are included with your deployment, see [View statistics](https://enterprise-k8s.arcgis.com/en/latest/administer/view-statistics.htm) in the ArcGIS Enterprise on Kubernetes help.

### Metrics API

As an administrator, you can use the metrics API with PromQL queries to directly query and obtain raw metrics that can be used by third-party viewers or graphical applications that may be running inside or outside of your cluster. The Prometheus monitoring system is used by the metrics API to collect these metrics from each GIS service pod and persist the information into a time-series database. For information on the types of raw metrics collected by the metrics API, see [Access the metrics API](https://enterprise-k8s.arcgis.com/en/latest/administer/usage-metrics-api.htm) in the ArcGIS Enterprise on Kubernetes help.


## Request parameters

<StyledTable headers={"Parameter,Details"}>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `f` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      The response format. The only supported format is `html`.

    </StyledTableCell>
  </StyledTableRow>
</StyledTable>


## Example usage

The following is a sample request URL used to access the `usagestatistics` resource:

```other
https://organization.domain.com/context/admin/usagestatistics?f=html
```