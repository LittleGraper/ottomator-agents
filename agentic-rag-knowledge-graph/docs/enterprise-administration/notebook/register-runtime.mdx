---
title: "Register (runtime)"
description: "If you created a custom notebook runtime to expand the capabilities and resources of the runtimes provided by Esri, use this operation to register the custom runtime with the site."
slug: "register-runtime"
url: "/register-runtime"
guid: "GUID-3B00CCF2-0103-4BB6-BE3D-2616C1175346"
migratedTopicMetadata:
  FTITLE: "Register Runtime"
  FDESCRIPTION: "new at 10.7.1"
  FCHANGES: "https://devtopia.esri.com/webgis/arcgis-enterprise-documentation/issues/3488"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "10.9.1 - *"
  CREATED-ON: "10/09/2021 12:57:57"
  FAUTHOR: "bpolk"
  FSTATUS: "Released"
  MODIFIED-ON: "04/10/2021 10:08:18"
  VERSION: "6"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "6"
  ED: "GUID-680A24A5-073A-46F7-95B6-2F6C5E9C4C17"
  FUSERGROUP: "VUSERGROUPSERVERDOC"
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /notebooks/runtimes/register
  urlSegments:
    - name: <notebookserveradmin>
      url: /notebook-server-administration-root
    - name: /notebooks/runtimes/register
  methods:
    - post
  sslOnly: 'no'
  versionIntroduced: 10.7.1
  requiredCapability: Administrator
---

## Description

If you created a custom notebook runtime to expand the capabilities and resources of the runtimes provided by Esri, use this operation to register the custom runtime with the site. Notebook runtimes use Docker images. See [Extend a notebook runtime](https://enterprise.arcgis.com/en/notebook/latest/install/windows/extend-a-notebook-runtime.htm).

##  Request parameters

<StyledTable headers={"Parameter,Details"}>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`name` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

A string to represent the new runtime, such as `"Notebook Custom Runtime Python 3"` .

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`version` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The version of the Esri-provided runtime used as the base Docker image.

<Note type={"note"}>

This parameter has been deprecated as of ArcGIS Notebook Server version 10.9

</Note>

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`imageId` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Full (nontruncated) ID for the new Docker image, when it was built.

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`containerType` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The only valid value is `docker` .

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`imagePullString` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Not applicable.

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`requiresAdvancedPrivileges` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Set this value to `true`  if the runtime requires advanced privileges.

Values: `true`  \| `false` 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`maxCPU` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The maximum number of CPU units to be used for each container.

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`maxMemory` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The maximum amount of memory to be used for each container.

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`maxMemoryUnit` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The unit specified by the `maxMemory`  parameter.

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`maxSwapMemory` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The maximum amount of swap memory available for each container if it reaches the `maxMemory`  limit.

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`maxSwapMemoryUnit` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The unit specified by the `maxSwapMemory`  parameter.

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`sharedMemory` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The amount of shared memory available for each container.

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`sharedMemoryUnit` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The unit specified by the `sharedMemory`  parameter.

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`dockerRuntime` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Only applies to GPU runtimes in Linux environments. 

[Learn more about ArcGIS Notebook Server and GPUs](https://enterprise.arcgis.com/en/notebook/latest/administer/linux/configure-arcgis-notebook-server-to-use-gpus.htm)

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`manifestFile` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The full path to a `.json`  file (in UTF-8 or ANSI encoding) containing the list of Python libraries in the runtime.

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`f` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The default response format. The default response format is `html` .

Values: `html`  \| `json`  \| `pjson` 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`createManifestFile` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

If set to `true` , a manifest `.json`  file is automatically created for the Docker image registered as the notebook runtime. Providing a file for the `manifestFile`  parameter overrides this setting. 

Values: `true` 

</StyledTableCell>

</StyledTableRow>

</StyledTable>

## Example usage

```javascript
https://gisserver.domain.com:11443/arcgis/admin/notebooks/runtimes/register?name="Notebook Custom Runtime Python 3"
&imageId="1a0d115fe38be3533e4242f926e0f3c356b25bfe2ab0867a26d0f259128d4b86"
&requiresAdvancedPrivileges=true
&maxCpu=2
&maxMemory=6
&maxMemoryUnit=g
f=json
```

 

## JSON Response syntax

```other
{
  "notebookRuntime": {
    "imageId": "<runtime imageId>",
    "containerType": "<containerType>",
    "maxCpu": '<maxCpu cores>',
    "version": "<runtime version>",
    "maxMemory": '<maxMemory>',
    "esriProvidedRuntime": ,
    "name": "<runtime name>",
    "maxMemoryUnit": "<memory unit>",
    "maxSwapMemory": '<max Swap Memory>',
    "maxSwapMemoryUnit": "maxSwapMemoryUnit",
    "id": "runtime id",
    "requiresAdvancedPrivileges": true|false ,
    "sharedMemorySizeUnit": "sharedMemorySizeUnit",
    "sharedMemorySize": '<sharedMemorySize>'
  },
  "status": "success"
}
```

 

## JSON Response example 

```other
{
  "notebookRuntime": {
    "imageId": "1a0d115fe38be3533e4242f926e0f3c356b25bfe2ab0867a26d0f259128d4b86",
    "containerType": "docker",
    "maxCpu": 2,
    "version": "5.0",
    "maxMemory": 6,
    "esriProvidedRuntime": false,
    "name": "Notebook Custom Runtime Python 3",
    "maxMemoryUnit": "g",
    "maxSwapMemory": 0,
    "maxSwapMemoryUnit": "g",
    "id": "08c6c325-a81f-40b4-8205-b883980f1e2e",
    "requiresAdvancedPrivileges": true,
    "sharedMemorySizeUnit": "m",
    "sharedMemorySize": 2048
  },
  "status": "success"
}
```

 
