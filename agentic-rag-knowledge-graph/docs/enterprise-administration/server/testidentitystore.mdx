---
title: "Test Identity Store"
description: "The testIdentityStore operation tests the connection to both user and role stores."
slug: "testidentitystore"
url: "/testidentitystore"
guid: "GUID-4717B52D-4604-44A0-9458-3AD368E20424"
migratedTopicMetadata:
  FTITLE: "testIdentityStore"
  FDESCRIPTION: ""
  FCHANGES: "Adding privilege requirements"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "10.8.1 -*"
  CREATED-ON: "09/06/2020 17:17:34"
  FAUTHOR: "tohara"
  FSTATUS: "Released"
  MODIFIED-ON: "09/06/2020 17:24:08"
  VERSION: "6"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "2"
  ED: "GUID-7C11FB24-37FD-43C0-8BAA-B3E1DC080ECE"
  FUSERGROUP: "VUSERGROUPARCGISONLINEDOC"
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /security/config/testIdentityStore
  urlSegments:
    - name: <root>
      url: /site
    - name: /security/config/testIdentityStore
  methods:
    - post
  sslOnly: 'no'
  versionIntroduced: '10.1'
  requiredCapabilities:
    - name: Access allowed with either the "Security and Infrastructure" or "Servers" privileges
      url: /managing-access-to-the-server-administration-rest-api
---

## Description

The `testIdentityStore` operation tests the connection to the input [user](/userstore) and [role](/rolestore) store. If this operation returns an error then the server will not accept the connections and you will need to repair them. The operation will only test the connection without any change to current user and role connections.


##  Request parameters

<StyledTable headers={"Parameter,Details"}>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `userStoreConfig` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      The JSON object representing the [user store configuration](/userstore).

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `roleStoreConfig` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      The JSON object representing the [role store configuration](/rolestore).

    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">

      `f` 

    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">

      The response format. The default response format is `html`. 

      Values: `html` | `json` | `pjson`

    </StyledTableCell>
  </StyledTableRow>
</StyledTable>


## Example usage

The following is a sample POST request for the `testIdentityStore` operation:

```markdown
POST /webadaptor/admin/security/config/testIdentityStore HTTP/1.1
Host: machine.domain.com
Content-Type: application/x-www-form-urlencoded
Content-Length: []

userStoreConfig={
  "type": "LDAP",
  "properties": {
    "userPassword": "secret",
    "isPasswordEncrypted": "false",
    "user": "uid=admin,ou=system",
    "userFullnameAttribute": "displayName",
    "userGivenNameAttribute": "givenName",
    "userSurnameAttribute": "sn",
    "ldapURLForUsers": "ldaps://ldapserver:10636/ou=users,ou=ags,dc=example,dc=com",
    "userEmailAttribute": "mail",
    "usernameAttribute": "uid",
    "caseSensitive": "false",
    "userSearchAttribute": "dn", 
  }
}&roleStoreConfig={
  "type": "BUILTIN",
  "properties": {}
}&f=pjson
```

## JSON Response example

```javascript
{"status": "success"}
```