---
title: "Geometry To Station"
description: "This operation converts one or more geographic locations to station values along a set of routes."
slug: "lr-geometry-to-station"
url: "/lr-geometry-to-station"
guid: "GUID-BBBFAA65-5666-4DA8-A4A4-A0BFAB6A7800"
migratedTopicMetadata:
  FTITLE: "LR Geometry To Station"
  FDESCRIPTION: "Topic for LRS REST API endpoint, Geometry To Station"
  FCHANGES: "New REST endpoint for 3982"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "11.0 - *"
  CREATED-ON: "17/11/2021 11:27:56"
  FAUTHOR: "jgardner"
  FSTATUS: "Released"
  MODIFIED-ON: "25/05/2023 11:00:07"
  VERSION: "1"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "23"
  ED: "GUID-082BA75B-B352-434D-8536-7CE98D55DC6B"
  FUSERGROUP: ""
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /geometryToStation
  urlSegments:
    - name: <event-layer-url>
      url: /event-layer
    - name: /geometryToStation
  methods: []
  sslOnly: 'no'
  versionIntroduced: '11.0'
  requiredCapability: The ArcGIS Location Referencing license is required to use this resource.
---

import GUID_FDC3EA81_25C0_4AC4_8B57_2008547446AD_GUID_E6C28557_ADDB_4260_92CF_C8983F9552C4 from "./snippets/GUID-FDC3EA81-25C0-4AC4-8B57-2008547446AD/_GUID-E6C28557-ADDB-4260-92CF-C8983F9552C4";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_7474937F_E03B_4F20_88BD_6072282F26C2 from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-7474937F-E03B-4F20-88BD-6072282F26C2";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_85B886AE_38BB_4AD8_982A_F67063509918 from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-85B886AE-38BB-4AD8-982A-F67063509918";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_611CC039_3B9F_4205_8326_4E4D8F96F258 from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-611CC039-3B9F-4205-8326-4E4D8F96F258";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_A10D32DF_D013_457A_9CF1_ACC5B4DA897D from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-A10D32DF-D013-457A-9CF1-ACC5B4DA897D";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_4E9D5160_8715_4EDD_BDB9_41CBCC00978B from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-4E9D5160-8715-4EDD-BDB9-41CBCC00978B";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_3A70640C_E9EF_4951_AD25_4E54EED8E473 from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-3A70640C-E9EF-4951-AD25-4E54EED8E473";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_EBC8E043_D348_4CE8_979E_85339C982806 from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-EBC8E043-D348-4CE8-979E-85339C982806";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_05D033E5_D646_43C1_928C_DC91C95664FF from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-05D033E5-D646-43C1-928C-DC91C95664FF";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_C9EDFE39_A6C0_4F27_AABF_524AAAC3FE01 from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-C9EDFE39-A6C0-4F27-AABF-524AAAC3FE01";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_215FB849_BBE6_4FD6_8DAA_83ABE83C809A from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-215FB849-BBE6-4FD6-8DAA-83ABE83C809A";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_BCD58751_5CCF_49FD_AB9A_F21F52463B10 from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-BCD58751-5CCF-49FD-AB9A-F21F52463B10";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_BD3DA9F6_C54A_4AE0_8816_175F0B84503F from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-BD3DA9F6-C54A-4AE0-8816-175F0B84503F";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_30F08A17_5609_4776_B666_78B22503DB58 from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-30F08A17-5609-4776-B666-78B22503DB58";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_866765E2_74A7_4329_8F9B_7142DD8967C8 from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-866765E2-74A7-4329-8F9B-7142DD8967C8";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_DB8DF660_6EAB_4725_A666_616A3D5A565A from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-DB8DF660-6EAB-4725-A666-616A3D5A565A";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_F5D2E2A5_88F2_4EBC_9FAE_BBF992536D90 from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-F5D2E2A5-88F2-4EBC-9FAE-BBF992536D90";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_338B692C_1241_497E_A75E_A120E90C5078 from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-338B692C-1241-497E-A75E-A120E90C5078";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_A18843D2_866B_4EFB_B533_9736C6767514 from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-A18843D2-866B-4EFB-B533-9736C6767514";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_F346DF29_5325_4FAE_8AEB_B0422F5AE1E9 from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-F346DF29-5325-4FAE-8AEB-B0422F5AE1E9";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_071DFCB9_487C_48DD_89C0_7E164430E1BD from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-071DFCB9-487C-48DD-89C0-7E164430E1BD";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_A1D0566B_93E4_49B1_9578_AA8BECB82C0E from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-A1D0566B-93E4-49B1-9578-AA8BECB82C0E";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_CBD7DB86_6337_46AF_9D06_A96B8007D827 from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-CBD7DB86-6337-46AF-9D06-A96B8007D827";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_771125F3_D83D_487C_A125_ED278A1903BC from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-771125F3-D83D-487C-A125-ED278A1903BC";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_2CA58EC4_B656_41C3_929A_F19634F37937 from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-2CA58EC4-B656-41C3-929A-F19634F37937";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_12075B19_4FE4_4EA3_BA1C_6BCDC797BF54 from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-12075B19-4FE4-4EA3-BA1C-6BCDC797BF54";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_0D283141_F093_4914_AE08_85FA000321C8 from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-0D283141-F093-4914-AE08-85FA000321C8";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_E9274257_CDF7_4AEF_B034_FC9A83B71F0E from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-E9274257-CDF7-4AEF-B034-FC9A83B71F0E";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_A204EFC8_9DD4_4692_AB87_877BD3C7E204 from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-A204EFC8-9DD4-4692-AB87-877BD3C7E204";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_AD3BC8A6_EE96_4222_8135_EFFE7E992FA1 from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-AD3BC8A6-EE96-4222-8135-EFFE7E992FA1";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_201234FA_0AA6_4B7A_BD89_513BA9EDE205 from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-201234FA-0AA6-4B7A-BD89-513BA9EDE205";
import EncodeURLsNote from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_EncodeURLsNote";


## Description

This operation converts one or more geographic locations to station values along a set of routes in station-enabled event layers when the `isStationEvent` property is `true`.

<GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_7474937F_E03B_4F20_88BD_6072282F26C2 />

## Status messages

<GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_85B886AE_38BB_4AD8_982A_F67063509918 />

<StyledTable headers={"Status,Description"}>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_611CC039_3B9F_4205_8326_4E4D8F96F258 />
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_A10D32DF_D013_457A_9CF1_ACC5B4DA897D />
    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_4E9D5160_8715_4EDD_BDB9_41CBCC00978B />
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_3A70640C_E9EF_4951_AD25_4E54EED8E473 />
    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_EBC8E043_D348_4CE8_979E_85339C982806 />
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_05D033E5_D646_43C1_928C_DC91C95664FF />
    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_C9EDFE39_A6C0_4F27_AABF_524AAAC3FE01 />
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_215FB849_BBE6_4FD6_8DAA_83ABE83C809A />
    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_BCD58751_5CCF_49FD_AB9A_F21F52463B10 />
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_BD3DA9F6_C54A_4AE0_8816_175F0B84503F />
    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_30F08A17_5609_4776_B666_78B22503DB58 />
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_866765E2_74A7_4329_8F9B_7142DD8967C8 />
    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_DB8DF660_6EAB_4725_A666_616A3D5A565A />
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_F5D2E2A5_88F2_4EBC_9FAE_BBF992536D90 />
    </StyledTableCell>
  </StyledTableRow>
</StyledTable>

##  Request parameters

<StyledTable headers={"Parameter,Details"}>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      `f`
      
      (Optional)
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_338B692C_1241_497E_A75E_A120E90C5078 />
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_A18843D2_866B_4EFB_B533_9736C6767514 />
    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      `locations`

      (Required)
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      Lists routes and point locations to convert to station values.

      If the route ID is omitted for a given point, the point is located on all nearby routes within the tolerance. In this case, the response contains multiple route IDs and station values corresponding to the single point location.

      Syntax:
      ```other
      [
        {
          "routeId": "<routeId1>",  // route ID is optional, may be omitted or null
          "geometry": { "x": <x1>, "y": <y1>, "z": <z1> }
        },
        {
          "routeId": "<routeId2>",  // route ID is optional, may be omitted or null
          "geometry": { "x": <x2>, "y": <y2>, "z": <z2> }
        },
        ...
      ]
      ```
    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      `tolerance`
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      The maximum distance in map units allowed to snap a point to the closest location on a nearby route. If a point is farther than the tolerance from a route, a message is returned that the point is not locatable.
    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      `temporalViewDate`
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_F346DF29_5325_4FAE_8AEB_B0422F5AE1E9 />
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_071DFCB9_487C_48DD_89C0_7E164430E1BD />
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_A1D0566B_93E4_49B1_9578_AA8BECB82C0E />
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_CBD7DB86_6337_46AF_9D06_A96B8007D827 />
    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      `inSR`
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_771125F3_D83D_487C_A125_ED278A1903BC />
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_2CA58EC4_B656_41C3_929A_F19634F37937 />
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_12075B19_4FE4_4EA3_BA1C_6BCDC797BF54 />
    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      `outSR`
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_0D283141_F093_4914_AE08_85FA000321C8 />
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_E9274257_CDF7_4AEF_B034_FC9A83B71F0E />
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_A204EFC8_9DD4_4692_AB87_877BD3C7E204 />
    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      `gdbVersion`
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_AD3BC8A6_EE96_4222_8135_EFFE7E992FA1 />
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_201234FA_0AA6_4B7A_BD89_513BA9EDE205 />
    </StyledTableCell>
  </StyledTableRow>
</StyledTable>

## Example usage

The following are sample URLs for geometry to station.

<EncodeURLsNote />

### Example 1

The following is a URL for converting a single point to a station:

```other
https://sampleserver/arcgis/rest/services/MyLRS/MapServer/exts/LRServer/eventLayers/1/geometryToStation?f=json&locations=[{"routeId":"I90","geometry":{"x":-8479115,"y":5326520,"z":5}}]&tolerance=50&inSR=102100
```

### Example 2

The following is a URL for converting multiple points to stations:

```other
https://sampleserver/arcgis/rest/services/MyLRS/MapServer/exts/LRServer/eventLayers/1/geometryToStation?f=json&locations=[{"routeId":"I90","geometry":{"x":-8479115,"y":5326520,"z":5}},{"routeId":"US20","geometry":{"x":-8472692,"y":5295686,"z":5}}]&tolerance=25&inSR=102100
```

### Example 3

The following is a URL for converting a single point on any nearby route to one or more stations:

```other
https://sampleserver/arcgis/rest/services/MyLRS/MapServer/exts/LRServer/eventLayers/1/geometryToStation?f=json&locations=[{"geometry":{"x":-8479100,"y":5326500,"z":5}}]&tolerance=100&inSR=102100
```

 

## JSON Response syntax

```json
{
  "stationUnits": "<units>",
  "spatialReference": <spatialReference>,
  "locations": [
    { // result(s) for the first point location
      "status": "<status1>",
      "results": [
        {
          "routeId": "<routeId1>",
          "eventId": "<stationEventId1>",
          "station": "<station1>",
          "geometryType": "<geometryType1>",  // esriGeometryPoint
          "geometry": { "x": <x>, "y": <y>, "m": <m>, "z": <z> }
        },
        ...
      ]
    },
    { // result(s) for the second point location
      "status": "<status2>",
      "results": [
        {
          "routeId": "<routeId2>",
          "eventId": "<stationEventId2>",
          "station": "<station2>",
          "geometryType": "<geometryType2>",
          "geometry": { "x": <x>, "y": <y>, "m": <m>, "z": <z> }
        },
        ...
      ]
    },
    ...
  ]
}

```

 

## JSON Response example

```json
{
  "stationUnits": "esriFeet",
  "spatialReference": { "wkid": 102100 },
  "locations": [
    {
      "status": "esriLocatingOK",
      "results": [
        {
          "routeId": "I90",
          "eventId": "Stn123",
          "station": "7+05.12",
          "geometryType": "esriGeometryPoint",
          "geometry": { "x": -8479118.349, "y": 5326520.134, "m": 10.4518, "z": 5 }
        }
      ]
    }
  ]
}

```

 
