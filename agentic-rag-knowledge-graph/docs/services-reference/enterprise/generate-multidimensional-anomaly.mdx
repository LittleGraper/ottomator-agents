---
title: "Generate Multidimensional Anomaly"
description: "API reference for the Generate Multidimensional Anomaly service available in ArcGIS Enterprise."
slug: "generate-multidimensional-anomaly"
url: "/generate-multidimensional-anomaly"
guid: "GUID-CB6C82E9-CFED-4D0D-8F90-EA2895019C9A"
migratedTopicMetadata:
  FTITLE: "Generate Multidimensional Anomaly"
  FDESCRIPTION: ""
  FCHANGES: "Removing related resources re: https://devtopia.esri.com/WebGIS/arcgis-rest-api-documentation/issues/191"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "10.9 - *"
  CREATED-ON: "13/09/2022 11:45:41"
  FAUTHOR: "tohara"
  FSTATUS: "Released"
  MODIFIED-ON: "20/09/2022 11:05:59"
  VERSION: "6"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "2"
  ED: "GUID-FDC2DA99-3687-408C-99BA-4CB7079AE8D2"
  FUSERGROUP: ""
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /GenerateMultidimensionalAnomaly
  urlSegments:
    - name: <rasteranalysistools-url>
      url: /raster-analysis-tasks-overview
    - name: /GenerateMultidimensionalAnomaly
  methods: []
  sslOnly: 'no'
  versionIntroduced: '10.8'
---

import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_2DDA48A24C404781BB03BF05B81B3C19 from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_LI_2DDA48A24C404781BB03BF05B81B3C19";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_1744B5CA044F44D8ABF2E27EF9BC9A27 from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_LI_1744B5CA044F44D8ABF2E27EF9BC9A27";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_AD9814DB26DA439EA899971516D5E44D from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_LI_AD9814DB26DA439EA899971516D5E44D";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_30623A2523584FB586A882C09EA092E6 from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_LI_30623A2523584FB586A882C09EA092E6";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_48BF5CD827AF48C4A76D93B355D67718 from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_LI_48BF5CD827AF48C4A76D93B355D67718";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_7566284934CF4B3BAFE1FBAA218408CB from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_LI_7566284934CF4B3BAFE1FBAA218408CB";
import GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_56FBFBA3_C66E_404D_8D62_38D68537B266 from "./snippets/GUID-187EFF3C-6544-4421-8D1E-9DFCF76354CD/_GUID-56FBFBA3-C66E-404D-8D62-38D68537B266";
import GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_EB4A1F30_5539_4BD1_AB9D_2D4EA4603F0E from "./snippets/GUID-187EFF3C-6544-4421-8D1E-9DFCF76354CD/_GUID-EB4A1F30-5539-4BD1-AB9D-2D4EA4603F0E";
import GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_C5A064C3_43B4_400B_AA66_7C41F2A060FB from "./snippets/GUID-187EFF3C-6544-4421-8D1E-9DFCF76354CD/_GUID-C5A064C3-43B4-400B-AA66-7C41F2A060FB";
import GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_44A86E3D_176E_4BD4_A2E5_C112ED929DE9 from "./snippets/GUID-187EFF3C-6544-4421-8D1E-9DFCF76354CD/_GUID-44A86E3D-176E-4BD4-A2E5-C112ED929DE9";
import GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_ED11CCC7_40D3_4ADD_A679_A3F6964834ED from "./snippets/GUID-187EFF3C-6544-4421-8D1E-9DFCF76354CD/_GUID-ED11CCC7-40D3-4ADD-A679-A3F6964834ED";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_50D345C8_14F8_4A4A_AB1E_A6BBD19C49EF from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_GUID-50D345C8-14F8-4A4A-AB1E-A6BBD19C49EF";

## Description

![Generate Multidimensional Anomaly diagram](./images/GUID-8D54C66F-5C16-4EE5-93E9-80722D10AF12-web.png)

The `GenerateMultidimensionalAnomaly`  task is used to compute the anomaly for each slice in a multidimensional raster to generate a multidimensional raster. An anomaly is the deviation of an observation from its standard or mean value.

<Note type={"note"}>

You must license your ArcGIS Server as an ArcGIS Image Server to use this resource.

</Note>

##  Request parameters

<StyledTable headers={"Parameter,Details"}>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`inputMultidimensionalRaster` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The portal folder ID, portal item ID, image service URL, cloud multidimensional raster dataset, or shared raster dataset that will be added to the image collection. At least one type of input needs to be provided in the JSON object.

Syntax: A JSON object describes the input multidimensional raster.

```javascript
//Portal Folder ID
inputMultidimensionalRaster={"folderId": <portal folder id>}

//Portal Item ID
inputMultidimensionalRaster={"itemId": <portal item id>}

//Image Service URL
inputMultidimensionalRaster={"url": [<image service url>}

//Cloud Raster UI or Shared Data Path
inputMultidimensionalRaster={"uri": [<cloud raster uri or shared data path>}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`outputName` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Output hosted image service properties. If the hosted image service is already created, the portal item ID or service URL can be given to the service tool. The output path of the multidimensional raster dataset generated in the raster store will be used to update the existing service definition. The service tool can also generate new hosted image service with the given service properties. The output hosted image service is stored in a raster store and shared on either the Raster Analysis Image Server or Image Hosting Image Server depending on the Enterprise configuration.

Syntax: JSON object describes the output multidimensional raster. At least one type of input needs to be provided in the JSON object. If multiple inputs are given. The `itemid`  takes the priority.

<Note type={"note"}>

Set `“image, metadata”`  as image service capabilities to make sure the output image service can be recognized as multidimensional by other raster analysis tools.

</Note>

Example

```javascript
//Portal Item ID
outputName={"itemId": <portal item id>}

//Image Service URL
outputName={“url”: <image service url>}

//Cloud Raster URI or Shared Data Path
outputName={“uri”: <cloud raster uri or shared data path>}

//Service Properties
outputName={"serviceProperties": {“name”: ”predicted_water_temp”, ”capabilities”:”image, metadata”}}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`variables` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The variable or variables that will be predicted in the analysis. If no variables are specified, all variables will be used.

Syntax: Either a string representing the variables, with multiple variables separated by comma, or list containing the variables.

Example

```javascript
variables=["ceiling","cover"]
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`method` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Specifies the method that will be used to calculate the anomaly. The default value, `DIFFERENCE_FROM_MEAN` , calculates the difference between a pixel's value and the mean of that pixel's values across slices defined by the interval. To calculate the percent difference between a pixel value and the mean of that pixel's value across slices defined by the interval, `PERCENT_DIFFERENCE_FROM_MEAN`  should be selected. If `PERCENT_OF_MEAN`  is used, the percent of the mean will be calculated. With `Z_SCORE` , the z-score for each pixel will be calculated. `DIFFERENCE_FROM_MEDIAN`  calculates the difference between a pixel value and the mathematical medial of that pixel's values across slices defined by the interval. `PERCENT_DIFFERENCE_FROM_MEDIAN`  calculates the percent difference between a pixel value and the mathematical median of that pixel's values across slices defined by the interval. If `PERCENT_OF_MEDIAN`  is used, the percent of the mathematical median will be calculated.

<Note type={"note"}>

A z-score of 0 indicates the pixel's value is identical to the mean. A z-score of 1 indicates the pixel's value is 1 standard deviation from the mean. If a z-score is 2, the pixel's value is 2 standard deviations from the mean, and so on.

</Note>

Values: `DIFFERENCE_FROM_MEAN`  \| `PERCENT_DIFFERENCE_FROM_MEAN`  \| `PERCENT_OF_MEAN`  \| `Z_SCORE`  \| `DIFFERENCE_FROM_MEDIAN`  \| `PERCENT_DIFFERENCE_FROM_MEDIAN`  \| `PERCENT_OF_MEDIAN` 

Syntax: A string representing the method.

Example

```javascript
method="DIFFERENCE_FROM_MEAN"
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`calculationInterval` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Specifies the temporal interval that will be used to calculate the mean: `YEARLY`  calculates the yearly mean for each pixel; `RECURRING_MONTHLY`  calculates the monthly mean for each; `RECURRING_WEEKLY`  calculates the weekly mean; `RECURRING_DAILY`  calculates the daily mean; `HOURLY`  calculates the hourly mean; `ALL`  calculates the mean across all slices for each pixel; and `EXTERNAL_RASTER`  calculates based on an existing raster dataset that contains the mean or median value for each pixel that is referenced.

Values: `ALL`  \| `YEARLY`  \| `RECURRING_MONTHLY`  \| `RECURRING_WEEKLY`  \| `RECURRING_DAILY`  \| `HOURLY`  \| `EXTERNAL_RASTER` 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`referenceMeanRaster` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Specifies the reference raster dataset that contains a previously calculated mean for each pixel. The anomalies will be calculated in comparison to this mean. At least one type of input must be provided in the JSON object. If multiple inputs are given, the `itemId`  takes the priority.

Syntax: JSON object describes the input raster.

Example

```javascript
//Portal Item ID
{"itemId": <portal item id>}

//Image Service URL
{“url”: <image service url>}

//Cloud raster dataset or shared multidimensional raster dataset
{“uri”: <cloud raster uri or shared data path>}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`ignoreNodata` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Specifies whether `NoData`  values are ignored in the analysis. If `true` , the analysis will include all valid pixels along the time dimension and ignore any `NoData`  pixels. This is the default. If `false` , the analysis will result in `NoData`  if there are any `NoData`  values for the pixel along the time dimension.

Values: `true`  \| `false` 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`context` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Contains additional settings that affect task execution. This task has the following settings:

-   <GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_2DDA48A24C404781BB03BF05B81B3C19 />
-   <GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_1744B5CA044F44D8ABF2E27EF9BC9A27 />
-   <GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_AD9814DB26DA439EA899971516D5E44D />
-   <GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_30623A2523584FB586A882C09EA092E6 />
-   <GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_48BF5CD827AF48C4A76D93B355D67718 />
-   <GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_7566284934CF4B3BAFE1FBAA218408CB />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`f` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_56FBFBA3_C66E_404D_8D62_38D68537B266 />

<GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_EB4A1F30_5539_4BD1_AB9D_2D4EA4603F0E />

</StyledTableCell>

</StyledTableRow>

</StyledTable>

## Example usage

Below is a sample request URL for `GenerateMultidimensionalAnomaly` :

```javascript
https://machine.domain.com/webadaptor/rest/services/System/RasterAnalysisTools/GPServer/GenerateMultidimensionalAnomaly?inputMultidimensionalRaster={"itemId": "1780d648db3545bba8661ad98df824a4"}&
outputName={"serviceProperties": {"name":"watertemp_anomaly"}}&f=json
```

 

Below is a sample POST request for `GenerateMultidimensionalAnomaly` :

```javascript
POST /webadaptor/rest/services/System/RasterAnalysisTools/GPServer/GenerateMultidimensionalAnomaly HTTP/1.1
Host: machine.domain.com
Content-Type: application/x-www-form-urlencoded
Content-Length: []

inputMultidimensionalRaster={"itemId": "1780d648db3545bba8661ad98df824a4"}&outputName={"serviceProperties": {"name": "watertemp_anomaly"}}&f=json
```

 

Both of the above requests use the following parameters and values in their requests:

```javascript
inputMultidimensionalRaster={"itemId": "1780d648db3545bba8661ad98df824a4"}
outputName={"serviceProperties": {"name": "watertemp_anomaly"}}
f=json
```

 

## Response

<GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_C5A064C3_43B4_400B_AA66_7C41F2A060FB />

<GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_44A86E3D_176E_4BD4_A2E5_C112ED929DE9 />

<GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_ED11CCC7_40D3_4ADD_A679_A3F6964834ED />

```javascript
https://<rasterAnalysisTools-url>/GenerateMultidimensionalAnomaly/jobs/<jobId>
```

 

<GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_50D345C8_14F8_4A4A_AB1E_A6BBD19C49EF />

```javascript
https://<rasterAnalysisTools-url>/GenerateMultidimensionalAnomaly/jobs/<jobId>/results/result
```

 

## JSON Response example

The response returns the `results`  output parameter, which has properties for parameter name, data type, and value. The content of value is always the image service URL.

```other
{ 
  "paramName": "outputMultidimensionalRaster",
  "dataType": "GPString",
  "value": { 
    "itemId": "c267610d0feb4370bf38cc6e2c4ac261",
    "url": "https://<servername>/arcgis/rest/services/Hosted/<servicename>/ImageServer" 
  } 
}
```

 
