---
title: "Query (GPS)"
description: "The queryGPSInfo operation queries generic camera information, camera GPS locations when taking an image, image center coordinates, and exterior orientation information of each source image inside the image collection."
slug: "query-gps"
url: "/query-gps"
guid: "GUID-9BA4FDF4-4475-4128-946C-F17EB0253A3E"
migratedTopicMetadata:
  FTITLE: "Query (GPS)"
  FDESCRIPTION: ""
  FCHANGES: ""
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "11.2 - *"
  CREATED-ON: "22/08/2023 14:10:20"
  FAUTHOR: "jswain"
  FSTATUS: "Released"
  MODIFIED-ON: "27/09/2023 08:42:23"
  VERSION: "1"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "7"
  ED: "GUID-CBF7C02E-7366-4EDE-98F7-08E0244D2DE3"
  FUSERGROUP: "VUSERGROUPARCGISONLINEDOC"
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /queryGPSInfo
  urlSegments:
    - name: <imageservice-url>
      url: /image-service
    - name: /queryGPSInfo
  methods: []
  sslOnly: 'no'
  versionIntroduced: '11.2'
  requiredCapability: Image, Catalog
---

import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_436C390A_1809_43BA_9CC9_9F19A8E0C32A from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-436C390A-1809-43BA-9CC9-9F19A8E0C32A";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_9B5D5783_E386_45F7_8EA8_88843A1BB484 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-9B5D5783-E386-45F7-8EA8-88843A1BB484";

## Description

<Note type={"note"}>

You must license your ArcGIS Server as an ArcGIS Image Server to use this resource.

</Note>

The `queryGPSInfo` operation queries generic camera information, camera GPS locations when taking an image, image center coordinates, and exterior orientation information of each source image inside the image collection.

## Request parameters

<StyledTable headers={"Parameter,Details"}>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`where` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

A where clause for the query filter. Any legal SQL where clause operating on the fields in the raster catalog is allowed.

Example

```javascript
OBJECTID=4
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`objectIds` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The object IDs of the raster catalog to be queried.

Syntax

```json
objectIds=<objectId1>, <objectId2>
```

 

Example

```javascript
objectIds=37, 462
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`time` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The time instant or the time extent to query.

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_436C390A_1809_43BA_9CC9_9F19A8E0C32A />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`geometry` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The geometry to apply as the spatial filter. The structure of the geometry is the same as the structure of the [ JSON geometry objects](/geometry-objects) returned by the ArcGIS REST API. In addition to the JSON structures, for envelopes and points, you can specify the geometry with a comma-separated syntax.

Syntax

```json
//JSON structure
geometryType=<geometryType>&geometry={geometry}

//Envelope simple syntax
geometryType=esriGeometryEnvelope&geometry=<xmin>,<ymin>,<xmax>,<ymax>

//Point simple syntax
geometryType=esriGeometryPoint&geometry=<x>,<y>

```

 

Examples

```json
geometryType=esriGeometryEnvelope&geometry={xmin: -104, ymin: 35.6, xmax: -94.32, ymax: 41}

geometryType=esriGeometryEnvelope&geometry=-104,35.6,-94.32,41

geometryType=esriGeometryPoint&geometry=-104,35.6

```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`geometryType` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The type of geometry specified by the `geometry`  parameter. The geometry type can be envelope, point, line, or polygon. The default geometry type is envelope.

Values: `esriGeometryPoint` \| `esriGeometryMultipoint` \| `esriGeometryPolyline` \| `esriGeometryPolygon` \| `esriGeometryEnvelope` 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`inSR` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The spatial reference of the input `geometry` . The spatial reference can be specified as either a well-known ID or as a [ spatial reference JSON object](/geometry-objects). If `inSR` is not specified, the `geometry` is assumed to be in the spatial reference of the service.

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`spatialRel` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The spatial relationship to be applied to the input geometry while performing the query. The supported spatial relationships include intersects, contains, envelope intersects, within, and so on. The default spatial relationship is intersects (`esriSpatialRelIntersects` ).

Values: `esriSpatialRelIntersects` \| `esriSpatialRelContains` \| `esriSpatialRelCrosses` \| `esriSpatialRelEnvelopeIntersects` \| `esriSpatialRelIndexIntersects` \| `esriSpatialRelOverlaps` \| `esriSpatialRelTouches` \| `esriSpatialRelWithin` 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`f` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_9B5D5783_E386_45F7_8EA8_88843A1BB484 />

Values: `html` \| `json` \| `pjson` 

</StyledTableCell>

</StyledTableRow>

</StyledTable>

## Example usage:

The following is a sample request URL for the `queryGPSInfo` operation that queries GPS info of images within an envelope geometry and intersect spatial relationship:

```javascript
https://machine.domain.com/webadaptor/rest/services/<myImageService>/ImageServer/queryGPSInfo?where=&objectIds=&time=&geometry=556126,5797274.90245,556136.2815,5797277.53225&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&f=html
```

 

## JSON Response syntax

```json
{
  "images": [
    {
      "id": <objectId>,
      "name": <value>,
      "acquisitionDate": <time>, //epoch time in millisecond
      "cameraID": <value>,
      "center": <centerPoint>
    },
    "gps": {
      "longitude": <long>, //number
      "latitude": <long>, //number
      "altitude": <long>, //number
    },
    "orientation": {
      "omega": <long>, //number
      "phi": <long>, //number
      "kappa": <long>, //number
      "clockwise": <Boolean>
    }
  ],
  "cameras": [
    {
      "id": <value>,
      "make": <value>,
      "model": <value>,
      "focalLength": <long>, //number
      "pixelSize": <long>, //number
      "rows": <Int>, //number
      "cols": <Int> //number
    }
  ]
}
```

 

## JSON Response example:

```json
{
  "images": [
    {
      "id": 1,
      "name": "YUN_0040.JPG",
      "acquisitionDate": 1523734269000,
      "cameraID": "",
      "center": {
        "x": 491434.5802625127,
        "y": 3762935.5282063205,
        "z": 632.6398,
        "spatialReference": {
          "wkid": 32611,
          "latestWkid": 32611,
          "vcsWkid": 115700,
          "latestVcsWkid": 115700
        }
      },
      "gps": {
        "longitude": -117.09277149140543,
        "latitude": 34.006982330586474,
        "altitude": 723.6317
      },
      "orientation": {
        "omega": -0.6266054665331874,
        "phi": 0.893056022089954,
        "kappa": 84.03969395638119,
        "clockwise": true
      }
    }
  ],
  "cameras": [
    {
      "id": "",
      "make": "Yuneec",
      "model": "E90",
      "focalLength": 7.995892,
      "pixelSize": 0.0024,
      "rows": 3648,
      "cols": 5472
    }
  ]
}
```

 
