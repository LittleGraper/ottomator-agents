---
title: "Classify Pixels Using Deep Learning"
description: "API reference for the Classify Pixels Using Deep Learning operation available in ArcGIS Enterprise."
slug: "classify-pixels-using-deep-learning"
url: "/classify-pixels-using-deep-learning"
guid: "GUID-E7E0A18C-5BE9-453A-A1F4-5795821882E3"
migratedTopicMetadata:
  FTITLE: "Classify Pixels Using Deep Learning:"
  FDESCRIPTION: ""
  FCHANGES: "Added additional conrefs for the missing environment settings  per issue  11636"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "10.9 - *"
  CREATED-ON: "26/07/2022 07:18:28"
  FAUTHOR: "jswain"
  FSTATUS: "Released"
  MODIFIED-ON: "08/11/2022 12:47:41"
  VERSION: "5"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "7"
  ED: "GUID-B34C5899-601C-4293-99BB-F7F16AC615BE"
  FUSERGROUP: ""
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /ClassifyPixelsUsingDeepLearning
  urlSegments:
    - name: <rasteranalysistools-url>
      url: /raster-analysis-tasks-overview
    - name: /ClassifyPixelsUsingDeepLearning
  methods: []
  sslOnly: 'no'
  versionIntroduced: '10.7'
---

import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_1744B5CA044F44D8ABF2E27EF9BC9A27 from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_LI_1744B5CA044F44D8ABF2E27EF9BC9A27";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_AD9814DB26DA439EA899971516D5E44D from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_LI_AD9814DB26DA439EA899971516D5E44D";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_7566284934CF4B3BAFE1FBAA218408CB from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_LI_7566284934CF4B3BAFE1FBAA218408CB";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_2DDA48A24C404781BB03BF05B81B3C19 from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_LI_2DDA48A24C404781BB03BF05B81B3C19";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_CE9516B4F2CC486AB1D7309DCF46BB60 from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_LI_CE9516B4F2CC486AB1D7309DCF46BB60";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_30623A2523584FB586A882C09EA092E6 from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_LI_30623A2523584FB586A882C09EA092E6";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_1702083F_151C_4A0C_AF36_0D0DD9E2563A from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_GUID-1702083F-151C-4A0C-AF36-0D0DD9E2563A";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_4B398B66_01FD_40FB_9AEE_30371F0A8CD8 from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_GUID-4B398B66-01FD-40FB-9AEE-30371F0A8CD8";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_ED11CCC7_40D3_4ADD_A679_A3F6964834ED from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_GUID-ED11CCC7-40D3-4ADD-A679-A3F6964834ED";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_50D345C8_14F8_4A4A_AB1E_A6BBD19C49EF from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_GUID-50D345C8-14F8-4A4A-AB1E-A6BBD19C49EF";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_BE7ABD4B_F8F1_432E_B5A0_24BB5108EBF7 from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_GUID-BE7ABD4B-F8F1-432E-B5A0-24BB5108EBF7";

## Description

![Classify Pixels Using Deep Learning diagram](./images/GUID-88BE63A6-B06C-4C61-9AB1-8DA5A08C6783-web.png)

The `ClassifyPixelsUsingDeepLearning`  operation can be used to classify pixels in the imagery data using the designated deep learning model and generate an image service for the classified raster. 

##  Request parameters

<StyledTable headers={"Parameter,Details"}>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`inputRaster` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The image that will be classified. This can be specified as the portal item ID, image service URL, cloud raster dataset, shared raster dataset, or raster dataset or image collection in the data store. At least one type of input must be provided in the JSON object. If multiple inputs are provided, the `itemId`  value takes priority.

Syntax: A JSON object describes the input raster.

Example:

```javascript
//Portal Item ID
inputRaster={"itemId": <portal item id>}

//Image Service URL
inputRaster={"url": <image service url>}

//Cloud raster or shared data path URI
inputRaster={"uri": <cloud raster uri or shared data path>}

//Service Properties
inputRaster={"serviceProperties":{"name":"testrasteranalysis",
  "serviceUrl":"https://<server name>/server/rest/services/Hosted/testrasteranalysis/ImageServer"},
  "itemProperties":{"itemId":"8cfbd3ec25584d0d8f4ed23b8ff7c43b", "folderId":"sdfwerfbd3ec25584d0d8f4"}}

//Data store URI
inputRaster={"uri":"/rasterStores/rasterstorename/A/B/C"}
or
inputRaster={"uri":"/fileShares/filesharedatastorename/A/B/C"}
or
inputRaster={"uri":"/cloudStores/cloudstorename/A/B/C"}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`outputClassifedRaster` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The output hosted image service properties. If the hosted image service is an existing service, the portal item ID or service URL can be used for the service tool. The output path of the raster dataset generated in the raster store will be used to update the existing service definition. The service tool can also generate a new hosted image service with the given service properties.

The output hosted image service is stored in the raster store and shared on either the raster analysis image server or image hosting image server, depending on the enterprise configuration.

If the `inputRaster`  is an image collection in the data store or a mosaic dataset, and `processAllRasterItems`  is set to `true` , the output hosted image service is created from all classified rasters.

Syntax: A JSON object describes the output image service.

Example

```javascript
//Portal Item ID
outputClassifiedRaster={"itemId": <portal item id>}

//Image Service URL
outputClassifiedRaster={"url": <image service url}

//Cloud raster or shared data path URI
outputClassifiedRaster={"uri": <cloud raster uri or shared data path>}

//Service Properties
{"serviceProperties":{"name":"testrasteranalysis",
  "serviceUrl":"https://<server name>/server/rest/services/Hosted/testrasteranalysis/ImageServer"},
  "itemProperties":{"itemId":"8cfbd3ec25584d0d8f4ed23b8ff7c43b", "folderId":"sdfwerfbd3ec25584d0d8f4"}}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`model` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The deep learning model to use to classify objects. This can be specified as the deep learning model portal item ID, as an `.emd`  or `.dlpk`  file, or as the entire JSON string of the model definition.

Syntax: A JSON object describes the model.

Example:

```javascript
//Portal Item
model={"itemId": "x2u130909jcvojzkeeraedf"}
model={"url": "https://<portal name>/portal/sharing/rest/content/items/x2u130909jcvojzkeeraedf"}

//.emd or .dlpk file
model={"uri": "\\\\sharedstorage\\sharefolder\\LandcoverClassification.emd"}
model={"uri": "\\\\sharedstorage\\sharefolder\\LandcoverClassification.dlpk"}
model={"uri": "/rasterStores/rasterstorename/A/B/LandcoverClassification.emd"}
model={"uri": "/rasterStores/rasterstorename/A/B/LandcoverClassification.dlpk"}

//.emd or .dlpk file stored in raster store with file share type
model = {"uri": "/fileShares/filesharedatastorename/A/B/ClassifyHouseDamage.emd"}
model={"uri": "/fileShares/filesharedatastorename/A/B/model.dlpk"}

```

 

Example for JSON:

```javascript
{"Framework": "TensorFlow","ModelConfiguration": "DeepLab","ModelFile":"frozen_inference_graph.pb","ModelType":"ImageClassification","ImageHeight":513,"ImageWidth":513,"ExtractBands":[0,1,2],"Classes":[{"Value": 0,"Name": "Evergreen Forest","Color": [0, 51, 0]},{"Value": 1,"Name": "Grassland/Herbaceous","Color": [241, 185, 137]},{"Value": 2,"Name": "Bare Land","Color": [236, 236, 0]},{"Value": 3,"Name": "Open Water","Color": [0, 0, 117]},{"Value": 4,"Name": "Scrub/Shrub","Color": [102, 102, 0]},{"Value": 5,"Name": "Impervious Surface","Color": [236, 236, 236]}]}

```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`modelArguments` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The name value pairs of arguments and their values that can be customized by the clients.

Syntax: A JSON object describes the value pairs of arguments.

Example:

```javascript
modelArguments={"name1": "value1", "name2": "value2"}

```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`processAllRasterItems` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Specifies how all raster items in an image service will be processed. If set to `true` , all raster items in the image service will be processed as separate images. If set to `false` , all raster items in the image service will be mosaicked together and processed. This is the default.

Values: `true`  \| `false` 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`context` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Contains additional settings that affect task execution.

This parameter has the following settings:

-   <GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_1744B5CA044F44D8ABF2E27EF9BC9A27 />
-   <GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_AD9814DB26DA439EA899971516D5E44D />
-   <GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_7566284934CF4B3BAFE1FBAA218408CB />
-   <GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_2DDA48A24C404781BB03BF05B81B3C19 />
-   <GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_CE9516B4F2CC486AB1D7309DCF46BB60 />
-   [Recycle Interval Of Processing Workers ](https://pro.arcgis.com/en/pro-app/latest/tool-reference/environment-settings/recycle-interval-of-processing-workers.htm)(`recycleProcessingWorker` )—The number of image sections to be processed before stopping the process and starting new worker processes.
-   <GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_30623A2523584FB586A882C09EA092E6 />
-   [Number of Retries On Failures](https://pro.arcgis.com/en/pro-app/latest/tool-reference/environment-settings/number-of-retries-on-failures.htm)(`retryOnFailures` )—The number of retries that will be attempted when a worker process fails.

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`f` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The response format. The default response format is `html` .

Values: `html`  \| `json` 

</StyledTableCell>

</StyledTableRow>

</StyledTable>

## Response

<GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_1702083F_151C_4A0C_AF36_0D0DD9E2563A />

<GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_4B398B66_01FD_40FB_9AEE_30371F0A8CD8 />

<GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_ED11CCC7_40D3_4ADD_A679_A3F6964834ED />

```javascript
https://<raster analysis tools url>/ClassifyPixelsUsingDeepLearning/jobs/<jobId>
```

 

<GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_50D345C8_14F8_4A4A_AB1E_A6BBD19C49EF />

```javascript
https://<raster analysis url>/ClassifyPixelsUsingDeepLearning/jobs/<jobId>/results/outRaster
```

 

## Example usage

A sample request URL for `ClassifyPixelsUsingDeepLearning`  is below.

```javascript
https://services.myserver.com/arcgis/rest/services/System/RasterAnalysisTools/GPServer/ClassifyPixelsUsingDeepLearning
```

 

## JSON Response example

The response returns the `outRaster`  output parameter, which has properties for parameter name, data type, and value. The content of the value is always the output raster dataset and image service URL.

<GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_BE7ABD4B_F8F1_432E_B5A0_24BB5108EBF7 />
