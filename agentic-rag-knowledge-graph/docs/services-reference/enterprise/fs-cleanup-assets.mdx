---
title: "Cleanup Assets (Feature Service/Layer)"
description: "The cleanupAssets  operation cleans unused assets and reclaims space."
slug: "fs-cleanup-assets"
url: "/fs-cleanup-assets"
guid: "GUID-A7A7810F-72F8-48AD-B85D-28DE6A9CD060"
migratedTopicMetadata:
  FTITLE: "FS Cleanup Assets"
  FDESCRIPTION: ""
  FCHANGES: "New topic at 11.1"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "11.1-*"
  CREATED-ON: "01/02/2023 15:58:15"
  FAUTHOR: "sscott"
  FSTATUS: "Released"
  MODIFIED-ON: "28/09/2023 12:11:55"
  VERSION: "1"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "10"
  ED: "GUID-21A522E0-A85D-46D2-87BF-99308AFEABA3"
  FUSERGROUP: "VUSERGROUPARCGISONLINEDOC"
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /<serviceName>/FeatureServer/<layerId>/cleanupAssets
  urlSegments:
    - name: <root>
      url: /catalog
    - name: /<serviceName>/FeatureServer/<layerId>/cleanupAssets
  methods: []
  sslOnly: 'no'
  versionIntroduced: '11.1'
  requiredCapability: Admin privileges
---

## Description

The `cleanupAssets`  operation cleans unused assets and reclaims space. As assets are never deleted, they may become unnecessary when the asset map is updated. When an asset map updates, it deletes the last reference from the asset map to a specific asset.

<Note type={"note"}>

A user-configurable, periodic task similar to the Directory Cleaner administrator plug-in will perform frequent asset cleanup. As such, the `cleanupAssets`  operation should not need to be invoked on a regular basis.

</Note>

Unused assets can be purposefully created using the `uploadAssets`  operation. These assets would be added to the asset map at a later time with an `applyEdits`  request. To avoid deleting these assets, the `cleanupAssets`  operation can be used to set a retention period. The retention period limits asset deletion to assets that are older than the specified period, preserving assets that do not exceed the retention period.

##  Request parameters

<StyledTable headers={"Parameter,Details"}>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`retentionPeriod` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

A numerical value representing the retention period. Only unused assets older than this value are deleted.

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`retentionPeriodUnit` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Specifies the units of the retention period.

Values: `days`  \| `hours`  \| `minutes`  \| `seconds` 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`f` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The response format. The default response format is `html` .

Values: `html`  \| `json`  \| `pjson` 

</StyledTableCell>

</StyledTableRow>

</StyledTable>

## Example usage

The following is a sample request URL used to access the `cleanupAssets`  endpoint:

```javascript
https://machine.domain.com/webadaptor/rest/services/City_Park_Assets/FeatureServer/0/cleanupAssets
```

 

## JSON Response syntax

```other
{
  "success": "<true | false>",
  "error": {"code": <error code>, "description": "<error description>"}   
}

```

 

## JSON Response example

```other
{
  "success": "true"
}

```

 
