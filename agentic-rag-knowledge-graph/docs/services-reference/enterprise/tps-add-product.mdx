---
title: "Add Product"
uid: tps-add-product
description: "The addProduct operation adds a definition of a map product to the Topographic Production Service resource that can be used to generate a map."
slug: "tps-add-product"
url: "/tps-add-product"
guid: "GUID-ECAF6130-D283-4A80-84C2-D0B5B2F16160"
migratedTopicMetadata:
  FTITLE: "TPS Add Product"
  FDESCRIPTION: ""
  FCHANGES: "reverting decision to hide more of the JSON (#2928)"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "11.2 - *"
  CREATED-ON: "14/11/2023 12:28:10"
  FAUTHOR: "jaguirre"
  FSTATUS: "Released"
  MODIFIED-ON: "21/12/2023 13:34:36"
  VERSION: "5"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "11"
  ED: "GUID-FF8F58DE-D973-4719-A8D2-8FB023B59A02"
  FUSERGROUP: ""
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /<serviceName>/TopographicProductionServer/addProduct
  urlSegments:
    - name: <root>
      url: /catalog
    - name: /<serviceName>/TopographicProductionServer/addProduct
  methods:
    - post
  sslOnly: 'no'
  versionIntroduced: '10.9'
  relatedResources:
    - name: Generate Product
      url: /tps-generate-product
    - name: Remove Product
      url: /tps-remove-product
    - name: Update Product
      url: /tps-update-product
  requiredCapability: Requires an ArcGIS GIS Server Advanced license and a Production Mapping or Defense Mapping server extension license
---

import GUID_0388E43D_C641_4E66_97EE_5C4E932EE3BA_GUID_2680DD44_F03A_444C_86E1_1624AF34BD55 from "./snippets/GUID-0388E43D-C641-4E66-97EE-5C4E932EE3BA/_GUID-2680DD44-F03A-444C-86E1-1624AF34BD55";
import GUID_0388E43D_C641_4E66_97EE_5C4E932EE3BA_GUID_BD0C4EE0_7864_4DD3_9692_AAED8631CB88 from "./snippets/GUID-0388E43D-C641-4E66-97EE-5C4E932EE3BA/_GUID-BD0C4EE0-7864-4DD3-9692-AAED8631CB88";
import GUID_0388E43D_C641_4E66_97EE_5C4E932EE3BA_GUID_65CB945B_3B13_4E4F_A845_64316D75C206 from "./snippets/GUID-0388E43D-C641-4E66-97EE-5C4E932EE3BA/_GUID-65CB945B-3B13-4E4F-A845-64316D75C206";
import GUID_0388E43D_C641_4E66_97EE_5C4E932EE3BA_GUID_BA4E48E6_74EB_4AC7_9327_0229D4E7ECF5 from "./snippets/GUID-0388E43D-C641-4E66-97EE-5C4E932EE3BA/_GUID-BA4E48E6-74EB-4AC7-9327-0229D4E7ECF5";
import GUID_0388E43D_C641_4E66_97EE_5C4E932EE3BA_GUID_A18FB935_347D_4950_9B14_B965925BD472 from "./snippets/GUID-0388E43D-C641-4E66-97EE-5C4E932EE3BA/_GUID-A18FB935-347D-4950-9B14-B965925BD472";

## Description

<!--Licensing note (first snippet per GUID), now covered with required capability in YAML above
<Note type={"note"}>
<GUID_0388E43D_C641_4E66_97EE_5C4E932EE3BA_GUID_2680DD44_F03A_444C_86E1_1624AF34BD55 />
</Note>
-->
The `addProduct` operation adds a definition of a map product to the Topographic Production Service resource that can be used to generate a map.

## Request parameters

<StyledTable headers={"Parameter,Details"}>
	<StyledTableRow>
		<StyledTableCell cellStyle="markdown">
			`productDefinition`
			<GUID_0388E43D_C641_4E66_97EE_5C4E932EE3BA_GUID_BD0C4EE0_7864_4DD3_9692_AAED8631CB88 />
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			The JSON definition of a map product.
		</StyledTableCell>
	</StyledTableRow>
	<StyledTableRow>
		<StyledTableCell cellStyle="markdown">
			`raster`
			<GUID_0388E43D_C641_4E66_97EE_5C4E932EE3BA_GUID_65CB945B_3B13_4E4F_A845_64316D75C206 />
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			<GUID_0388E43D_C641_4E66_97EE_5C4E932EE3BA_GUID_BA4E48E6_74EB_4AC7_9327_0229D4E7ECF5 />
		</StyledTableCell>
	</StyledTableRow>
	<StyledTableRow>
		<StyledTableCell cellStyle="markdown">
			`ancillaryLayers`
			<GUID_0388E43D_C641_4E66_97EE_5C4E932EE3BA_GUID_65CB945B_3B13_4E4F_A845_64316D75C206 />
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			A JSON array of additional layers to include in the final product.
			Syntax:
				```json
				[
					{
						"layer": "<URL of the layer>",
						"featureClass": "<name of the feature class to extract to>",
						"map": "<name of the map the layer will be inserted into>",
						"layerIndex": "<insertion index of the layer>"
					},
					...
				]
				```
			<Note>
			<GUID_0388E43D_C641_4E66_97EE_5C4E932EE3BA_GUID_A18FB935_347D_4950_9B14_B965925BD472 />
			</Note>
			<!-- "This parameter supports services located in the same portal site sas the server object extension (SOE) or services that are publicly available. ..." -->
		</StyledTableCell>
	</StyledTableRow>
</StyledTable>

## productDefinition properties

The following table provides additional details about each property in the JSON of a map product definition. This definition is specified in the `productDefinition` parameter:

<StyledTable headers={"Property,Details"}>
	<StyledTableRow>
		<StyledTableCell cellStyle="markdown">
			`version`
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			Indicates the serialization version, currently at version 0.
		</StyledTableCell>
	</StyledTableRow>
	<StyledTableRow>
		<StyledTableCell cellStyle="markdown">
			`name`
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			The name of the product. It must be unique in the map service.
		</StyledTableCell>
	</StyledTableRow>
	<StyledTableRow>
		<StyledTableCell cellStyle="markdown">
			`type`
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			Indicates the product type. Accepted values include `MTM`, `TM`, `JOG`, `CTM`, and `Custom` .
		</StyledTableCell>
	</StyledTableRow>
	<StyledTableRow>
		<StyledTableCell cellStyle="markdown">
			`gridType`
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			Indicates the type of grid XML to use when running grid operations. 
			
			This must match the first part of the .xml file's name. For example, if the .xml file is titled `USTopo24_BaseMap.xml`, then the `gridType` value must be `USTopo24`.
			
			The .xml files must also be in a folder named GridTemplates that is located where the product files are installed.
		</StyledTableCell>
	</StyledTableRow>
	<StyledTableRow>
		<StyledTableCell cellStyle="markdown">
			`description`
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			Describes the type of map product being produced.
		</StyledTableCell>
	</StyledTableRow>
	<StyledTableRow>
		<StyledTableCell cellStyle="markdown">
			`sheetIDField`
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			The field name that identifies the area of interest (AOI) for which the product is generated. This must be a field that exists on the features used to define the AOI.
		</StyledTableCell>
	</StyledTableRow>
	<StyledTableRow>
		<StyledTableCell cellStyle="markdown">
			`productVersions`
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			An array of versions for this product. A version is a JSON with two properties, `name` and `template` .
			The template can be a path to a local layout template or the file name of a template installed with the ArcGIS Defense Mapping or ArcGIS Production Mapping server extension product files.
			Starting at ArcGIS Enterprise 11.2, the following properties can be applied:
			- `extractionDatabase` —Overwrites the `extractionDatabase` value at the map product level.
			- `operationOverrides` —Overwrites the values in the `parameters` key-value pairs for the operation with the specified ID.
			- `excludedOperations` —Excludes the operations associated with the specified IDs.
			The following example includes three product versions: TRD_4_5, TRD_4_5_1, and TRD_4_6. The TRD_4_5 product version shows `operationOverrides` and `excludedOperations` available at Enterprise11.2:

			```json
			"productVersions": [
				{
					"name": "TRD_4_5",
					"template": "MTM50_Layout.pagx"
					"extractionDatabase": "",
					"operationOverrides": [
						{
							"id": "26C62049-A11F-4D5B-BC80-00CF3597555C",
							"parameters": [
								{
									"name": "input_map",
									"value": "Map"
								},
							]
						},
					]
					"excludedOperations": [
						"45B62049-A11F-4D5B-BC80-00CF3597555C",
						...
					]
				},
				{
					"name": "TRD_4_5_1",
					"template": "MTM50_Layout.pagx"
				},
				{
					"name": "TRD_4_6",
					"template": "MTM50_Layout.pagx"
				}
			]
			```
		</StyledTableCell>
	</StyledTableRow>
	<StyledTableRow>
		<StyledTableCell cellStyle="markdown">
			`resources`
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			Resources are defined with three key-value pairs: `name`, `type`, and `value` . The `operations` parameter uses the defined resources at run time.
			The following is a list of available resources:
			- `1`—The Value resource returns values that are set in the map product JSON. It allows defined values to be referenced in multiple operations.
			- `2`—The Layer resource returns details about a layer.
			- `3`—The Workspace resource returns the path to a dataset.
			- `4`—The GridLocator resource returns the path to a grid XML for a specified map using the AOI when the map product is created.
			- `6`—The Layout resource returns details about a layout.
			- `7`—The ProductFiles resource returns the path to a file in the installed product files. It works with custom product files and the file name must be unique across installed product files.
			- `9`—The JobResource resource returns details about a job that is currently running.
			- `10`—The PackageResource resource returns details about how an output is packaged.


			To use a resource, place brackets around its name. In the following example, the resource `SheetID` is defined, and the `LayerProperties` operation has a parameter named `definition_query` with the value set to `NRN = '[SheetID]'` . At runtime, `[SheetID]` is replaced with the Sheet Identifier of the map being generated.

			```json
			{
			  "resources": [
			    {
			      "name": "SheetID",
			      "type": 1,
			      "value": ""
			    },
			    ...
			  ],
			  "operations": [
			    {
			      "name": "LayerProperties",
			      "type": 12,
			      "description": "Update Layer in Map",
			      "parameters": [
			        {
			          "name": "in_layer",
			          "value": "ASG_Layer"
			        },
			        {
			          "name": "definition_query",
			          "value": "NRN = '[SheetID]'"
			        },
			        ...
			      ]
			    }
			  ]
			}
			```
			These are predefined resources known to the server object extension (SOE). The values of these resources are left blank in the JSON definition and the SOE sets the value at runtime. For example, the `SourceWorkspace` resource is set at runtime with the data from the map service. You can review map product definitions included with the [Defense Mapping](https://pro.arcgis.com/en/pro-app/latest/help/production/defense-mapping/download-and-install-product-files.htm) or [Production Mapping](https://pro.arcgis.com/en/pro-app/latest/help/production/production-mapping/download-and-install-product-files.htm) product files for examples of how resources are used.
			<br />
			[Learn more about resource types](/tps-add-product#types-of-resources)
		</StyledTableCell>
	</StyledTableRow>
	<StyledTableRow>
		<StyledTableCell cellStyle="markdown">
			`dataExtraction`
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			Defines how the data will be extracted. The following JSON provides additional details about the syntax of a data extraction operation:

			```json
			{
			  "name": "<name the operation>",
			  "type": 19,
			  "id": "<GUID or unique string>",
			  "description": "",
			  "featureDataset": "<optional name of the feature dataset to which the data is extracted>",
			  "disabled": <true | false>,
			  "parameters": [
			    {
			      "name": "input_data",
			      "value": "<file path to workspace connection | product file | feature service URL |
				  			map service URL | raster service URL>"
			    },
			    {
			      "name": "AOI",
			      "value": "<the string representation of an extent (space delimited) | JSON geometry | None>"
			    },
			    {
			      "name": "spatial_relationship",
			      "value": "<...>"
			    },
			    {
			      "name": "buffer",
			      "value": "<the buffer value and unit of measurement>"
			    },
			    {
			      "name": "fileName",
			      "value": "<the name of the raster file that gets extracted>"
			    },
				{
				  "name": "fileExtension",
				  "value": "<the extension for the raster format that the final output should be in>"
				},
			    {
			      "name": "definitionQuery",
			      "value": "<a valid Where clause for all of the tables in the input_data parameter value>"
			    },
			    {
			      "name": "includeDatasets",
			      "value": "<a comma-delimited list of datasets to extract>"
			    },
			    {
			      "name": "excludeDatasets",
			      "value": "<a comma-delimited list of datasets to exclude from extraction>"
			    }
			  ]
			}
			```
			<Note>
			<br />
			- For `featureDataset`, the default is the feature dataset defined for the product. If the name does not exist in the cartography database that is used as a starting schema for a job, then the feature dataset name must exist in the source.
			- Extraction is skipped if the value for `disabled` is `false` .
			- If the `AOI` parameter value is `None`, then no AOI is used to filter the data that is extracted.
			- The `spatial_relationship` parameter value must be a string that matches the enumeration value in `esriSpatialRelEnum` . The `esriSpatialRelRelation` value is not supported.
			- The `fileName` parameter can only be used when extracting a raster.
			- The `fileExtension` parameter can only be used when extracting a raster and supports the following formats:
				- `.dat`
				- `.dt2`
				- `.img`
				- `.jp2`
				- `.tif`
				- `.mrf`
				- `.crf`

				Formats that don't support the pixel type to store elevation values, such as `.jpg` and `.png`, and other unsupported formats will error out during extraction. If the `fileExtension` parameter is missing, extracted digital elevation models (DEMs) and image service rasters will default to `.img`, while `.dt2` and `.tif` extractions default to the file format of the input raster. If multiple `.dt2` files are created, a parent folder is created to contain them.
			- The optional `includeDatasets` and `excludeDatasets` parameters cannot be combined. Use one or the other.
			- A `rasterFunction` parameter can be added to process [a configured raster function template](https://developers.arcgis.com/documentation/spatial-analysis-services/raster-analysis/raster-functions/overview-raster-functions/) after the raster is extracted. This parameter is not in the map product definition included with the product files and cannot be used when extracting a map or data.
			
			```javascript
			{
				"name": "rasterFunction",
				"value": "<name of the configured raster function template>"
			}
			```
			
			</Note>

			The following dataExtraction operation example extracts a raster:

			```json
			{
			  "name": "RasterDataset",
			  "type": 19,
			  "id": "RasterDataset",
			  "description": "Raster Dataset Extract",
			  "disabled": "false",
			  "parameters": [
				{
					"name": "input_data",
					"value": "[ProductFiles]\\Elevation.gdb\\DEM"
				}
				{
					"name": "AOI",
					"value": "[AOILayer]\\Extent"
				}
				{
					"name": "buffer",
					"value": "2 kilometers"
				}
				{
					"name": "fileName",
					"value": "MyRaster"
				},
				{
					"name": "fileExtension",
					"value": ".tif"
				},
				{
					"name": "spatial_relationship",
					"value": "esriSpatialRelIntersects"
				}
				{
					"name": "DefinitionQuery",
					"value": ""
				}
				{
					"name": "includeDatasets",
					"value": ""
				}
				{
					"name": "excludeDatasets",
					"value": ""
				}
				]
			}
			```
			<Note>
			There are two default `dataExtraction` operations. The first, `defaultMapExtraction`, extracts map service layers, while the other, `defaultRasterExtraction`, extracts a raster, if one is defined. The names `defaultMapExtraction` and `defaultRasterExtraction` are reserved for these default extraction operations. The following parameters for the two default operations can be modified:

			- `AOI`
			- `buffer`
			- `fileName`
			- `fileExtension`
			- `definitionQuery`
			- `includeDatasets`
			- `excludeDatasets`
			- `disabled`
			
			</Note>
		</StyledTableCell>
	</StyledTableRow>
	<StyledTableRow>
		<StyledTableCell cellStyle="markdown">
			`operations`
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			An operation is typically a geoprocessing operation, but there are also other types of operations. Operation types are predefined by the app so that it can optimize the order in which the operations are performed. The following is a list of available types:
			- `1`—A custom operation that allows custom geoprocessing script tools to be run.
			- `2`—The ASG operation creates adjoining sheets guide data.
			- `3`—The EGB operation creates elevation guide band data.
			- `4`—The Grid operation creates grids for a map.
			- `5`—The PMI operation populates map sheet information.
			- `6`—The Anno operation converts labels to annotations.
			- `7`—The CreateMask operation creates polygon masks for features.
			- `8`—The ApplyMask operation applies layer masking properties to a map.
			- `9`—The Contours operation creates contour features.
			- `10`—The FeatureOffset operation applies offsets to features.
			- `11`—The MapResource operation updates data sources in the map.
			- `12`—The LayerProperties operation sets map layer properties.
			- `20`—The SelectionOperation operation uses an expression to select features to which a list of field-value pairs are applied.

			An operation is defined with the following syntax:

			```json
			{
			  "name": "<the name of the operation>",
			  "type": <the value indicating the type of operation>,
			  "description": "<the string describing the operation>",
			  "parameters": [
			    {
			      "name": "<name of operation>",
			      "value": "<value of parameter>"
			    }
			  ]
			}
			```
			Example MapResource operation:

			```json
			{
			  "name": "MapResource",
			  "type": 11,
			  "description": "Update BaseMap DataSources",
			  "parameters": [
			    {
			      "name": "in_map",
			      "value": "BaseMap"
			    }
			  ]
			}
			```
			Refer to the map product definitions in the [Defense Mapping product files](https://pro.arcgis.com/en/pro-app/latest/help/production/defense-mapping/download-and-install-product-files.htm) to learn more about how operations are used.
		</StyledTableCell>
	</StyledTableRow>
	<StyledTableRow>
		<StyledTableCell cellStyle="markdown">
			`postProcessing`
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			A JSON array of custom operations that are run after files for a map product have been created.
		</StyledTableCell>
	</StyledTableRow>
	<StyledTableRow>
		<StyledTableCell cellStyle="markdown">
			`outputPackage`
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			Defines the structure for the zipped file that is exported.
		</StyledTableCell>
	</StyledTableRow>
</StyledTable>

## Types of resources
The following table provides more details about the types of resources:
<StyledTable headers={"Resource,Type,Syntax,Details"}>
	<StyledTableRow>
		<StyledTableCell cellStyle="markdown">
			Value
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			1
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			`[<ResourceName>]`
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			Returns the value defined in the resource.
		</StyledTableCell>
	</StyledTableRow>
	<StyledTableRow>
		<StyledTableCell cellStyle="markdown">
			Layer
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			2
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			`[<ResourceName>]\\Name`
			<br />
			`[<ResourceName>]\\Uri`
			<br />
			`[<ResourceName>]\\Extent`
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			Returns the layer's name.
			<br />
			Returns the Cartographic Information Model (CIM) path to the layer.
			<br />
			Returns a string that represents the extent of the layer.
		</StyledTableCell>
	</StyledTableRow>
	<StyledTableRow>
		<StyledTableCell cellStyle="markdown">
			Workspace
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			3
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			`[<ResourceName>]\\<DatasetName>`
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			The path to a dataset that this resource returns can be a table, feature class, or feature dataset.
		</StyledTableCell>
	</StyledTableRow>
	<StyledTableRow>
		<StyledTableCell cellStyle="markdown">
			GridLocator
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			4
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			`[<ResourceName>]\\<MapName>`
			<br />
			`[<ResourceName>]\\<MapName>\\Transformation\\<name of transformation>`
			<br />
			`[<ResourceName>]\\<MapName>\\Transformation\\Log`
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			Returns the path to the appropriate grid `.xml` file in the product data files given the map name and AOI of the map product to create.
			
			Changes the projection of the AOI to WGS 84 GCS to avoid errors that can occur when the AOI is adjacent to the edge of a Universal Transverse Mercator (UTM) zone and a projection other than WGS 84 GCS is used.
			<br/>
			Provides log information about each transformation available for the given AOI so that you can identify which transformation to use.
			<br />
			<Note type={"note"}>
			The `GridType` value in the log information should inform you which transformation to use.
			
			Zipper/Left/Right—AOI is across two UTM zones<br />
			Dual—AOI is in one zone but within a certain distance of another<br />
			Single—AOI is in one zone and not within a certain distance of another<br />
			<br />
			</Note>
		</StyledTableCell>
	</StyledTableRow>
	<StyledTableRow>
		<StyledTableCell cellStyle="markdown">
			Layout
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			6
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			`[<ResourceName>]\\Name`
			<br />
			`[<ResourceName>]\\Uri`
			<br />
			`[<ResourceName>]\\Name`
			<br />
			`[<ResourceName>]\\<MapName>\\Uri`
			<br />
			`[<ResourceName>]\\<MapName>\\ReferenceScale`
			<br />
			`[<ResourceName>]\\<MapName>\\Extent`
			<br />
			`[<ResourceName>]\\<MapName>\\SpatialReference`
			<br />
			`[<ResourceName>]\\<MapName>\\<LayerName>\\Uri`
			<br />
			`[<ResourceName>]\\<MapName>\\<LayerName>\\Extent`
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			Returns the layout's name.
			<br />
			Returns the CIM path to the layout.
			<br />
			Returns the layer's name.
			<br />
			Returns the CIM path to a map in the layout.
			<br />
			Returns the reference scaled of a map in the layout.
			<br />
			<br />
			Returns the extent of a map in the layout.
			<br />
			<br />
			Returns the spatial reference of a map in the layout.
			<br />
			<br />
			Returns the CIM path to a layer in a map in the layout.
			<br />
			<br />
			<br />
			Returns the extent of a layer in a map in the layout.
		</StyledTableCell>
	</StyledTableRow>
	<StyledTableRow>
		<StyledTableCell cellStyle="markdown">
			ProductFiles
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			7
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			`[ProductFiles]\\<FileName>`
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			Returns the path to the file name in the product files.
		</StyledTableCell>
	</StyledTableRow>
	<StyledTableRow>
		<StyledTableCell cellStyle="markdown">
			JobResource
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			9
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			`[Job]\\Project`
			<br />
			`[Job]\\Id`
			<br />
			`[Job]\\Name`
			<br />
			`[Job]\\User`
			<br />
			`[Job]\\HasErrors`
			<br />
			`[Job]\\HasWarnings`
			<br />
			`[Job]\\Messages`
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			Returns the path to the ArcGIS Pro project that the job created.
			<br />
			Returns the job's ID.
			<br />
			Returns the job's name.
			<br />
			Returns the name of the person who submitted the job.
			<br />
			Returns `true` if the job has errors.
			<br />
			Returns `true` if the job has warnings.
			<br />
			Returns all of the job's messages.
		</StyledTableCell>
	</StyledTableRow>
	<StyledTableRow>
		<StyledTableCell cellStyle="markdown">
			PackageResource
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			10
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			`[Package]\\Project`
			<br />
			`[Package]\\Database`
			<br />
			`[Package]\\Output`
			<br />
			`[Package]\\InputTemplate`
			<br />
			`[Package]\\Raster`
			<br />
			`[Package]\\Archive`
			<br />
			`[Package]\\StagingDirectory`
			<br />
			`[Package]\\OutputDirectory`
			<br />
			`[Package]\\PackageName`
			<br />
			`[Package]\\OutputPackage`
		</StyledTableCell>
		<StyledTableCell cellStyle="markdown">
			Returns the path to the .aprx file.
			<br />
			Returns the path to database associated with the project file.
			<br />
			Returns the path to the exported output file.
			<br />
			Returns the path to the layout template that is used in the project.
			<br />
			Returns the path to the raster file used in the project.
			<br />
			Returns the path to the archive file.
			<br />
			Returns the path to the staging folder where output files are staged before they are packaged.
			<br />
			Returns the path to the output directory.
			<br />
			Returns the name of the output package.
			<br />
			Returns the path to the final output package that will be available through the public service URL.
		</StyledTableCell>
	</StyledTableRow>
</StyledTable>

## Example usage
Add a map product definition to the service using the `addProduct` REST operation.

Request URL and parameters:

```markdown
https://machine.domain.com/server/rest/services/SampleService/TopographicProductionServer/addProduct
```

```javascript
productDefinition=
{
  "version": 0,
  "name": "ExampleProduct",
  "type": "MTM",
  "gridType": "TM50",
  "description": "Test Masking Product",
  "sheetIDField": "NRN",
  "featureDataset": "BM",
  "extractionDatabase": "MTM.gdb",
  "scale": "1:50,000",
  "productVersions": [
    {
      "name": "TRD_4_5",
      "template": "MTM50_Layout.pagx"
    }
  ],
  "resources": [
    {
      "name": "SourceWorkspace",
      "type": 3,
      "value": ""
    },
    {
      "name": "AOILayer",
      "type": 2,
      "value": ""
    },
    {
      "name": "SheetID",
      "type": 1,
      "value": ""
    },
    {
      "name": "Layout",
      "type": 6,
      "value": ""
    },
    {
      "name": "ProductFiles",
      "type": 7,
      "value": ""
    }
  ],
  "dataExtraction": [
    {
      "name": "MapService",
      "type": 19,
      "id": "MapService",
      "description": "Test extract from Map Service",
      "parameters": [
        {
          "name": "input_data",
          "value": "https://machinename.esri.com/server/rest/services/PostGreTest/MapServer"
        },
        {
          "name": "AOI",
          "value": "[AOILayer]\\Extent"
        },
        {
          "name": "buffer",
          "value": "5 kilometers"
        },
        {
          "name": "spatial_relationship",
          "value": "esriSpatialRelIntersects"
        },
        {
          "name": "DefinitionQuery",
          "value": ""
        },
        {
          "name": "includeDatasets",
          "value": ""
        },
        {
          "name": "excludedDatasets",
          "value": ""
        }
      ]
    }
  ],
  "operations": [
    {
      "name": "MapResource",
      "type": 11,
      "id": "62C3FFDE-F2C9-401E-9F57-50BECC3E15AP",
      "description": "Update BaseMap DataSources",
      "parameters": [
        {
          "name": "in_map",
          "value": "BaseMap"
        }
      ]
    },
    {
      "name": "Grid",
      "type": 4,
      "id": "22C3FFDE-F4C9-401E-9F57-50BRCC3E15GN",
      "description": "BaseMap Grid",
      "toolName": "MakeGridsAndGraticulesLayer_topographic",
      "validation": 2,
      "properties": {
        "type": "PropertySet",
        "propertySetItems" : [
          "AddOutputToMap",
          "BaseMap"
        ]
      },
      "parameters": [
        {
          "name": "in_grid_xml",
          "value": "[GridLocator]\\BaseMap"
        },
        {
          "name": "area_of_interest",
          "value": "[AOILayer]"
        },
        {
          "name": "target_feature_dataset",
          "value": "[SourceWorkspace]\\BM_GRD"
        },
        {
          "name": "out_layer_name",
          "value": "BMGrid"
        },
        {
          "name": "grid_name",
          "value": "BMGrid"
        },
        {
          "name": "configure_layout",
          "value": "CONFIGURE_LAYOUT"
        },
        {
          "name": "layout",
          "value": "[Layout]"
        },
        {
          "name": "map_frame",
          "value": "BaseMap Map Frame"
        }
      ]
    },
    {
      "name": "CreateMasks",
      "type": 7,
      "id": "35C3FFRF-F2C9-401E-9F57-30BECC3E15KF",
      "description": "Create Masks for Base Map",
      "toolName": "MakeMasksFromRules_topographic",
      "validation": 2,
      "properties" : {
        "type" : "PropertySet",
        "propertySetItems" : [
          "MapName",
          "BaseMap"
        ]
      },
      "parameters": [
        {
          "name": "in_map",
          "value": "BaseMap"
        },
        {
          "name": "rule_file",
          "value": "[ProductFiles]\\MTM_Basemap_Masking_Rules.xml"
        },
        {
          "name": "out_feature_dataset",
          "value": "[SourceWorkspace]\\Masks"
        }
      ]
    },
    {
      "name": "ApplyMasks",
      "type": 7,
      "id": "93C3FFDE-F2C9-401K-9F57-50BRCC3E15RW",
      "description": "Apply Masks for Base Map",
      "toolName": "ApplyMasksFromRules_topographic",
      "validation": 2,
      "properties" : {
        "type" : "PropertySet",
        "propertySetItems" : [
          "MapName",
          "BaseMap"
        ]
      },
      "parameters": [
        {
          "name": "in_map",
          "value": "BaseMap"
        },
        {
          "name": "rule_file",
          "value": "[ProductFiles]\\MTM_Basemap_Masking_Rules.xml"
        },
        {
          "name": "in_feature_dataset",
          "value": "[SourceWorkspace]\\Masks"
        }
      ]
    }
  ]
}
raster=https://servermachine.domain.com/server/rest/services/DEM/ImageServer
ancillaryLayers=
{
	"layer": "https://servermachine.domain.com/server/rest/services/SampleWorldCities/MapServer/1",
	"featureClass": "",
	"map": "BaseMap",
	"layerIndex": "0"
}
f=json

```

## JSON Response syntax
The following is the syntax of a response:
```json
{
  "success" : <true | false>
}
```

## JSON Response example

The following is an example response when the product is added successfully:
```json
{
  "productName": "ExampleProduct",
  "success": true
}
```

The following is an example error response:
```json
{
  "error": {
    "code": -2147211754,
    "message": "Map product ExampleProduct already exists. Map product names must be unique.",
    "details": [
    ]
  }
}
```
