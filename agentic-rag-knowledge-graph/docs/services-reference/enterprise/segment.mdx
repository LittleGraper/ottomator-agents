---
title: "Segment"
description: "API reference for the Segment service available in ArcGIS Enterprise."
slug: "segment"
url: "/segment"
guid: "GUID-ABCDB770-A448-48DC-BF37-DBC80AA686D9"
migratedTopicMetadata:
  FTITLE: "Segment"
  FDESCRIPTION: ""
  FCHANGES: "Removing related resources re: https://devtopia.esri.com/WebGIS/arcgis-rest-api-documentation/issues/191"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "10.6.1-*"
  CREATED-ON: "15/09/2022 10:22:19"
  FAUTHOR: "tohara"
  FSTATUS: "Released"
  MODIFIED-ON: "20/09/2022 11:05:02"
  VERSION: "2"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "2"
  ED: "GUID-D49AD34D-CADD-4941-9CC1-669AA11C4B00"
  FUSERGROUP: ""
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /Segment
  urlSegments:
    - name: <rasteranalysistools-url>
      url: /raster-analysis-tasks-overview
    - name: /Segment
  methods: []
  sslOnly: 'no'
  versionIntroduced: 10.6.1
---

import GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_5DB3493F_4D1E_4CEB_8C47_A157F22E9A56 from "./snippets/GUID-187EFF3C-6544-4421-8D1E-9DFCF76354CD/_GUID-5DB3493F-4D1E-4CEB-8C47-A157F22E9A56";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_1702083F_151C_4A0C_AF36_0D0DD9E2563A from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_GUID-1702083F-151C-4A0C-AF36-0D0DD9E2563A";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_4B398B66_01FD_40FB_9AEE_30371F0A8CD8 from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_GUID-4B398B66-01FD-40FB-9AEE-30371F0A8CD8";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_ED11CCC7_40D3_4ADD_A679_A3F6964834ED from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_GUID-ED11CCC7-40D3-4ADD-A679-A3F6964834ED";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_50D345C8_14F8_4A4A_AB1E_A6BBD19C49EF from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_GUID-50D345C8-14F8-4A4A-AB1E-A6BBD19C49EF";
import GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_BE7ABD4B_F8F1_432E_B5A0_24BB5108EBF7 from "./snippets/GUID-187EFF3C-6544-4421-8D1E-9DFCF76354CD/_GUID-BE7ABD4B-F8F1-432E-B5A0-24BB5108EBF7";

## Description

![Segment diagram](./images/GUID-667FBC3C-42A6-48C0-8241-E4C110C50FE9-web.png)

The `Segment`  task groups together adjacent pixels having similar spectral and spatial characteristics into segments, known as objects. The input raster dataset can be clipped, resampled, and reprojected based on the setting.

##  Request parameters

<StyledTable headers={"Parameter,Details"}>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`inputRaster` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The complete JSON rft (uri or by value), the complete XML rft (uri or by value), portal item ID, image service URL, cloud raster dataset, or shared raster dataset that will be segmented. If multiple inputs are given, then `itemId`  takes priority. If a complete rft is given, then `spectralDetail` , `spatialDetail` , `minimumSegmentSizeInPixels` , and `bandIndexes`  will not be honored. This option is used by ArcGIS Pro and web apps.

Syntax: A string describes the input raster.

<GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_5DB3493F_4D1E_4CEB_8C47_A157F22E9A56 />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`outputName` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The location where the service will generate the output raster.

Syntax: JSON object that describes the output raster.

<GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_5DB3493F_4D1E_4CEB_8C47_A157F22E9A56 />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`spectralDetail` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Sets the level of importance given to the spectral differences of features in your imagery. Valid values range fro 1.0-20.0. A high value is appropriate when you have features you want to classify separately but have somewhat similar spectral characteristics. Smaller values create spectrally smoother outputs. For example, setting a higher spectral detail value for a forested scene will preserve greater discrimination between the different tree species, resulting in more segments.

Example

```javascript
SpectralDetail=15.5
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`spatialDetail` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Sets the level of importance given to the proximity between features in your imagery. Valid values range from 1-20. A high value is appropriate for a scene where your features of interest are small and clustered together. Smaller values create spatially smoother outputs. For example, in an urban scene you could classify an impervious surface using a smaller spatial detail, or you could classify buildings and roads as separate classes using a higher spatial detail.

Example

```javascript
SpatialDetail=15
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`minimumSegmentSizeInPixels` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Merges segments smaller than this size with their best fitting neighbor segment. This is related to the minimum mapping unit for a mapping project. Units are in pixels.

Example

```javascript
minimumSegmentSizeInPixels=20
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`bandIndexes` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Defines which 3 bands are used in segmentation. Choose the bands that visually discriminate your features of best interest. The value is a string of three numbers separated by three commas.

Example

```javascript
bandIndexes: "0, 1, 2"
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`removeTilingArtifacts` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

If the value is false or 0, the tool will not run to remove tiling artifacts after segmentation. The result may seem blocky at some tiling boundaries.

Example

```javascript
removingTilitingArtifacts="true"
```

 

</StyledTableCell>

</StyledTableRow>

</StyledTable>

## Response

<GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_1702083F_151C_4A0C_AF36_0D0DD9E2563A />

<GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_4B398B66_01FD_40FB_9AEE_30371F0A8CD8 />

<GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_ED11CCC7_40D3_4ADD_A679_A3F6964834ED />

```javascript
https://<raster analysis tools url>/Segment/jobs/<jobId>
```

 

<GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_50D345C8_14F8_4A4A_AB1E_A6BBD19C49EF />

```javascript
https://<raster analysis tools url>/Segment/jobs/<jobId>/results/outputRaster
```

 

## Example usage

The following is a sample request URL for `Segment` :

```javascript
https://services.myserver.com/arcigs/rest/services/System/RasterAnalysisTools/GPServer/Segment/submitJob
```

 

## JSON Request example

```other
inputRaster={"itemId": "1780d648db3545bba8661ad98df824a4"}&
outputName={"itemId": "04180233981a4b978755d854687e149e"}&
spectralDetail=15.5&
spatialDetail=15&
minimumSegmentSizeInPixels=20&
bandIndexes="0,1,2"&
removeTilingArtifacts="true"
```

 

## JSON Response example

The response returns the `outputRaster`  output parameters, which has properties for parameter name, data type, and value. The content of value is always the output raster dataset `itemId`  and the image service URL.

<GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_BE7ABD4B_F8F1_432E_B5A0_24BB5108EBF7 />
