---
title: "Sample"
description: "API reference for the Sample service available in ArcGIS Enterprise."
slug: "sample"
url: "/sample"
guid: "GUID-320F2796-BD3C-4F46-8729-4B735B122231"
migratedTopicMetadata:
  FTITLE: "Sample"
  FDESCRIPTION: ""
  FCHANGES: "Removing related resources re: https://devtopia.esri.com/WebGIS/arcgis-rest-api-documentation/issues/191"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "10.9 - *"
  CREATED-ON: "15/09/2022 10:11:35"
  FAUTHOR: "tohara"
  FSTATUS: "Released"
  MODIFIED-ON: "20/09/2022 11:02:23"
  VERSION: "4"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "2"
  ED: "GUID-BC183F7E-FA8F-49C0-BAD1-D76844375AB1"
  FUSERGROUP: ""
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /Sample
  urlSegments:
    - name: <rasteranalysistools-url>
      url: /raster-analysis-tasks-overview
    - name: /Sample
  methods: []
  sslOnly: 'no'
  versionIntroduced: 10.8.1
---

import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_1744B5CA044F44D8ABF2E27EF9BC9A27 from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_LI_1744B5CA044F44D8ABF2E27EF9BC9A27";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_E5BF6567427444E8B74C6B8212C56B99 from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_LI_E5BF6567427444E8B74C6B8212C56B99";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_AD9814DB26DA439EA899971516D5E44D from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_LI_AD9814DB26DA439EA899971516D5E44D";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_30623A2523584FB586A882C09EA092E6 from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_LI_30623A2523584FB586A882C09EA092E6";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_48BF5CD827AF48C4A76D93B355D67718 from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_LI_48BF5CD827AF48C4A76D93B355D67718";
import GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_56FBFBA3_C66E_404D_8D62_38D68537B266 from "./snippets/GUID-187EFF3C-6544-4421-8D1E-9DFCF76354CD/_GUID-56FBFBA3-C66E-404D-8D62-38D68537B266";
import GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_EB4A1F30_5539_4BD1_AB9D_2D4EA4603F0E from "./snippets/GUID-187EFF3C-6544-4421-8D1E-9DFCF76354CD/_GUID-EB4A1F30-5539-4BD1-AB9D-2D4EA4603F0E";
import GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_C5A064C3_43B4_400B_AA66_7C41F2A060FB from "./snippets/GUID-187EFF3C-6544-4421-8D1E-9DFCF76354CD/_GUID-C5A064C3-43B4-400B-AA66-7C41F2A060FB";
import GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_44A86E3D_176E_4BD4_A2E5_C112ED929DE9 from "./snippets/GUID-187EFF3C-6544-4421-8D1E-9DFCF76354CD/_GUID-44A86E3D-176E-4BD4-A2E5-C112ED929DE9";
import GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_ED11CCC7_40D3_4ADD_A679_A3F6964834ED from "./snippets/GUID-187EFF3C-6544-4421-8D1E-9DFCF76354CD/_GUID-ED11CCC7-40D3-4ADD-A679-A3F6964834ED";

## Description

![Sample](./images/GUID-3950CCA3-C1D0-493F-A33D-93673443ADD2-web.png)

The `Sample`  task creates a table of cell values from a raster, or set of rasters, for defined locations. The locations are defined by raster cells, polygon features, polyline features, or by a set of points.

The input rasters can be two-dimensional or multidimensional. The structure of the output table changes when the input rasters are multidimensional.

<Note type={"note"}>

You must license your ArcGIS Server as an ArcGIS Image Server to use this resource.

</Note>

##  Request parameters

<StyledTable headers={"Parameter,Details"}>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`inRasters` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

List of input rasters. The input raster can be the Portal Item ID, Image Service URL, cloud raster dataset, or shared multidimensional raster dataset.

At least one type of input needs to be provided in the JSON object. If multiple inputs are given, the itemIds takes the priority.

Syntax: List of JSON object describing the input rasters.

```javascript
inputMultidimensionalRaster={"itemIds": [<portal item id>, <portal item id>, <portal item id>]}
inputMultidimensionalRaster={"urls": [<image service url>, <image service url>, <image service url>]}
inputMultidimensionalRaster={"uris": [<cloud raster uri or shared data path>, <cloud raster uri or shared data path>]}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`inLocationData` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Data identifying positions where you want a sample taken.

The input can be an image service or a feature service.

Syntax: JSON object describing the input raster or feature. At least one type of input needs to be provided in the JSON object. If multiple inputs are given, the itemid takes the priority.

Example

```javascript
("itemId": <portal item id>}
{“url”: <image service or feature service url>}
{“uri”: <cloud raster uri or shared data path>}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`outputName` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Name of the output table or feature service holding the sampled cell values.

Syntax: JSON object describing the output table

Example

```javascript
outputName={"serviceProperties": {“name”:”sample_output”}}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`resamplingType` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Resampling algorithm used when sampling a raster.

-   `NEAREST` —Nearest neighbor assignment. This is the default.
-   `BILINEAR` —Bilinear interpolation
-   `CUBIC` —Cubic convolution

Syntax: A string representing the `resamplingType` .

Example

```javascript
resamplingType=NEAREST
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`uniqueIdField` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

A field containing a different value for every location or feature in the input location raster or point features.

Syntax: A string representing the field.

Example

```javascript
uniqueIdField=FID
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`acquisitionDefinition` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Specify the time, depth or other acquisition data associated with the location features.

Statistics will be calculated for variables within the dimension range of the following combinations: 

-   `Dimension`  + `Start field`  or `value` 
-   `Dimension`  + `Start field`  or `value`  + `End field`  or `value` 
-   `Dimension`  + `Start field`  or `value`  + `Relative value`  or `days before`  + `Relative value`  or `days after` 

Only non-negative values are supported for the following:

-   `Relative value`  or `days before` 
-   `Relative value`  or `days after` 

Syntax: a list of dictionary objects.

```javascript
[{"dimension": "Dimension","startFieldOrVal": "Start field or value","endFieldOrVal": "End field or value","relValOrDaysBefore": "Relative value or days before","relValOrDaysAfter": "Relative value or days after"}]
```

 

Example

```javascript
[{"dimension": "Dimension","startFieldOrVal": "1999-01-01T00:00:00","endFieldOrVal": "2019-01-01T00:00:00"}]
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`statisticsType` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The type of statistic to be calculated.

-   `MINIMUM` —Finds the minimum value within the specified range.
-   `MAXIMUM` —Finds the maximum value within the specified range.
-   `MEDIAN` —Finds the median value within the specified range.
-   `MEAN` —Calculates the average for the specified range. 
-   `SUM` —Calculates the sum of the variables within the specified range. 
-   `MAJORITY` —Finds the value that occurs most frequently.
-   `MINORITY` —Finds the value that occurs least frequently.
-   `STD` —Calculates the standard deviation.
-   `PERCENTILE` —Calculates a defined percentile within the specified range.

A string representing the `statisticsType` .

Example

```javascript
statisticsType=MINIMUM
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`percentileValue` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The percentile to calculate when the `statisticsType`  parameter is set to `PERCENTILE` .

This value can range from 0 to 100. The default is 90.

Syntax: A double representing the `percentileValue` .

Example

```javascript
percentileValue=50
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`bufferDistance` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The specified distance around the location data features. The buffer distance is specified in the linear unit of the location feature's spatial reference. If the feature uses a geographic reference, the unit will be in degrees.

Statistics will be calculated within this buffer area.

Syntax: A value representing the `bufferDistance` .

Example 1

```javascript
bufferDistance=10
```

 

Syntax: A string representing the buffer distance field in the `inLocationData` .

Example 2

```javascript
bufferDistance=buffer_field
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`layout` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Specifies whether sampled values appear in rows or columns in the output table.

-   `ROW_WISE` —Sampled values appear in separate rows in the output table. This is the default.
-   `COLUMN_WISE` —Sampled values appear in separate columns in the output table. This option is only valid when the input multidimensional raster contains one variable and one dimension, and each slice is a single-band raster.

Syntax: A string of one of the keywords.

Example

```javascript
layout=COLUMN_WISE
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`generateFeatureClass` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Boolean value to determine if this tool generates an output feature service containing a feature class with sampled values or only a table with sampled values. The default is `false` .

Values: `true`  \| `false` 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`context` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Contains additional settings that affect task execution. This task has the following settings:

-   <GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_1744B5CA044F44D8ABF2E27EF9BC9A27 />
-   <GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_E5BF6567427444E8B74C6B8212C56B99 />
-   <GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_AD9814DB26DA439EA899971516D5E44D />
-   <GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_30623A2523584FB586A882C09EA092E6 />
-   Process as Multidimensional (`processAsMultidimensional`  )—A Boolean that determines how the input rasters will be processed. This option is only available when the input is a single, multidimensional raster. The default value is False.

    -   True—Samples will be taken for all dimensions (such as time or depth) of a multidimensional dataset.
    -   False—Samples will be taken from the current slice of a multidimensional dataset. This is the default.
-   <GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_48BF5CD827AF48C4A76D93B355D67718 />

Example

```javascript
context={"parallelProcessingFactor": "4"}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`f` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_56FBFBA3_C66E_404D_8D62_38D68537B266 />

<GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_EB4A1F30_5539_4BD1_AB9D_2D4EA4603F0E />

</StyledTableCell>

</StyledTableRow>

</StyledTable>

## Response

<GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_C5A064C3_43B4_400B_AA66_7C41F2A060FB />

<GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_44A86E3D_176E_4BD4_A2E5_C112ED929DE9 />

<GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_ED11CCC7_40D3_4ADD_A679_A3F6964834ED />

```javascript
https://<analysis url>/Sample/jobs/<jobId>
```

 

## Accessing results

When the status of the job request is `esriJobSucceded` , you can access the results of the analysis by making a request of the following form:

```javascript
https://<raster analysis url>/Sample/jobs/<jobId>/results/outSample?token=<your token>&f=json
```

 

<StyledTable headers={"Parameter,Description"}>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`outSample` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The output feature service `itemId`  and URL:

Example:

```javascript
{"url": "https://<raster analysis url>/Sample/jobs/<jobId>/results/outSample"}
```

 

The result has properties for parameter name, data type, and value. The content of the value is always the output raster dataset's `itemId`  and image service URL.

```javascript
{
  "paramName": "outSample",
  "dataType": "GPString",
  "value": {
    "itemId": "c267610d0feb4370bf38cc6e2c4ac261",
    "url": "https://<server name>/arcgis/rest/services/Hosted/<service name>/FeatureServer"
  }
}

```

 

</StyledTableCell>

</StyledTableRow>

</StyledTable>
