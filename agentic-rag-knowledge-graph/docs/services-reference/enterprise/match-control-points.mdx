---
title: "Match Control Points"
description: "API reference for the Match Control Points service tool available in ArcGIS Enterprise."
slug: "match-control-points"
url: "/match-control-points"
guid: "GUID-4304EFC3-D1E5-4943-9EEA-F3C2659C8D51"
migratedTopicMetadata:
  FTITLE: "Match Control Points"
  FDESCRIPTION: ""
  FCHANGES: "Removing related resources"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "10.9 - *"
  CREATED-ON: "25/08/2022 13:14:09"
  FAUTHOR: "tohara"
  FSTATUS: "Released"
  MODIFIED-ON: "20/09/2022 11:07:01"
  VERSION: "4"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "2"
  ED: "GUID-0ECDC3D6-7A02-4753-BDBC-E9C1464A60A8"
  FUSERGROUP: "VUSERGROUPARCGISONLINEDOC"
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /System/OrthomappingTools/GPServer/MatchControlPoints
  urlSegments:
    - name: <root>
      url: /catalog
    - name: /System/OrthomappingTools/GPServer/MatchControlPoints
  methods: []
  sslOnly: 'no'
  versionIntroduced: 10.6.1
---

import GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_5E7C5404_14B0_4ECA_AC2E_E9BC34E83723 from "./snippets/GUID-187EFF3C-6544-4421-8D1E-9DFCF76354CD/_GUID-5E7C5404-14B0-4ECA-AC2E-E9BC34E83723";
import GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_56FBFBA3_C66E_404D_8D62_38D68537B266 from "./snippets/GUID-187EFF3C-6544-4421-8D1E-9DFCF76354CD/_GUID-56FBFBA3-C66E-404D-8D62-38D68537B266";
import GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_EB4A1F30_5539_4BD1_AB9D_2D4EA4603F0E from "./snippets/GUID-187EFF3C-6544-4421-8D1E-9DFCF76354CD/_GUID-EB4A1F30-5539-4BD1-AB9D-2D4EA4603F0E";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_1702083F_151C_4A0C_AF36_0D0DD9E2563A from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_GUID-1702083F-151C-4A0C-AF36-0D0DD9E2563A";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_4B398B66_01FD_40FB_9AEE_30371F0A8CD8 from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_GUID-4B398B66-01FD-40FB-9AEE-30371F0A8CD8";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_ED11CCC7_40D3_4ADD_A679_A3F6964834ED from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_GUID-ED11CCC7-40D3-4ADD-A679-A3F6964834ED";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_50D345C8_14F8_4A4A_AB1E_A6BBD19C49EF from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_GUID-50D345C8-14F8-4A4A-AB1E-A6BBD19C49EF";

## Description

![Match Control Points diagram](./images/GUID-857BFB26-F6DF-46D8-8BC2-E71F13E5931A-web.png)

The `MatchControlPoints`  operation is a service tool that computes matching tie points using a collection of ground control points having at least one tie point. The input collection of ground control points must be in JSON.

<Note type={"note"}>

As of ArcGIS 10.5, you must license your ArcGIS Server as an ArcGIS Image Server to use this resource.

</Note>

##  Request parameters

<StyledTable headers={"Parameter,Details"}>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`imageCollection` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The image collection (mosaic dataset) name or URL. The image service must exist before calling `MatchControlPoints` .

<GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_5E7C5404_14B0_4ECA_AC2E_E9BC34E83723 />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`inputControlPoints` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The ground control points (GCP) sets written as a JSON object. The similarity tolerance for finding control points will be low.

Syntax: The schema of the control points' JSON follows the schema of the mosaic dataset's control point table. The control points must contain one geometry and attribute set. There are two types of control points determined by the `type`  attribute: `tie points`  and ground `control points` .

```javascript
[
 {
  "pointId": <id>,
  "x":
  "y":
  "z":
  "xyAccuracy":
  "zAccuracy":
  "spatialReference":{<spatialReference>}, //default WGS84
  "imagePointSpatialReference": {}, // default ICS
  "imagePoints": [
     {"imageId":
      "x":
      "y":
     },
    â€¦
  ]
 }
]
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`similarity` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Sets the similarity tolerance level for your matching control point. `Low`  tolerance will produce the most control points, but some may have a higher level of error. `Medium`  tolerance will produce a medium amount of control points. `High`  tolerance will produce the least number of control points, but each matching pair will have a lower level of error. `High`  tolerance is the default value.

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`context` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Identifies additional settings such as the input control points spatial reference, which can be specified here. The `context`  parameter is used to define both `groundControlPointsSpatialReference`  and `imagePointsSpatialReference` . If these two parameters are not defined, the tool will use the spatial reference defined in the input point set. If no spatial reference is defined in the input point set, the default ground control point coordinates are in longitude-latitude, and the image points coordinates are in the image coordinate system.

```javascript
{"groundControlPointsSpatialRefrence": {"wkid": 3459},
"imagePointSpatialReference": {"wkid": 3459}}

```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`f` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_56FBFBA3_C66E_404D_8D62_38D68537B266 />

<GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_EB4A1F30_5539_4BD1_AB9D_2D4EA4603F0E />

</StyledTableCell>

</StyledTableRow>

</StyledTable>

## Response

<GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_1702083F_151C_4A0C_AF36_0D0DD9E2563A />

<GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_4B398B66_01FD_40FB_9AEE_30371F0A8CD8 />

<GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_ED11CCC7_40D3_4ADD_A679_A3F6964834ED />

```javascript
https://<orthomapping tools url>/MatchControlPoints/jobs/<jobId>
```

 

<GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_50D345C8_14F8_4A4A_AB1E_A6BBD19C49EF />

```javascript
https://<orthomapping tools url>/MatchControlPoints/jobs/<jobId>/results/result?token=<your token>&f=json
```

 

The result will be a JSON file.

## Example usage

Below is a sample URL for `MatchControlPoints` .

```javascript
https://services.myserver.com/arcgis/rest/services/System/OrthomappingTools/GPServer/MatchControlPoints/submitJob
```

 

## JSON Request example

```other
imageCollection={"itemId": "1780d648db3545bba8661ad98df824a4"}&
inputControlPoints={
{"geometry": {"x":-118.15,"y":33.80,"z":10.0,"spatialReference":{"wkid":4326}},
 "attributes": {"imageID":22, "pointID":2, "type":2, "status":1}
}

```

 
