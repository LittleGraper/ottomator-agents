---
title: "Routing services"
description: "Perform analysis on transportation networks using routing services."
slug: "an-overview-of-routing-services"
url: "/an-overview-of-routing-services"
guid: "GUID-6EA637CE-C497-40D2-B638-7F8502F61143"
migratedTopicMetadata:
  FTITLE: "An overview of routing services"
  FDESCRIPTION: "Provides an overview of routing services available with ArcGIS Enterprise and how they can be accessed using the REST endpoints"
  FCHANGES: "Fixing Xrefs to direct links for migration to Gatisby"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "11.3 - *"
  CREATED-ON: "18/12/2023 10:17:01"
  FAUTHOR: "pchopra"
  FSTATUS: "Draft"
  MODIFIED-ON: "18/12/2023 10:26:30"
  VERSION: "4"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "2"
  ED: "GUID-4A114156-CD3C-4875-86AC-E93AB4542DA9"
  FUSERGROUP: "VUSERGROUPARCGISONLINEDOC"
  READ-ACCESS: ""
restInfoMetadata: {}
---

import GUID_56D470A8_DB39_4533_910B_1D89B11EDCC3_GUID_45B7F250_079F_4EBA_AD99_8BCC3897D380 from "./snippets/GUID-56D470A8-DB39-4533-910B-1D89B11EDCC3/_GUID-45B7F250-079F-4EBA-AD99-8BCC3897D380";
import GUID_56D470A8_DB39_4533_910B_1D89B11EDCC3_GUID_32595961_A683_4B34_82F2_C0EF965FC50B from "./snippets/GUID-56D470A8-DB39-4533-910B-1D89B11EDCC3/_GUID-32595961-A683-4B34-82F2-C0EF965FC50B";
import GUID_56D470A8_DB39_4533_910B_1D89B11EDCC3_GUID_30F8610F_BD00_43FC_994D_028796C108E6 from "./snippets/GUID-56D470A8-DB39-4533-910B-1D89B11EDCC3/_GUID-30F8610F-BD00-43FC-994D-028796C108E6";
import GUID_BFCCA1C8_9EDF_43CE_9172_00479308EC68_GUID_75A99190_10BD_4AB0_93A9_5FA1A9A3D2F2 from "./snippets/GUID-BFCCA1C8-9EDF-43CE-9172-00479308EC68/_GUID-75A99190-10BD-4AB0-93A9-5FA1A9A3D2F2";
import GUID_BFCCA1C8_9EDF_43CE_9172_00479308EC68_GUID_E7347E62_898B_497D_9D5D_1DB2F1692E3B from "./snippets/GUID-BFCCA1C8-9EDF-43CE-9172-00479308EC68/_GUID-E7347E62-898B-497D-9D5D-1DB2F1692E3B";
import GUID_BFCCA1C8_9EDF_43CE_9172_00479308EC68_GUID_F36A8037_8163_46DC_8795_BF5E0D321C6B from "./snippets/GUID-BFCCA1C8-9EDF-43CE-9172-00479308EC68/_GUID-F36A8037-8163-46DC-8795-BF5E0D321C6B";
import GUID_BFCCA1C8_9EDF_43CE_9172_00479308EC68_GUID_7076D39B_B123_4405_8CBE_0417FE49C36E from "./snippets/GUID-BFCCA1C8-9EDF-43CE-9172-00479308EC68/_GUID-7076D39B-B123-4405-8CBE-0417FE49C36E";
import GUID_56D470A8_DB39_4533_910B_1D89B11EDCC3_GUID_3F34A9D3_7DD7_4695_9BE5_FCE14F451FFE from "./snippets/GUID-56D470A8-DB39-4533-910B-1D89B11EDCC3/_GUID-3F34A9D3-7DD7-4695-9BE5-FCE14F451FFE";
import GUID_56D470A8_DB39_4533_910B_1D89B11EDCC3_GUID_3A6E2B50_4A76_4A13_8282_E4FD81AA9384 from "./snippets/GUID-56D470A8-DB39-4533-910B-1D89B11EDCC3/_GUID-3A6E2B50-4A76-4A13-8282-E4FD81AA9384";

Routing services allow you to perform analysis on transportation networks, such as finding the best route across a city, finding the closest emergency vehicle or facility, identifying a service area around a location, or servicing a set of orders with a fleet of vehicles. If you have used [ArcGIS Pro](https://pro.arcgis.com/en/pro-app/latest/help/analysis/networks/what-is-network-analyst-.htm) to perform analysis on a street network, routing services allow you to perform similar analysis using web services running on your ArcGIS Server site. 

<Note type={"note"}>

Routing services are either map services with network analysis capability (also known as Network Analysis services) or geoprocessing services available with ArcGIS Server. If you have previously worked with either map services or geoprocessing services, the REST API for routing services will be familiar to you. For routing services that are map services, the REST API for routing services is distinct from the REST API for map services. However, for routing services that are geoprocessing services, the routing services have the same REST API as any other geoprocessing service. You can think of a routing service as a geoprocessing service designed for performing a particular network analysis. 

</Note>

There are eight types of analysis that can be performed using the routing services. Each type is available as a service and can be accessed using a unique REST endpoint for the service. 

### Route service

<GUID_56D470A8_DB39_4533_910B_1D89B11EDCC3_GUID_45B7F250_079F_4EBA_AD99_8BCC3897D380 />

### Closest facility service

<GUID_56D470A8_DB39_4533_910B_1D89B11EDCC3_GUID_32595961_A683_4B34_82F2_C0EF965FC50B />

### Service area service

<GUID_56D470A8_DB39_4533_910B_1D89B11EDCC3_GUID_30F8610F_BD00_43FC_994D_028796C108E6 />

### Vehicle routing problem service

<GUID_BFCCA1C8_9EDF_43CE_9172_00479308EC68_GUID_75A99190_10BD_4AB0_93A9_5FA1A9A3D2F2 />

<GUID_BFCCA1C8_9EDF_43CE_9172_00479308EC68_GUID_E7347E62_898B_497D_9D5D_1DB2F1692E3B />

### Location-allocation service

<GUID_BFCCA1C8_9EDF_43CE_9172_00479308EC68_GUID_F36A8037_8163_46DC_8795_BF5E0D321C6B />

<GUID_BFCCA1C8_9EDF_43CE_9172_00479308EC68_GUID_7076D39B_B123_4405_8CBE_0417FE49C36E />

### Travel cost matrix service

<GUID_56D470A8_DB39_4533_910B_1D89B11EDCC3_GUID_3F34A9D3_7DD7_4695_9BE5_FCE14F451FFE />

<GUID_56D470A8_DB39_4533_910B_1D89B11EDCC3_GUID_3A6E2B50_4A76_4A13_8282_E4FD81AA9384 />

<Note type={"note"}>

The closest facility and travel cost matrix services perform similar analyses; the main difference is in the output and the computation speed. The Travel cost matrix service generates results faster but cannot return lines that follow the underlying streets or driving directions. It is designed to quickly solve large M x N problems and, as a result, does not internally contain the information required to generate route shapes and driving directions. Alternatively, the Closest facility service can return routes that follow the underlying streets and directions but is slower to run than the Travel cost matrix service. If you need driving directions or true shapes of routes, use the Closest facility service; otherwise, use the Travel cost matrix service to reduce the computation time.

</Note>

### Last mile delivery service

The Last Mile Delivery service is a use case specific Vehicle Routing Problem (VRP) algorithm designed for a fleet of vehicles that are delivering packages to the final customers. For example, this can be used for a single distribution center or store delivering to the final customer location and can be quite dense delivering to a few customers on most streets, but it is not intended to visit every house on every street.

Delivery companies need to determine which orders (package delivery location) should be serviced by each route (delivery vehicle and driver) and in what sequence the orders should be visited. The primary goal is to best service the orders by producing geographically clustered routes so the drivers can easily deliver to everyone and minimize the overall operating cost for the fleet of vehicles.

The Network Analyst Route service finds the best route for a single vehicle to visit many stops where as the Last Mile Delivery service and the Vehicle Routing Problem service both find the best routes for a fleet of vehicles to service many orders. The Vehicle Routing Problem service has lots of flexibility and can model many different constraints but the algorithm is also limited by this flexibility. The Last Mile Delivery service supports a subset of the constraints, but for the ones it does support, it can provide a better quality and higher performing algorithm.

<Note type={"note"}>

[Learn more about the capabilities of the last mile delivery and why choose it over the vehicle routing problem analysis](/why-choose-LMD)

</Note>

### Snap to roads service

The Snap to Roads service can be used to snap a series of GPS track points to the underlying roads. You can return just the snapped points, or lines representing the roads that were traversed. In addition to the geometry, you can have the service return attributes of the roads like the posted speed limit and length in case you need this to perform route adherence.

<Note type={"note"}>
At this release, the Snap to Roads service is a [beta feature](https://enterprise.arcgis.com/en/get-started/latest/windows/beta-features.htm). While in beta, this service may not be feature complete and, as such, may have known performance or quality issues and will not be supported by Esri Technical Support.

Submit your feedback during the beta phase through the [ArcGIS Routing Services Program](https://earlyadopter.esri.com/key/ArcGISRoutingServices).
</Note>

## Request types

A routing service can support direct request and job request. The type of request made defines how the application using the service interacts with the service and gets the result. When making a direct request, the application must wait for the request to finish and get the results. This type of request is well-suited for requests that complete quickly (under 10 seconds). When using the job request, the client must periodically check whether the service has finished execution and, once completed, get the result. While the service is executing, the application is available to do other things. This type of request is well-suited for requests that take a long time to complete because it allows you to continue to interact with the application while the results are generated. Another advantage of the job request for long running requests is that the application does not need to keep a connection open with the web server in your ArcGIS Server site while the request is being processed. This can prevent web server timeouts that can occur with long-running direct requests.

A routing service for an analysis type supports the same functionality regardless of the request type. However, the request URL and the parameter names supported by the service are different based on the request type. Certain network analysis types support both direct and job request while some support only job request. 

The table below summarizes the execution mode available for each analysis type and links to detailed API reference for the routing services. 

#### Execution modes for various routing services

<StyledTable headers={"Analysis type,Direct request,Job request"}>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

Route

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Yes

[Learn more about the direct request](/route-sync-services)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Yes

[Learn more about the job request](/route-async-services)

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

Closest facility routing

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Yes

[Learn more about the direct request](/closest-facility-sync-services)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Yes

[Learn more about the job request](/closest-facility-async-services)

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

Service area

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Yes

[Learn more about the direct request](/service-area-sync)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Yes

[Learn more about the job request](/service-area-async)

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

Vehicle routing problem

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Yes

[Learn more about the direct request](/vehicle-routing-problem-service)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Yes

[Learn more about the job request](/vehicle-routing-problem-service)

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

Location-Allocation

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

No

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Yes

[Learn more about the job request](/location-allocation-service)

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

Travel cost matrix

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Yes

[Learn more about the direct request](/od-cost-matrix-sync-services)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Yes

[Learn more about the job request](/origin-destination-cost-matrix-service)

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

Last mile delivery

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

No

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Yes

[Learn more about the job request](/last-mile-delivery-service)

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

Snap to roads

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Yes

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

No

Learn more about the direct request

</StyledTableCell>

</StyledTableRow>

</StyledTable>

## Publish routing services

To use the routing services from their REST endpoints, you must first publish the services to an ArcGIS Server site in your ArcGIS Enterprise deployment. The routing services need a [network dataset](https://pro.arcgis.com/en/pro-app/latest/help/analysis/networks/what-is-network-dataset-.htm) that defines the data model for your transportation network on which the analysis is performed. Once you have a network dataset, you can publish the routing services to an ArcGIS Server site. 

Learn more about [Publish Routing Services](https://enterprise.arcgis.com/en/server/latest/publish-services/windows/publish-routing-services.htm).

<Note type={"note"}>
Routing services REST API documentation is intended only for the standard routing services published to the ArcGIS Server site. Custom routing services published to the ArcGIS Server site may have parameters defined by the author of the service. Hence, check with the author of custom routing services to know the usage of the services.
</Note>
