---
title: "Optimal Path As Raster"
description: "The OptimalPathAsRaster task calculates the optimal path from a source to a destination as a raster."
slug: "optimal-path-as-raster"
url: "/optimal-path-as-raster"
guid: "GUID-0B8D15E9-8F9B-4E2F-BB9D-B011313E3262"
migratedTopicMetadata:
  FTITLE: "Optimal Path As Raster"
  FDESCRIPTION: ""
  FCHANGES: "Remove quotes from filed names"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "11.1 - *"
  CREATED-ON: "30/03/2023 15:07:57"
  FAUTHOR: "egraham"
  FSTATUS: "Released"
  MODIFIED-ON: "03/04/2023 22:46:12"
  VERSION: "3"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "5"
  ED: "GUID-FA69380F-6ACE-4E00-B991-91340A166F3B"
  FUSERGROUP: ""
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /<serviceName>/RasterAnalysisTools/GPServer/OptimalPathAsRaster
  urlSegments:
    - name: <root>
      url: /catalog
    - name: /<serviceName>/RasterAnalysisTools/GPServer/OptimalPathAsRaster
  methods: []
  sslOnly: 'no'
  versionIntroduced: 10.8.1
---

import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_64DA88D5_A99A_4DD4_8ECF_2B43FAE36762 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-64DA88D5-A99A-4DD4-8ECF-2B43FAE36762";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_3C3804F2_DF27_4AB4_8A26_39CB1316D7DD from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-3C3804F2-DF27-4AB4-8A26-39CB1316D7DD";
import GUID_C8AC828B_7267_4862_9377_BBCF20C720A8_GUID_7675B237_96F6_47A9_81FF_DE125BA4ABB6 from "./snippets/GUID-C8AC828B-7267-4862-9377-BBCF20C720A8/_GUID-7675B237-96F6-47A9-81FF-DE125BA4ABB6";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_59BC6D2B_4DDF_47B1_87EB_007154B11B73 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-59BC6D2B-4DDF-47B1-87EB-007154B11B73";
import GUID_C8AC828B_7267_4862_9377_BBCF20C720A8_GUID_4C390501_FFF1_46B6_99F1_BAC0973C0F81 from "./snippets/GUID-C8AC828B-7267-4862-9377-BBCF20C720A8/_GUID-4C390501-FFF1-46B6-99F1-BAC0973C0F81";
import GUID_C8AC828B_7267_4862_9377_BBCF20C720A8_GUID_BFE05096_8323_48F7_AE3F_5483B8936A77 from "./snippets/GUID-C8AC828B-7267-4862-9377-BBCF20C720A8/_GUID-BFE05096-8323-48F7-AE3F-5483B8936A77";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_F2432D7C_6B85_43BD_B98C_40AC9E9EBA22 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-F2432D7C-6B85-43BD-B98C-40AC9E9EBA22";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_8F14A47B_448F_4A97_9AF3_539B5A3C476E from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-8F14A47B-448F-4A97-9AF3-539B5A3C476E";
import GUID_C8AC828B_7267_4862_9377_BBCF20C720A8_GUID_93464B44_5417_4494_8840_90D6B8E7215C from "./snippets/GUID-C8AC828B-7267-4862-9377-BBCF20C720A8/_GUID-93464B44-5417-4494-8840-90D6B8E7215C";
import GUID_C8AC828B_7267_4862_9377_BBCF20C720A8_GUID_4EED11E9_5485_43B4_8C98_D76CBDA78268 from "./snippets/GUID-C8AC828B-7267-4862-9377-BBCF20C720A8/_GUID-4EED11E9-5485-43B4-8C98-D76CBDA78268";
import GUID_C8AC828B_7267_4862_9377_BBCF20C720A8_GUID_A311C37E_C2B8_4156_A94A_B3563CE9F3F1 from "./snippets/GUID-C8AC828B-7267-4862-9377-BBCF20C720A8/_GUID-A311C37E-C2B8-4156-A94A-B3563CE9F3F1";
import GUID_C8AC828B_7267_4862_9377_BBCF20C720A8_UL_FDBA955103AB498CA12FB813A47E03C0 from "./snippets/GUID-C8AC828B-7267-4862-9377-BBCF20C720A8/_UL_FDBA955103AB498CA12FB813A47E03C0";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_9B5D5783_E386_45F7_8EA8_88843A1BB484 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-9B5D5783-E386-45F7-8EA8-88843A1BB484";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_C771449E_6BA7_4CB4_9328_2C855A14B2B2 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-C771449E-6BA7-4CB4-9328-2C855A14B2B2";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_1702083F_151C_4A0C_AF36_0D0DD9E2563A from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-1702083F-151C-4A0C-AF36-0D0DD9E2563A";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_4B398B66_01FD_40FB_9AEE_30371F0A8CD8 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-4B398B66-01FD-40FB-9AEE-30371F0A8CD8";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_ED11CCC7_40D3_4ADD_A679_A3F6964834ED from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-ED11CCC7-40D3-4ADD-A679-A3F6964834ED";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_50D345C8_14F8_4A4A_AB1E_A6BBD19C49EF from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-50D345C8-14F8-4A4A-AB1E-A6BBD19C49EF";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_9370F058_5BA7_4BA3_8D9F_EFB8ADF723C0 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-9370F058-5BA7-4BA3-8D9F-EFB8ADF723C0";

## Description

![Optimal Path As Raster diagram](./images/GUID-152880A5-E7D4-4811-8E0F-FC41AD2EDD2D-web.png)

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_64DA88D5_A99A_4DD4_8ECF_2B43FAE36762 />

To create paths that cross the edge of the projection, the rasters used as inputs for the `Input Distance Accumulation` Raster and `Input Back Direction` Raster parameters must have been created at the full global extent, in either a cylindrical projection or a geographic output coordinate system, while using the `Geodesic` option for the `Distance Method` parameter.

Example applications include the following:

-   Finding the optimal route for a new road
-   Finding the downstream trace from a location

## Request parameters

<StyledTable headers={"Parameter,Details"}>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`inputDestinationRasterOrFeatures` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

A raster or feature dataset that identifies the cells from which the optimal path is determined to the optimum source.

If the input is a raster, it must consist of cells that have valid values (zero is a valid value) for the destinations, and the remaining cells must be assigned NoData.

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_3C3804F2_DF27_4AB4_8A26_39CB1316D7DD />

Raster input examples:

```javascript
//Portal item as input raster
"inputDestinationRasterOrFeatures":{"itemId": <portal item Id>}

//URL as input raster
"inputDestinationRasterOrFeatures":{"url": <image service layer url>}
```

 

Feature input examples:

```javascript
//Feature layer URL
"inputDestinationRasterOrFeatures":{"url": <feature service layer url>}

//Feature collection
"inputDestinationRasterOrFeatures":{"layerDefinition": {}, "featureSet": {}}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`inputDistanceAccumulationRaster` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_C8AC828B_7267_4862_9377_BBCF20C720A8_GUID_7675B237_96F6_47A9_81FF_DE125BA4ABB6 />

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_59BC6D2B_4DDF_47B1_87EB_007154B11B73 />

Examples:

```javascript
//Portal item as input raster
"inputDistanceAccumulationRaster":{"itemId": <portal item id>}

//URL as input raster
"inputDistanceAccumulationRaster":{"url": <image service layer url>}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`inputBackDirectionRaster` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_C8AC828B_7267_4862_9377_BBCF20C720A8_GUID_4C390501_FFF1_46B6_99F1_BAC0973C0F81 />

<GUID_C8AC828B_7267_4862_9377_BBCF20C720A8_GUID_BFE05096_8323_48F7_AE3F_5483B8936A77 />

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_59BC6D2B_4DDF_47B1_87EB_007154B11B73 />

Raster input examples:

```javascript
//Portal item as input raster
"inputBackDirectionRaster":{"itemId": <portal item id>}

//URL as input raster
"inputBackDirectionRaster":{"url": <image service layer url>}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`outputRasterName` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The name of the output image service that will contain the optimal path.

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_F2432D7C_6B85_43BD_B98C_40AC9E9EBA22 />

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_8F14A47B_448F_4A97_9AF3_539B5A3C476E />

Output name example:

```javascript
"outputRasterName":{"serviceProperties":{"name":"outOptimalRasterPath"}}
```

 

Output raster examples:

```javascript
//Output portal item
"outputRasterName":{"itemId": <portal item id>}

//Output url
"outputRasterName":{"url": <image service url>}

//Output raster layer service
"outputRasterName":{"serviceProperties":
  {"name":"outOptimalRasterPath",
    "serviceUrl":"https://<server name>/server/rest/services/Hosted/outOptimalRasterPath/ImageServer"},
  "itemProperties":{"itemId":"8cfbd3ec25584d0d8f4ec255840d8f4ed23b8ff7c43b","folderId":"sdfwerfbd3ec25584d0d8f4"}
}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`destinationField` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_C8AC828B_7267_4862_9377_BBCF20C720A8_GUID_93464B44_5417_4494_8840_90D6B8E7215C />

<GUID_C8AC828B_7267_4862_9377_BBCF20C720A8_GUID_4EED11E9_5485_43B4_8C98_D76CBDA78268 />

Example:

```javascript
"destinationField": destinationValue
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`pathType` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_C8AC828B_7267_4862_9377_BBCF20C720A8_GUID_A311C37E_C2B8_4156_A94A_B3563CE9F3F1 />

<GUID_C8AC828B_7267_4862_9377_BBCF20C720A8_UL_FDBA955103AB498CA12FB813A47E03C0 />

Example:

```javascript
"pathType": "EACH_ZONE"
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`context` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Contains additional settings that affect task execution.

This task does not support analysis environments.

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`f` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_9B5D5783_E386_45F7_8EA8_88843A1BB484 />

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_C771449E_6BA7_4CB4_9328_2C855A14B2B2 />

</StyledTableCell>

</StyledTableRow>

</StyledTable>

## Response

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_1702083F_151C_4A0C_AF36_0D0DD9E2563A />

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_4B398B66_01FD_40FB_9AEE_30371F0A8CD8 />

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_ED11CCC7_40D3_4ADD_A679_A3F6964834ED />

```javascript
https://<raster analysis tools url>/OptimalPathAsRaster/jobs/<jobId>
```

 

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_50D345C8_14F8_4A4A_AB1E_A6BBD19C49EF />

```javascript
https://<raster analysis tools url>/OptimalPathAsRaster/jobs/<jobId>/results/outputOptimalPathAsRaster
```

 

## Example usage

Below is a sample request URL for `OptimalPathAsRaster` .

```javascript
https://services.myserver.com/arcgis/rest/services/System/RasterAnalysisTools/GPServer/OptimalPathAsRaster/submitJob
```

 

## JSON Response example

The response returns the `outputRaster`  output parameter, which has properties for parameter name, data type, and value. The content of `value`  depends on the `outputRasterName`  parameter being provided in the initial request. If `outputRasterName`  was provided, `value`  contains the URL for the feature service layer. If `outputRasterName`  was not provided, `value`  contains a feature collection.

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_9370F058_5BA7_4BA3_8D9F_EFB8ADF723C0 />

## JSON Response example

```javascript
{
  "paramName": "outOtimalRasterPath",
  "dataType": "GPString",
  "value": {
    "itemId": "f121390b85ef419790479fc75b493efd",
    "url": "https://<server name>/arcgis/rest/services/Hosted/<service name>/ImageServer"
  }
}
```

 
