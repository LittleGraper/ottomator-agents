---
title: "Find Diagram Features"
description: "The findDiagramFeatures operation searches for the diagram features referenced in the diagram that are associated with a set of network elements or a set of diagram features represented in another diagram."
slug: "find-diagram-features-network-diagam-service"
url: "/find-diagram-features-network-diagam-service"
guid: "GUID-12B0B254-623D-42C1-9391-06389A5D381B"
migratedTopicMetadata:
  FTITLE: "Find Diagram Features (Network Diagam service)"
  FDESCRIPTION: ""
  FCHANGES: "missing blank character in JSON codeblockbody in the response syntax section"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "10.8 - *"
  CREATED-ON: "08/10/2020 09:29:27"
  FAUTHOR: "ablin"
  FSTATUS: "Released"
  MODIFIED-ON: "22/01/2021 07:35:52"
  VERSION: "5"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "6"
  ED: "GUID-9FAABA16-1E24-45C8-8A11-C164C70C2F10"
  FUSERGROUP: ""
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /<serviceName>/NetworkDiagramServer/diagrams/<diagramName>/findDiagramFeatures
  urlSegments:
    - name: <root>
      url: /catalog
    - name: /<serviceName>/NetworkDiagramServer/diagrams/<diagramName>/findDiagramFeatures
  methods: 
    - post
  sslOnly: 'no'
  versionIntroduced: ' 10.6'
---

import GUID_975B7744_9503_41BE_A799_3D09E55A85D5_GUID_61665A7B_93DA_486F_A8E6_9346FC7AF420 from "./snippets/GUID-975B7744-9503-41BE-A799-3D09E55A85D5/_GUID-61665A7B-93DA-486F-A8E6-9346FC7AF420";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_F6FE67FB_9ACA_45E7_831C_DD51A831EAD3 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-F6FE67FB-9ACA-45E7-831C-DD51A831EAD3";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_7AC426AF_5C62_4474_BBE7_6C36CC7DCEB6 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-7AC426AF-5C62-4474-BBE7-6C36CC7DCEB6";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_3EB2FA97_FEE5_4CCA_85DB_1B67B3F50172 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-3EB2FA97-FEE5-4CCA-85DB-1B67B3F50172";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_5BD34E45_603F_4F5B_B77D_236011A78DA4 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-5BD34E45-603F-4F5B-B77D-236011A78DA4";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_ABFDFF0B_C205_42C8_9ABD_73DE1FE97AE0 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-ABFDFF0B-C205-42C8-9ABD-73DE1FE97AE0";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_17DF280A_CE78_4C37_8906_9FA8518D9989 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-17DF280A-CE78-4C37-8906-9FA8518D9989";
import GUID_3EB37995_2FD3_456A_965A_A1935823EF16_GUID_93C8F8A2_C24D_4137_A321_1954A05468DE from "./snippets/GUID-3EB37995-2FD3-456A-965A-A1935823EF16/_GUID-93C8F8A2-C24D-4137-A321-1954A05468DE";
import GUID_3EB37995_2FD3_456A_965A_A1935823EF16_GUID_846C3BC9_8054_4D10_8980_CE245FED8D72 from "./snippets/GUID-3EB37995-2FD3-456A-965A-A1935823EF16/_GUID-846C3BC9-8054-4D10-8980-CE245FED8D72";
import GUID_3EB37995_2FD3_456A_965A_A1935823EF16_GUID_ED939E48_9751_4CFF_8C36_DC8DAA1704AC from "./snippets/GUID-3EB37995-2FD3-456A-965A-A1935823EF16/_GUID-ED939E48-9751-4CFF-8C36-DC8DAA1704AC";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_4631762B_50EE_44C6_9461_38BDDF1BB012 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-4631762B-50EE-44C6-9461-38BDDF1BB012";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_7D12F246_BE1B_414F_8A39_8054E24176EB from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-7D12F246-BE1B-414F-8A39-8054E24176EB";

## Description

The `findDiagramFeatures` operation searches for the diagram features referenced in the diagram that are associated with a set of network elements or a set of diagram features represented in another diagram. It is performed on a [Diagram resource](/diagram-network-diagram-service). It returns an array of diagram feature JSON objects for the input fromDiagram.

<Note type={"note"}>

<GUID_975B7744_9503_41BE_A799_3D09E55A85D5_GUID_61665A7B_93DA_486F_A8E6_9346FC7AF420 />

</Note>

##  Request parameters 

<StyledTable headers={"Parameter,Details"}>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`gdbVersion` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_F6FE67FB_9ACA_45E7_831C_DD51A831EAD3 />

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_7AC426AF_5C62_4474_BBE7_6C36CC7DCEB6 />

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_3EB2FA97_FEE5_4CCA_85DB_1B67B3F50172 />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`sessionId` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_5BD34E45_603F_4F5B_B77D_236011A78DA4 />

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_ABFDFF0B_C205_42C8_9ABD_73DE1FE97AE0 />

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_17DF280A_CE78_4C37_8906_9FA8518D9989 />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`moment` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_3EB37995_2FD3_456A_965A_A1935823EF16_GUID_93C8F8A2_C24D_4137_A321_1954A05468DE />

<GUID_3EB37995_2FD3_456A_965A_A1935823EF16_GUID_846C3BC9_8054_4D10_8980_CE245FED8D72 />

<GUID_3EB37995_2FD3_456A_965A_A1935823EF16_GUID_ED939E48_9751_4CFF_8C36_DC8DAA1704AC />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`fromFeatures` 
<br /> 
(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Depending on whether you want to retrieve diagram features associated with network elements (case#1) or with diagram features that are represented in another diagram (case#2), an array of network element Global IDs (case#1), or an array of network diagram feature Global IDs (case#2).

Syntax: `fromFeatures = ["<globalID1>", ...,"<globalIDN>"]` 

Example: 

Case#1—Retrieving the diagram feature Global IDs associated with the specified network Global IDs {'{'}E6260A67-94F6-4640-B717-4D3A9E5A0F17{'}'} in the diagram resource: 
```javascript
fromFeatures = ["{E6260A67-94F6-4640-B717-4D3A9E5A0F17}"]
```
Case#2—Retrieving the diagram feature Global IDs in the diagram resource that are associated with the specified diagram feature Global IDs {'{'}FDE3A114-D367-4FA9-BAAC-C4B9B9F57B87{'}'}, those features being represented in the specified "testStore" diagram; that is, with 
```javascript
fromDiagram=testStore
fromFeatures = ["{FDE3A114-D367-4FA9-BAAC-C4B9B9F57B87}"]
```

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`fromDiagram` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The name of the diagram the Global IDs specified for the `fromFeatures` parameter belong to, or null when the `fromFeatures` parameter references network elements.

Syntax: `fromDiagram=<diagramName>` 

Example: `fromDiagram=testStore` 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`includeAggregations` 
<br /> 
(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

A boolean statement that determines whether to include aggregated network elements.

Case#1—When the fromFeatures reference network element Global IDs

-   `true`—The operation returns the diagram features that strictly represent these network elements in the diagram, and the diagram features that are associated with these network elements but not represented in the diagram where they are reduced or collapsed.
-   `false`—The operation only returns the diagram features associated with these network elements that are not reduced nor collapsed in the diagram; that is, it only returns the diagram features associated with these network elements that are visibly represented in the diagram.

Case#2—When the fromFeatures reference diagram feature Global IDs represented in another diagram

-   `true`—The operation returns the diagram features associated with the same network elements those diagram features are, whether those features are reduced or collapsed in this other diagram and/or in the diagram.
-   `false`—The operation only returns the diagram features associated with the same network elements that are visibly represented in this other diagram and in the diagram.

Syntax: `includeAggregations=<true | false>` 

Example: `includeAggregations=true` 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`addConnectivityAssociations` 
<br /> 
(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">


A boolean statement that determines whether to include the connectivity associations.

When the fromFeatures reference utility network feature Global IDs

-   `true`—The operation also adds any connectivity association diagram edges for which it has just retrieved both the "from" and "to" diagram junctions.
-   `false`—The operation doesn't add any connectivity association diagram edges represented in the diagram resource.

Syntax: `addConnectivityAssociations=<true | false>` 

Example: `addConnectivityAssociations=true` 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`addStructuralAttachments` 
<br /> 
(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

A boolean statement that determines whether to include the structural attachments.

When the fromFeatures reference network elements Global IDs

-   `true`—The operation also adds any structural attachment diagram edges for which it has just retrieved both the "from" and "to" diagram junctions.
-   `false`—The operation doesn't add any structural attachment diagram edges represented in the diagram resource.

Syntax: `addStructuralAttachments=<true | false>` 

Example: `addStructuralAttachments=true` 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`f` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_4631762B_50EE_44C6_9461_38BDDF1BB012 />

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_7D12F246_BE1B_414F_8A39_8054E24176EB />

</StyledTableCell>

</StyledTableRow>

</StyledTable>

## Example usage

Example#1—Retrieving the diagram feature Global IDs associated with the utility network feature which Global ID is {'{'}AF41424F-1073-4640-A596-220AC3A33DA6{'}'} in the "DiagramTest1" diagram resource; that is:

-   URL: `https://myserver.esri.com/server/rest/services/Naperville/NetworkDiagramServer/diagrams/DiagramTest1/findDiagramFeatures` 
-   Parameters: 

    ```javascript
    gdbVersion=
    sessionId=
    moment=
    fromFeatures=["{AF41424F-1073-4640-A596-220AC3A33DA6}"]
    fromDiagram=
    includeAggregations=true
    addConnectivityAssociations=false
    addStructuralAttachments=false
    f=pjson
    ```

     
-   Sent URL (GET): `https://myserver.esri.com/server/rest/services/Naperville/NetworkDiagramServer/diagrams/DiagramTest1/findDiagramFeatures?gdbVersion=&sessionId=&moment=&fromFeatures=%5B%22%7BAF41424F-1073-4640-A596-220AC3A33DA6%7D%22%5D&fromDiagram=&includeAggregations=true&addConnectivityAssociations=false&addStructuralAttachments=false&f=pjson` 

Example#2—Retrieving in the "Basic_RMT003" diagram resource the diagram feature Global IDs which are associated with the same utility network feature or features as the diagram feature with Global ID {'{'}1EE98487-730C-4193-8510-8BF975332237{'}'}, which is in the the "DiagramTest1" diagram; that is:

-   URL: `https://myserver.esri.com/server/rest/services/Naperville/NetworkDiagramServer/diagrams/Basic_RMT003/findDiagramFeatures?` 
-   Parameters: 

    ```javascript
    gdbVersion=
    sessionId=
    moment=
    fromFeatures=["1EE98487-730C-4193-8510-8BF975332237"]
    fromDiagram=DiagramTest1
    includeAggregations=true
    addConnectivityAssociations=false
    addStructuralAttachments=false
    f=pjson
    ```

     
-   Sent URL (GET): `https://myserver.esri.com/server/rest/services/Naperville/NetworkDiagramServer/diagrams/Basic_RMT003/findDiagramFeatures?gdbVersion=&sessionId=&moment=&fromFeatures=%5B%22%7B1EE98487-730C-4193-8510-8BF975332237%7D%22%5D&fromDiagram=DiagramTest1&includeAggregations=true&addConnectivityAssociations=false&addStructuralAttachments=false&f=pjson` 

Example#3—Retrieving the diagram feature Global IDs associated with the utility network points which Global ID are {'{'}AF41424F-1073-4640-A596-220AC3A33DA6{'}'}, {'{'}0B93680B-4B8A-4453-BC28-6763BC0A2184{'}'} and {'{'}9F09AC2C-E2C4-4B8A-BAE9-1D2405D79389{'}'} in the "DiagramTest1" diagram resource, then add the connectivity associations and structural attachment diagram edges that may connect the returned junctions; that is:

-   URL: `https://myserver.esri.com/server/rest/services/Naperville/NetworkDiagramServer/diagrams/DiagramTest1/findDiagramFeatures` 
-   Parameters: 

    ```javascript
    gdbVersion=
    sessionId=
    moment=
    fromFeatures=["{AF41424F-1073-4640-A596-220AC3A33DA6}","{0B93680B-4B8A-4453-BC28-6763BC0A2184}","{9F09AC2C-E2C4-4B8A-BAE9-1D2405D79389}"]
    fromDiagram=
    includeAggregations=false
    addConnectivityAssociations=true
    addStructuralAttachments=true
    f=pjson
    ```

     
-   Sent URL (GET): `https://myserver.esri.com/server/rest/services/Naperville/NetworkDiagramServer/diagrams/DiagramTest1/findDiagramFeatures?gdbVersion=&sessionId=&moment=&fromFeatures=%5B%22%7BAF41424F-1073-4640-A596-220AC3A33DA6%7D%22%2C%22%7B0B93680B-4B8A-4453-BC28-6763BC0A2184%7D%22%2C%22%7B9F09AC2C-E2C4-4B8A-BAE9-1D2405D79389%7D%22%5D&fromDiagram=&includeAggregations=false&addConnectivityAssociations=true&addStructuralAttachments=true&f=pjson` 

## JSON Response syntax

An array of diagram features JSON object:

```json
{
 "features": [
  {
   "globalID": "< DiagFeatGlobalID1 >", //string
   "featureOID": < DiagFeatOID1 >, // int
   "geometryType": < 1 | 2 | 3 >,
   "networkSourceID": < assUNSourceID1 >, //int
  },
  ...
  {
   "globalID": "< DiagFeatGlobalIDN >", //string
   "featureOID": < DiagFeatOIDN >, // int
   "geometryType": < 1 | 2 | 3 >,
   "networkSourceID": < assUNSourceIDN >, //int
  },

 ]
}


```

 

## JSON Response example

JSON Response Example

```json
{
 "features": [
  {
   "globalID": "{1EE98487-730C-4193-8510-8BF975332237}",
   "featureOID": 10470,
   "geometryType": 1,
   "networkSourceID": 6
  },
  {
   "globalID": "{2FE3062B-BC03-45B6-9B45-ECE680470C92}",
   "featureOID": 10471,
   "geometryType": 1,
   "networkSourceID": 6
  },
  {
   "globalID": "{1D7A1416-EA05-42F4-B8C1-D992F10086EA}",
   "featureOID": 10472,
   "geometryType": 1,
   "networkSourceID": 6
  },
  {
   "globalID": "{43CF9E6F-7F14-4C49-A233-B4CCF884DD38}",
   "featureOID": 11249,
   "geometryType": 3,
   "networkSourceID": 1
  },
  {
   "globalID": "{72745B4E-D05B-48C7-A21F-A68B7DA14954}",
   "featureOID": 11254,
   "geometryType": 3,
   "networkSourceID": 1
  }
 ]
}

```

 
