---
title: "Cost Path As Polyline"
description: "The CostPathAsPolyline task calculates the least-cost path from a source to a destination."
slug: "cost-path-as-polyline"
url: "/cost-path-as-polyline"
guid: "GUID-504DDF63-A311-412A-8001-1DA16D243C76"
migratedTopicMetadata:
  FTITLE: "Cost Path as Polyline"
  FDESCRIPTION: ""
  FCHANGES: "Fields should not be quoted"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "11.1 - *"
  CREATED-ON: "30/03/2023 14:11:42"
  FAUTHOR: "egraham"
  FSTATUS: "Released"
  MODIFIED-ON: "03/04/2023 22:49:18"
  VERSION: "7"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "6"
  ED: "GUID-F59418F8-642B-4F9F-A752-6A28D36F7A3B"
  FUSERGROUP: ""
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /<serviceName>/RasterAnalysisTools/GPServer/CostPathAsPolyline
  urlSegments:
    - name: <root>
      url: /catalog
    - name: /<serviceName>/RasterAnalysisTools/GPServer/CostPathAsPolyline
  methods: []
  sslOnly: 'no'
  versionIntroduced: 10.7.1
---

import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_1D64EF20_7409_4983_9D3B_CC6DEB25E851 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-1D64EF20-7409-4983-9D3B-CC6DEB25E851";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_3C3804F2_DF27_4AB4_8A26_39CB1316D7DD from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-3C3804F2-DF27-4AB4-8A26-39CB1316D7DD";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_59BC6D2B_4DDF_47B1_87EB_007154B11B73 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-59BC6D2B-4DDF-47B1-87EB-007154B11B73";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_358B6C50_A4A3_4B48_BF46_CDA9A9F9BBA7 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-358B6C50-A4A3-4B48-BF46-CDA9A9F9BBA7";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_AD9814DB26DA439EA899971516D5E44D from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_LI_AD9814DB26DA439EA899971516D5E44D";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_9B5D5783_E386_45F7_8EA8_88843A1BB484 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-9B5D5783-E386-45F7-8EA8-88843A1BB484";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_C771449E_6BA7_4CB4_9328_2C855A14B2B2 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-C771449E-6BA7-4CB4-9328-2C855A14B2B2";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_1702083F_151C_4A0C_AF36_0D0DD9E2563A from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-1702083F-151C-4A0C-AF36-0D0DD9E2563A";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_4B398B66_01FD_40FB_9AEE_30371F0A8CD8 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-4B398B66-01FD-40FB-9AEE-30371F0A8CD8";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_ED11CCC7_40D3_4ADD_A679_A3F6964834ED from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-ED11CCC7-40D3-4ADD-A679-A3F6964834ED";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_50D345C8_14F8_4A4A_AB1E_A6BBD19C49EF from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-50D345C8-14F8-4A4A-AB1E-A6BBD19C49EF";

## Description

![Cost Path As Polyline diagram](./images/GUID-152880A5-E7D4-4811-8E0F-FC41AD2EDD2D-web.png)

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_1D64EF20_7409_4983_9D3B_CC6DEB25E851 />

<Note type={"tip"}>

The [Optimal Path As Line](/optimal-path-as-line) task provides enhanced functionality or performance.

</Note>

Example applications include the following:

-   Finding the least-cost route for a new road
-   Routing drones around restricted air space
-   Finding the downstream trace from a location

## Request parameters

<StyledTable headers={"Parameter,Details"}>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`inputDestinationRasterOrFeatures` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

A raster or feature dataset that identifies those cells from which the least-cost path is determined to the least costly source.

If the input is an image service, it must consist of cells that have valid values (zero is a valid value) for the destinations, and the remaining cells must be assigned NoData.

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_3C3804F2_DF27_4AB4_8A26_39CB1316D7DD />

Raster input examples:

```javascript
//Portal item as input raster
"inputDestinationRasterOrFeatures":{"itemId": <portal item Id>}

//URL as input raster
"inputDestinationRasterOrFeatures":{"url": <image service layer url>}
```

 

Feature input examples:

```javascript
//Feature layer URL
"inputDestinationRasterOrFeatures":{"url": <feature service layer url>}

//Feature collection
"inputDestinationRasterOrFeatures":{"layerDefinition": {}, "featureSet": {}}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`inputCostDistanceRaster` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The cost distance raster is used to determine the least-cost path from the sources to the destinations when you use a cost backlink raster for the direction input.

The Euclidean distance raster is used to determine the path from the sources to the destinations when you use a Euclidean back direction raster for the direction input.

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_59BC6D2B_4DDF_47B1_87EB_007154B11B73 />

Examples:

```javascript
//Portal item as input raster
"inputCostDistanceRaster":{"itemId": <portal item id>}

//URL as input raster
"inputCostDistanceRaster":{"url": <image service layer url>}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`inputCostBacklinkRaster` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The cost backlink raster is used to determine the path to return to a source via the least-cost path or the shortest path.

For each cell in the backlink, back direction, or flow direction raster, a value identifies the neighbor that is the next cell on the path from the cell to a source cell.

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_59BC6D2B_4DDF_47B1_87EB_007154B11B73 />

Raster input examples:

```javascript
//Portal item as input raster
"inputCostBacklinkRaster":{"itemId": <portal item id>}

//URL as input raster
"inputCostBacklinkRaster":{"url": <image service layer url>}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`outputPolylineName` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_358B6C50_A4A3_4B48_BF46_CDA9A9F9BBA7 />

Output feature service examples:

```javascript
//REST web example
myOutput

//REST scripting example
"outputPolylineName" : "myOutput1"
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`pathType` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

A string describing the path type, which can be either `BEST_SINGLE` , `EACH_CELL` , or `EACH_ZONE` .

-   `BEST_SINGLE` : For all cells on the input destination data, the least-cost path is derived from the cell with the minimum of the least-cost paths to source cells. This is the default.
-   `EACH_CELL` : For each cell with valid values on the input destination data, a least-cost path is determined and saved on the output raster. With this option, each cell of the input destination data is treated separately, and a least-cost path is determined for each cell.
-   `EACH_ZONE` : For each zone on the input destination data, a least-cost path is determined and saved on the output raster. With this option, the least-cost path for each zone begins at the cell with the lowest cost distance weighting in the zone. 

Example:

```javascript
"pathType": "EACH_ZONE"
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`destinationField` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The field used to obtain values for the destination locations.

The input feature service must contain at least one valid integer field.

Example:

```javascript
"destinationField": destinationValue
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`context` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Contains additional settings that affect task execution.

-   <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_AD9814DB26DA439EA899971516D5E44D />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`f` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_9B5D5783_E386_45F7_8EA8_88843A1BB484 />

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_C771449E_6BA7_4CB4_9328_2C855A14B2B2 />

</StyledTableCell>

</StyledTableRow>

</StyledTable>

## Response

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_1702083F_151C_4A0C_AF36_0D0DD9E2563A />

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_4B398B66_01FD_40FB_9AEE_30371F0A8CD8 />

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_ED11CCC7_40D3_4ADD_A679_A3F6964834ED />

```javascript
https://<raster analysis tools url>/CostPathAsPolyline/jobs/<jobId>
```

 

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_50D345C8_14F8_4A4A_AB1E_A6BBD19C49EF />

```javascript
https://<raster analysis tools url>/CostPathsAsPolyline/jobs/<jobId>/results/outputPolylineFeatures
```

 

## Example usage

Below is a sample request URL for `CostPathAsPolyline` .

```javascript
https://services.myserver.com/arcgis/rest/services/System/RasterAnalysisTools/GPServer/CostPathAsPolyline/submitJob
```

 

## JSON response example

The response returns the `outputPolylineFeatures`  output parameter, which has properties for parameter name, data type, and value. The content of `value`  depends on the `outputPolylineName`  parameter being provided in the initial request. If `outputPolylineName`  was provided, `value`  contains the URL for the feature service layer. If `outputPolylineName`  was not provided, `value`  contains a feature collection.

`outputPolylineName`  is provided in request: 

```other
{
  "paramName": "outputPolylineFeatures",
  "dataType": "GPString",
  "value": {"url":"<hosted feature service layer url>"}
}
```

 

`outputPolylineName`  is not provided in request: 

```other
{
  "paramName":"outputPolylineFeatures",
  "dataType":"GPString",
  "value":{"layerDefinition": {}, "featureSet": {}}
}
```

 
