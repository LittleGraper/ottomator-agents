---
title: "Buffer expressions"
description: "When you use the Create Buffers or Reconstruct Tracks tools, you can apply buffers based on an expression."
slug: "bufferexpressions"
url: "/geoanalytics/task-concepts/bufferexpressions"
redirectFrom:
  - /bufferexpressions/
guid: "GUID-87E3790E-E254-4E46-B820-CA5A48EB3617"
migratedTopicMetadata:
  FTITLE: "BufferExpressions"
  FDESCRIPTION: "fixed fromatting of syntax"
  FCHANGES: "Replacing doc references"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "10.6.1 - *"
  CREATED-ON: "16/08/2019 10:46:58"
  FAUTHOR: "tohara"
  FSTATUS: "Released"
  MODIFIED-ON: "06/11/2019 14:40:40"
  VERSION: "5"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "6"
  ED: "GUID-6503EC1A-DED5-47AB-84FA-7DAFEE782D29"
  FUSERGROUP: "VUSERGROUPARCGISONLINEDOC"
  READ-ACCESS: ""
restInfoMetadata: {}
---
import GAX_DEPRECATION_NOTICE from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_gax-general-deprecation-notice.mdx";

<GAX_DEPRECATION_NOTICE />

The [Create Buffers](/create-buffers) and [Reconstruct Tracks](/reconstruct-tracks) tools can apply buffers based on an 
expression. Buffer expressions can be straightforward, such as `= Field1 + 10`, or more complicated. 

To learn about the Arcade expressions available in GeoAnalytics Server, see
[Use buffer expressions with GeoAnalytics Tools](https://enterprise.arcgis.com/en/portal/latest/use/geoanalytics-buffer-expressions.htm).

Buffer expressions must start with an equal sign (`=`). The buffer expression is applied to each feature in the dataset,
where each feature may have a unique buffer distance. The following table explains the available functions:

#### Buffer expression functions

<StyledTable headers={"Function,Description"}>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`as_meters()`

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Applies a calculation assuming the input values are in meters.

Syntax:
```javascript
as_meters( <value> )
```

`<value>` is one of the following:

 -   A numeric field.
 -   A number.

Examples:

-   `as_meters($feature['Store dist'])`
-   `as_meters(distance)`
-   `as_meters(10)`

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`as_kilometers()`

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Applies a calculation assuming the input values are in kilometers.

Syntax: `as_kilometers( <value> )`

`<value>` is one of the following:

-   A numeric field.
-   A number.

Examples:

-   `as_kilometers($feature['Store dist'])`
-   `as_kilometers(distance)`
-   `as_kilometers(10)`

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`as_feet()`

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Applies a calculation assuming the input values are in feet.

Syntax: `as_feet( <value> )`

`<value>` is one of the following:

-   A numeric field.
-   A number.

Examples:

-   `as_feet($feature['Store dist'])`
-   `as_feet(distance)`
-   `as_feet(10)`

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`as_yards()`

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Applies a calculation assuming the input values are in yards.

Syntax: `as_yards( <value> )`

`<value>` is one of the following:

-   A numeric field.
-   A number.

Examples:

-   `as_yards($feature['Store dist'])`
-   `as_yards(distance)`
-   `as_yards(10)`

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`as_nautical_miles()`

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Applies a calculation assuming the input values are in nautical miles.

Syntax: `as_nautical_miles( <value> )`

`<value>` is one of the following:

-   A numeric field.
-   A number.

Examples:

-   `as_nautical_miles($feature['Store dist'])`
-   `as_nautical_miles(distance)`
-   `as_nautical_miles(10)`

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`abs()`

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Returns the absolute (positive) value of the input.

Syntax: `abs( <value> )`

`<value>` is one of the following:

-   A numeric field.
-   A number.

Examples:

-   `abs($feature['Store dist'])`
-   `abs(distance)`
-   `abs(10)`

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`log()`

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Returns the natural logarithm (base E) of the input.

Syntax: `log( <value> )`

`<value>` is one of the following:

-   A numeric field.
-   A number.

Examples:

-   `log($feature['Store dist'])`
-   `log(distance)`
-   `log(10)`

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`sin()`

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Returns the trigonometric sine of the input value. The input is assumed to be an angle in radians.

Syntax: `sin( <value> )`

`<value>` is one of the following:

-   A numeric field.
-   A number.

Examples:

-   `sin($feature['Store dist'])`
-   `sin(radValue)`
-   `sin(1)`

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`cos()`

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Returns the trigonometric cosine of the input value. The input is assumed to be an angle in radians.

Syntax: `cos( <value> )`

`<value>` is one of the following:

-   A numeric field.
-   A number.

Examples:

-   `cos($feature['Store dist'])`
-   `cos(radValue)`
-   `cos(1)`

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`tan()`

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Returns the tangent of the input value. The input is assumed to be an angle in radians.

Syntax: `tan( <value> )`

`<value>` is one of the following:

-   A numeric field.
-   A number.

Examples:

-   `tan($feature['Store dist'])`
-   `tan(distance)`
-   `tan(1.2)`

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`sqrt()`

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Returns the square root of the input value.

Syntax: `sqrt( <value> )`

`<value>` is one of the following:

-   A numeric field.
-   A number.

Examples:

-   `sqrt($feature['Store dist'])`
-   `sqrt(distance)`
-   `sqrt(9)`

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`min(,)`

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Returns the lowest valued number in the input field.

Syntax: `min( <value>, <value> )`

`<value>` is one of the following:

-   A numeric field.
-   A number.

Examples:

-   `min($feature['Store dist'], $feature['Marketdist'])`
-   `min(distance, 10)`

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`max(,)`

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Returns the highest valued number in the input field.

Syntax: `max( <value>, <value> )`

`<value>` is one of the following:

-   A numeric field.
-   A number.

Examples:

-   `max($feature['Store dist'], $feature['Marketdist'])`
-   `max(distance, 10)`

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`constrain(,,)`

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Returns the input value if it's within the constraining bounds. If the value is less than the low value, it returns the low value. If the value is greater than the high value, it returns the high value.

Syntax: `constrain( <value> , <low> , <high>  )`

`value`, `low`, and `high` can be the following:

-   A numeric field.
-   A number.

Examples:

-   `constrain($feature['Store dist'], 6, $feature['distance'])`—Returns 6 if `Store dist` is less than 6, `distance` if `Store dist` is greater than `distance`, and `Store dist` otherwise.
-   `constrain(distance, 0, 10)`—Returns 0 if `distance` is less than 0, 10 if `distance` is greater than 10, and `distance` otherwise.

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`iff(,,)`

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Returns one value if a condition evaluates to `true`, and another value if that condition evaluates to `false`.

Syntax: `iff( <condition>, <true value> ,  < false value>  )`

`condition` is a conditional that is tested for each feature.

`true value` and `false value` can be the following:

-   A numeric field.
-   A number.
-   A function.

Examples:

-   `iff($feature['field1'] > $feature['field2'], $feature['field1'], 0)`—Returns `field1` if `field1` is greater than `field2`, and `0` otherwise.
-   `iff($feature['field1'] > $feature['field2'], iff($feature['field2'] = 0, $feature['field3'], $feature['field4']), 0)`—Returns the result of the second `iff` function if `field1` is greater than `field2`, and `0` otherwise.

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`when(,,,...,,)`

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Evaluates a series of expressions in turn, until one evaluates to `true`.

Syntax: `when( <expression1> , <result1> ,  <expression2> , <result2> , ... , <expressionN> , <resultN>, <default> )`

-   `expression`—An expression. If there is a space in the field name, place it in square brackets.
-   `result`—Can be a number or field.
-   `default`—An optional value if none of the expression match.

Example:

-   `when(($feature['field1] + 10) > 1, 1,($feature['field2'] + 10) > 2  , 2, $feature['field3'])`—If `field1 + 10` is greater than 1, returns 1. If not, checks if `field2 + 10` is greater than 2. If yes, it returns 2. If not, it returns `field3`.

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`decode(,,,...,,)`

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The `decode` function evaluates an expression and compares its value with subsequent parameters. If the expression matches, it returns the next parameter value. If none match, there is the option for the last parameter to be a default return value.

Syntax: `decode( <conditional val> , <case1> , <result1>, <case2>, <result2>, ... <caseN>, <resultN>, <defaultValue> )`

-   `conditional val`—Can be a field or an expression.
-   `case`—A value to be compared to the `conditional val`.
-   `result`—The result if the corresponding case matches the `conditional val`.
-   `defaultValue`—An optional value if no other values are `true`.

Example:

-   `decode($feature['field1'] + 3 , $feature['field1'], 1, $feature['field2'], 2, 0)`—Compares equality between the conditional val `field1 + 3` and case1 `field1`. If `true`, it returns 1. If `false`, it compares the equality between `field1 + 3` and `field2`. If `true`, it returns 2; otherwise, it returns 0.

</StyledTableCell>

</StyledTableRow>

</StyledTable>
