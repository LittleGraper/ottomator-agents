---
title: "Geographically Weighted Regression"
description: "API reference for the Geographically Weighted Regression operation available through the ArcGIS GeoAnalytics Server service."
slug: "geographically-weighed-regression"
url: "/geoanalytics/tasks/geographically-weighed-regression"
redirectFrom:
  - /geographically-weighed-regression/
guid: "GUID-A401B8DB-6E7F-4953-9D2F-F7DB010850AD"
migratedTopicMetadata:
  FTITLE: "Geographically Weighed Regression"
  FDESCRIPTION: ""
  FCHANGES: ""
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "10.9.1-*"
  CREATED-ON: "25/06/2021 16:45:05"
  FAUTHOR: "dgourley"
  FSTATUS: "Released"
  MODIFIED-ON: "28/09/2021 10:44:20"
  VERSION: "3"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "8"
  ED: "GUID-B8AEA310-CA4D-4292-81CC-DA3CF7FAE74B"
  FUSERGROUP: "VUSERGROUPARCGISONLINEDOC"
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /GeographicallyWeightedRegression
  urlSegments:
    - name: <geoanalytics-url>
      url: /geoanalytics-tasks
    - name: /GeographicallyWeightedRegression
  methods: []
  sslOnly: 'no'
  versionIntroduced: 10.8.1
---

import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_DC085569_B522_4EE0_B0B5_2F7A608B8064 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-DC085569-B522-4EE0-B0B5-2F7A608B8064";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_8280F941_0439_4805_B034_1E224F28280C from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-8280F941-0439-4805-B034-1E224F28280C";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_B66A5391_775F_4E9A_B717_F84D52A10572 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-B66A5391-775F-4E9A-B717-F84D52A10572";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_E671F554_89D2_4CAD_B032_525E1CE90C18 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-E671F554-89D2-4CAD-B032-525E1CE90C18";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9BD8524A_A4D0_4128_876A_6CA8568233A7 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-9BD8524A-A4D0-4128-876A-6CA8568233A7";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9B5D5783_E386_45F7_8EA8_88843A1BB484 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-9B5D5783-E386-45F7-8EA8-88843A1BB484";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_C771449E_6BA7_4CB4_9328_2C855A14B2B2 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-C771449E-6BA7-4CB4-9328-2C855A14B2B2";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9562E716_BEF8_4A70_A787_C7231BB32C3E from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-9562E716-BEF8-4A70-A787-C7231BB32C3E";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_CBCE73F1_60C0_4D53_BDE3_B2C3ACEBD24A from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-CBCE73F1-60C0-4D53-BDE3-B2C3ACEBD24A";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_EE2D677C_9158_4D61_A164_2444C6476C92 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-EE2D677C-9158-4D61-A164-2444C6476C92";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_03071520_C169_41C0_8E51_866D82061408 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-03071520-C169-41C0-8E51-866D82061408";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_A0501D59_23F2_456F_AAFF_3BCC593D9E34 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-A0501D59-23F2-456F-AAFF-3BCC593D9E34";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_A771740E_17FA_47C6_A2FC_6BF0B76090CA from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-A771740E-17FA-47C6-A2FC-6BF0B76090CA";
import GAX_DEPRECATION_NOTICE from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_gax-general-deprecation-notice.mdx";

## Description

<GAX_DEPRECATION_NOTICE />

![Geographically Weighted Regression](../../images/GUID-ED7ABECA-5911-4270-8842-D8767C8E33BA-web.png)

This tool performs `GeographicallyWeightedRegression` (GWR), which is a local form of linear regression used to model
spatially varying relationships.

The following are examples of the types of questions you can answer using this tool:

-    Is the relationship between educational attainment and income consistent across the study area?
-    What are the key variables that explain high forest fire frequency?
-    Where are the districts in which children are achieving high test scores? What characteristics seem to be associated? Where is each characteristic most important?

##  Request parameters 

<StyledTable headers={"Parameter,Details"}>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `inputLayer`
         (Required)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The layer containing the dependent and independent variables.
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_DC085569_B522_4EE0_B0B5_2F7A608B8064 />

         REST examples
         ```javascript
         //REST web example
         {"url": "https://myportal.domain.com/server/rest/services/Hosted/hurricaneTrack/FeatureServer/0", "filter": "Month = 'September'"}

         //REST scripting example
         "inputLayer": {"url": "https://myportal.domain.com/server/rest/services/Hosted/hurricaneTrack/FeatureServer/0", "filter":"Month = 'September'"}
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `explanatoryVariables`
         (Required)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         One or more fields representing independent explanatory variables in your regression model.

         REST examples
         ```javascript
         //REST web example
         Rate

         //REST scripting example
         "explanatoryVariables": "Rating,Nights"
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `dependentVariable`
         (Required)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The numeric field containing the observed values you want to model.

         REST examples
         ```javascript
         //REST web example
         Earnings

         //REST scripting examples
         "dependentVariable": "Arrest"
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `modelType`
         (Required)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         Specifies the type of data that will be modeled.

         REST examples
         ```javascript
         //REST web example
         Continuous

         //REST scripting example
         "modelType": "Continuous"
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `neighborhoodSelectionMethod`
         (Required)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         Specifies how the neighborhood size will be determined.
         -   `UserDefined` —The neighborhood size will be specified by either the `numberOfNeighbors` or `distanceBand` parameter.

         REST examples
         ```javascript
         //REST web example
         UserDefined

         //REST scripting example
         "neighborhoodSelectionMethod": "UserDefined"
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `neighborhoodType`
         (Required)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         Specifies whether the neighborhood used is constructed as a fixed distance or allowed to vary in spatial extent depending on the density of the features.
         -   `DistanceBand` —The neighborhood size is a constant or fixed distance for each feature.
         -   `NumberOfNeighbors` —The neighborhood size is a function of a specified number of neighbors included in calculations for each feature. Where features are dense, the spatial extent of the neighborhood is smaller; where features are sparse, the spatial extent of the neighborhood is larger.

         REST examples
         ```javascript
         //REST web example
         DistanceBand

         //REST scripting example
         "neighborhoodType": "NumberOfNeighbors"
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `distanceBand`
         (Required if `neighborhoodType` is `DistanceBand`)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The distance for the spatial extent of the neighborhood.

         REST examples
         ```javascript
         //REST web example
         10

         //REST scripting example
         "distanceBand": 22.5
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `distanceBandUnit`
         (Required if `distanceBand` is used)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The unit of the distance for the spatial extent of the neighborhood.
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_8280F941_0439_4805_B034_1E224F28280C />

         REST examples
         ```javascript
         //REST web example
         Meters

         //REST scripting example
         "distanceBandUnit": "Miles"
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `numberOfNeighbors`
         (Required if `neighborhoodType` is `NumberOfNeighbors`)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The closest number of neighbors (up to 1000) to consider for each feature. The number should be an integer between 2 and 1000.

         REST examples
         ```javascript
         //REST web example
         500

          //REST scripting example
         "numberOfNeighbors": 350
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `localWeightingScheme`
         (Optional)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         Specifies the kernel type that will be used to provide the spatial weighting in the model. The kernel defines how each feature is related to other features within its neighborhood.
         -   `BiSquare` —A weight of 0 will be assigned to any feature outside the neighborhood specified. This is the default.
         -   `Gaussian` —All features will receive weights, but weights become exponentially smaller the farther away they are from the target feature.

         REST examples
         ```javascript
         //REST web example
         BiSquare

          //REST scripting example
         "localWeightingScheme": Gaussian
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `outputTrainedName`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_B66A5391_775F_4E9A_B717_F84D52A10572 />

         REST examples
         ```javascript
         //REST web example
         myOutput

         //REST scripting example
         "outputTrainedName": "myOutput"
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `context`
         (Optional)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_E671F554_89D2_4CAD_B032_525E1CE90C18 />
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9BD8524A_A4D0_4128_876A_6CA8568233A7 />
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `f`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9B5D5783_E386_45F7_8EA8_88843A1BB484 />
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_C771449E_6BA7_4CB4_9328_2C855A14B2B2 />
      </StyledTableCell>
   </StyledTableRow>
</StyledTable>

## Example usage

Below is a sample request URL for `GeographicallyWeightedRegression`:

```javascript
https://webadaptor.domain.com/server/rest/services/System/GeoAnalyticsTools/GPServer/GeogrpahicallyWeightedRegression/submitJob?inputLayer={"url":"https://webadaptor.domain.com/server/rest/services/Hurricane/hurricaneTrack2017/0"}&dependentVariable=ShelterCapacity&explanatoryVariables=CityDensity, ShelterLocations&modelType=Continuous&neighborhoodType=NumberOfNeighbors&numberOfNeighbors=100&outputTrainedName=myoutput&context={"extent":{"xmin":-122.68,"ymin":45.53,"xmax":-122.45,"ymax":45.6,"spatialReference":{"wkid":4326}}}&f=json
```

## Response

<GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9562E716_BEF8_4A70_A787_C7231BB32C3E />

<GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_CBCE73F1_60C0_4D53_BDE3_B2C3ACEBD24A />

<GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_EE2D677C_9158_4D61_A164_2444C6476C92 />

```javascript
https://<analysis url>/GeographicallyWeightedRegression/jobs/<jobId>
```

### Access results

<GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_03071520_C169_41C0_8E51_866D82061408 />

```javascript
https://<analysis-url>/GeographicallyWeightedRegression/jobs/<jobId>/results/<response type>?token=<your token>&f=json
```

<StyledTable headers={"Response,Description"}>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `output`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The input features that are fit to the model. The type of feature (table, point, line, or polygon) depends on the input layers.
         ```javascript
         {"url": "https://<analysis-url>/GeographicallyWeightedRegression/jobs/<jobId>/results/output"}
         ```
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_A0501D59_23F2_456F_AAFF_3BCC593D9E34 />
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_A771740E_17FA_47C6_A2FC_6BF0B76090CA />
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `processInfo`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The `processInfo` parameter contains strings that summarize the `Geographically Weighted Regression` result. These strings are used for reporting by Map Viewer Classic. You can create your own custom reports for your application using these strings. There are four parts in the returned JSON as follows:
         -   `messageCode` —The serial number for each unique message.
         -   `message` —Text that may or may not contain parameters (in `${paramsName}` format) that need to be replaced by values.
         -   `params` —A dictionary of the keys and values to be inserted into the `${paramsName}` parameter in the message.
         -   `style` —The formatting of the report produced by the GeographicallyWeighted Regression tool in Map Viewer Classic.
         ```javascript
         {
         "messageCode" : "SS_84507",
         "message" : ["Attribute", "Min", "Max", "SD", "Mean","Input"],
         "params" : {},
         "style" : "<table><tr><th></th><th></th><th></th><th></th><th></th><th></th></tr>"
         }
         ```
      </StyledTableCell>
   </StyledTableRow>
</StyledTable>