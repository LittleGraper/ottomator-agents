---
title: "Merge Layers"
description: "The API reference for the Merge Layers operation available through the ArcGIS GeoAnalytics Server service."
slug: "merge-layers"
url: "/geoanalytics/tasks/merge-layers"
redirectFrom:
  - /merge-layers/
guid: "GUID-870A223D-0C72-4E25-A6BD-41229A3F896D"
migratedTopicMetadata:
  FTITLE: "Merge Layers"
  FDESCRIPTION: "Template conversion"
  FCHANGES: "GeoAnalytics template conversion"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "10.7.1 - *"
  CREATED-ON: "18/06/2019 08:23:40"
  FAUTHOR: "tohara"
  FSTATUS: "Released"
  MODIFIED-ON: "01/10/2019 17:39:50"
  VERSION: "1"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "18"
  ED: "GUID-4551A541-2B18-4040-82E9-3A57CAA0DB89"
  FUSERGROUP: "VUSERGROUPARCGISONLINEDOC"
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /MergeLayers
  urlSegments:
    - name: <geoanalytics-url>
      url: /geoanalytics-tasks
    - name: /MergeLayers
  methods: []
  sslOnly: 'no'
  versionIntroduced: '10.7'
---

import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_DC085569_B522_4EE0_B0B5_2F7A608B8064 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-DC085569-B522-4EE0-B0B5-2F7A608B8064";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_B66A5391_775F_4E9A_B717_F84D52A10572 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-B66A5391-775F-4E9A-B717-F84D52A10572";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_83AAAE10_6AB3_4D95_BDC2_E80392C30B54 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-83AAAE10-6AB3-4D95-BDC2-E80392C30B54";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_8B11BA25_93CF_4092_BF55_AC070F6EF0A2 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-8B11BA25-93CF-4092-BF55-AC070F6EF0A2";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9B5D5783_E386_45F7_8EA8_88843A1BB484 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-9B5D5783-E386-45F7-8EA8-88843A1BB484";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_C771449E_6BA7_4CB4_9328_2C855A14B2B2 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-C771449E-6BA7-4CB4-9328-2C855A14B2B2";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9562E716_BEF8_4A70_A787_C7231BB32C3E from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-9562E716-BEF8-4A70-A787-C7231BB32C3E";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_CBCE73F1_60C0_4D53_BDE3_B2C3ACEBD24A from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-CBCE73F1-60C0-4D53-BDE3-B2C3ACEBD24A";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_EE2D677C_9158_4D61_A164_2444C6476C92 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-EE2D677C-9158-4D61-A164-2444C6476C92";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_03071520_C169_41C0_8E51_866D82061408 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-03071520-C169-41C0-8E51-866D82061408";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_A0501D59_23F2_456F_AAFF_3BCC593D9E34 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-A0501D59-23F2-456F-AAFF-3BCC593D9E34";
import GAX_DEPRECATION_NOTICE from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_gax-general-deprecation-notice.mdx";

## Description

<GAX_DEPRECATION_NOTICE />

![Merge Layers workflow diagram](../../images/GUID-BDDD6517-4EE7-4EEC-AE15-15DD9B709131-web.png)

The `MergeLayers` operation combines two feature layers to create a single output layer.

The tool requires that both layers have the same geometry type (tabular, point, line, or polygon). If time is enabled on one layer, the other layer must also be time enabled and have the same time type (instant or interval). The result will always contain all fields from the input layer. All fields from the merge layer will be included by default, or you can specify custom merge rules to define the resulting schema, such as the following examples:

-   You have three layers, one each for England, Wales, and Scotland, and you want a single layer of Great Britain. You can use `MergeLayers` to combine the areas and maintain all fields from each area.
-   You have two layers containing parcel information for contiguous townships. You want to combine them into a single layer, keeping only the fields that have the same name and type in the two layers.

##  Request parameters 

<StyledTable headers={"Parameter,Details"}>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `inputLayer`
         (Required)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The table, point, line, or polygon features to merge with the `mergeLayer` parameter. All fields in `inputLayer` will be included in the result layer.
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_DC085569_B522_4EE0_B0B5_2F7A608B8064 />
         REST examples
         ```javascript
         //REST web example
         {"url": "https://myportal.domain.com/server/rest/services/Hosted/hurricaneTrack/FeatureServer/0", "filter": "Month = 'September'"}
         //REST scripting example
         "inputLayer": {"url": "https://myportal.domain.com/server/rest/services/Hosted/hurricaneTrack/FeatureServer/0", "filter": "Month = 'September'"}
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `mergeLayer`
         (Required)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The table, point, line, or polygon features to merge with the `inputLayer`. The `mergeLayer` parameter must contain the same geometry type (tabular, point, line, or polygon) and the same time (none, instant, or interval) as the `inputLayer` parameter. All fields in `mergeLayer` will be included in the result layer by default, or you can define `mergeAttributes` to customize the resulting schema.
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_DC085569_B522_4EE0_B0B5_2F7A608B8064 />
         REST examples
         ```javascript
         //REST web example
         {"url": "https://myportal.domain.com/server/rest/services/Hosted/hurricaneTrack/FeatureServer/0", "filter": "Month = 'September'"}
         //REST scripting example
         "mergeLayer": {"url": "https://myportal.domain.com/server/rest/services/Hosted/hurricaneTrack/FeatureServer/0", "filter": "Month = 'September'"}
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `mergingAttributes`
         (Optional)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         Defines how the fields in `mergeLayer` will be modified. By default, all fields from both inputs will be included in the output layer. If a field exists in one layer but not the other, the output layer will still contain the field. The output fi e l d will contain null values for the input features that did not include the field. For example, if `inputLayer` contains a field named `TYPE`, but `mergeLayer` does not contain `TYPE`, the output will contain `TYPE`, but its values will be null for all the feature s copied from `mergeLayer`.
         You can control how fields in `mergeLayer` are written to the output layer using the following merge types that operate on a specified `mergeLayerField`:
         -   `Remove`—The field in `mergeLayer` will be removed from the output layer.
         -   `Rename`—The field in `mergeLayer` will be renamed in the output layer. You cannot rename a field in `mergeLayer` to a field in `inputLayer`. To make field names equivalent, use `Match`.
         -   `Match`—A field in `mergeLayer` is made equivalent to a field in `inputLayer` specified by `mergeValue`. For example, `inputLayer` has a field named `CODE` and `mergeLayer` has a field named `STATUS`. You can match `STATUS` and `CODE`, and the output will contain the `CODE` field with values of the `STATUS` field used for features copied from `mergeLayer`. Type casting is supported for numeric values. Matching string and numeric fields is not supported.
         <Note type={"note"}>
            To merge all fields from `mergeLayer` and `inputLayer`, use `[]`.
         </Note>
         REST examples
         ```javascript
         //REST web example
         [{
         "mergeLayerField": "Mean_Sales",
         "mergeType": "Match",
         "mergeValue": "Average_Sales"
         },
         {
         "mergeLayerField": "Bonus",
         "mergeType": "Remove"
         },
         {
         "mergeLayerField": "Field4",
         "mergeType": "Rename",
         "mergeValue": "Errors"
         }]
         //REST scripting example
         "mergingAttributes": [{
         "mergeLayerField": "STARTDATE",
         "mergeType": "Match",
         "mergeValue": "DATE"
         },
         {
         "mergeLayerField": "UniqueID",
         "mergeType": "Remove"
         },
         {
         "mergeLayerField": "sum_week2",
         "mergeType": "Rename",
         "mergeValue": "TOTAL_SALES"
         }]
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `outputName`
         (Optional)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_B66A5391_775F_4E9A_B717_F84D52A10572 />
         REST examples
         ```javascript
         //REST web example
         myOutput
         //REST scripting example
         "outputName": "myOutput"
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `context`
         (Optional)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_83AAAE10_6AB3_4D95_BDC2_E80392C30B54 />
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_8B11BA25_93CF_4092_BF55_AC070F6EF0A2 />
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `f`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9B5D5783_E386_45F7_8EA8_88843A1BB484 />
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_C771449E_6BA7_4CB4_9328_2C855A14B2B2 />
      </StyledTableCell>
   </StyledTableRow>
</StyledTable>

## Example usage

Below is a sample request URL for `MergeLayers`:

```javascript
https://hostname.domain.com/webadaptor/rest/services/System/GeoAnalyticsTools/GPServer/MergeLayers/submitJob?predictionType=Train&inputLayer={"url":"https://hostname.domain.com/webadaptor/rest/services/Hurricane/hurricaneTrack/0"}&mergeLayer={"url":"https://hostname.domain.com/webadaptor/rest/services/Hosted/corpusShelters/0"}&mergingAttributes=[]&outputName=myOutput&context={"extent":{"xmin":-122.68,"ymin":45.53,"xmax":-122.45,"ymax":45.6,"spatialReference":{"wkid":4326}}}&f=json
```

 

## Response

<GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9562E716_BEF8_4A70_A787_C7231BB32C3E />

<GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_CBCE73F1_60C0_4D53_BDE3_B2C3ACEBD24A />

<GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_EE2D677C_9158_4D61_A164_2444C6476C92 />

```javascript
https://<analysis url>/MergeLayers/jobs/<jobId>
```

 

### Access results

<GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_03071520_C169_41C0_8E51_866D82061408 />

```javascript
https://<analysis-url>/MergeLayers/jobs/<jobId>/results/output?token=<your token>&f=json
```

 

<StyledTable headers={"Response,Description"}>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `output`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The output layer containing the merged features.
         ```javascript
         {"url": "https://<analysis-url>/MergeLayers/jobs/<jobId>/results/output"}
         ```
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_A0501D59_23F2_456F_AAFF_3BCC593D9E34 />
      </StyledTableCell>
   </StyledTableRow>
</StyledTable>
