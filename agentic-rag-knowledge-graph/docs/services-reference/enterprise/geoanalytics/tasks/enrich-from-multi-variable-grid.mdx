---
title: "Enrich From Multi-Variable Grid"
description: "API reference for the Enrich From Multi-Variable Grid task available in ArcGIS GeoAnalytics Server."
slug: "enrich-from-multi-variable-grid"
url: "/geoanalytics/tasks/enrich-from-multi-variable-grid"
redirectFrom:
  - /enrich-from-multi-variable-grid/
guid: "GUID-8FA01996-2E9E-40E4-A5C4-2A15A202B1F6"
migratedTopicMetadata:
  FTITLE: "Enrich From Multi-Variable Grid"
  FDESCRIPTION: "Template conversion"
  FCHANGES: "Fixing broken links"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "10.7 - *"
  CREATED-ON: "10/01/2020 11:24:35"
  FAUTHOR: "tohara"
  FSTATUS: "Released"
  MODIFIED-ON: "10/01/2020 12:48:37"
  VERSION: "2"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "2"
  ED: "GUID-CC0CE1E6-5D8F-4B7F-8C44-80916C762400"
  FUSERGROUP: "VUSERGROUPARCGISONLINEDOC"
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /EnrichFromMultiVariableGrid
  urlSegments:
    - name: <geoanalytics-url>
      url: /geoanalytics-tasks
    - name: /EnrichFromMultiVariableGrid
  methods: []
  sslOnly: 'no'
  versionIntroduced: '10.7'
---

import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_DC085569_B522_4EE0_B0B5_2F7A608B8064 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-DC085569-B522-4EE0-B0B5-2F7A608B8064";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_B66A5391_775F_4E9A_B717_F84D52A10572 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-B66A5391-775F-4E9A-B717-F84D52A10572";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_83AAAE10_6AB3_4D95_BDC2_E80392C30B54 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-83AAAE10-6AB3-4D95-BDC2-E80392C30B54";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_8B11BA25_93CF_4092_BF55_AC070F6EF0A2 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-8B11BA25-93CF-4092-BF55-AC070F6EF0A2";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9B5D5783_E386_45F7_8EA8_88843A1BB484 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-9B5D5783-E386-45F7-8EA8-88843A1BB484";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_C771449E_6BA7_4CB4_9328_2C855A14B2B2 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-C771449E-6BA7-4CB4-9328-2C855A14B2B2";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9562E716_BEF8_4A70_A787_C7231BB32C3E from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-9562E716-BEF8-4A70-A787-C7231BB32C3E";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_CBCE73F1_60C0_4D53_BDE3_B2C3ACEBD24A from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-CBCE73F1-60C0-4D53-BDE3-B2C3ACEBD24A";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_EE2D677C_9158_4D61_A164_2444C6476C92 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-EE2D677C-9158-4D61-A164-2444C6476C92";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_03071520_C169_41C0_8E51_866D82061408 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-03071520-C169-41C0-8E51-866D82061408";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_A0501D59_23F2_456F_AAFF_3BCC593D9E34 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-A0501D59-23F2-456F-AAFF-3BCC593D9E34";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_A771740E_17FA_47C6_A2FC_6BF0B76090CA from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-A771740E-17FA-47C6-A2FC-6BF0B76090CA";
import GAX_DEPRECATION_NOTICE from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_gax-general-deprecation-notice.mdx";

## Description

<GAX_DEPRECATION_NOTICE />

![Enrich From Multi-Variable Grid](../../images/GUID-3FEFCDD6-0CAA-4C2A-8056-147CF86FEF8B-web.png)

The `EnrichFromMultiVariableGrid` task joins attributes from a multivariable grid to a point layer. The multivariable grid must be created using the [BuildMultiVariableGrid](/build-multi-variable-grid) task. Metadata from the multivariable grid is used to efficiently enrich the input point features, making it faster than the [Join Features](/join-features) task. Attributes in the multivariable grid are joined to the input point features when the features intersect the grid.
The attributes in the multivariable grid can be used as explanatory variables when modeling spatial relationships with your input point features, and this task allows you to join those attributes to point features quickly.

## Request parameters

<StyledTable headers={"Parameter,Details"}>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      `inputFeatures`
      (Required)
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      The point features that will be enriched by the multivariable grid.
      <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_DC085569_B522_4EE0_B0B5_2F7A608B8064 />

      REST examples
      ```javascript
      //REST web example
      {"url": "https://myportal.domain.com/server/rest/services/Hosted/hurricaneTrack/FeatureServer/0", "filter": "Month = 'September'"}

      //REST scripting example
      "inputFeatures": {"url": "https://myportal.domain.com/server/rest/services/Hosted/point_observations/FeatureServer/0", "filter": "ID > 10"}
      ```
    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      `gridLayer`
      (Required)
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      The multivariable grid layer created using the [Build Multi-Variable Grid](/build-multi-variable-grid) task.
      <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_DC085569_B522_4EE0_B0B5_2F7A608B8064 />

      REST examples
      ```javascript
      //REST web example
      {"url": "https://myportal.domain.com/server/rest/services/Hosted/hurricaneTrack/FeatureServer/0", "filter": "Month = 'September'"}

      //REST scripting example
      "gridLayer": {"url": "https://myportal.domain.com/server/rest/services/Hosted/us_econ_mvgrid/FeatureServer/0", "filter": "State = 'California'"}
      ```
    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      `enrichAttributes`
      (Optional)
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      A list of fields in the multivariable grid that will be joined to the input point features. If `enrichAttributes` is not provided, all fields in the multivariable grid will be joined to the input point features.

      REST examples
      ```javascript
      //REST web example
      distance_nearest_flood, sum_population, nearest_shelter

      //REST scripting example
      "enrichAttributes": "distance_nearest_flood, sum_population, nearest_shelter"
      ```
    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      `outputName`
      (Required)
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_B66A5391_775F_4E9A_B717_F84D52A10572 />

      REST examples
      ```javascript
      //REST web example
      myOutput

      //REST scripting example
      "outputName": "myOutput"
      ```
    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      `context`
      (Optional)
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_83AAAE10_6AB3_4D95_BDC2_E80392C30B54 />

      <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_8B11BA25_93CF_4092_BF55_AC070F6EF0A2 />
    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      `f`
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9B5D5783_E386_45F7_8EA8_88843A1BB484 />

      <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_C771449E_6BA7_4CB4_9328_2C855A14B2B2 />
    </StyledTableCell>
  </StyledTableRow>
</StyledTable>

## Example usage

Below is a sample request URL for `EnrichFromMultiVariableGrid` :
```other
https://hostname.domain.com/webadaptor/rest/services/System/GeoAnalyticsTools/GPServer/EnrichFromMultiVariableGrid/submitJob?inputFeatures={"url":"https://hostname.domain.com/webadaptor/rest/services/Hurricane/hurricaneTrack/0"}&gridLayer={"url":"https://myportal.domain.com/server/rest/services/Hosted/emergencyServices/FeatureServer/0"}&enrichAttributes=distance_nearest_flood, sum_population, nearest_shelter&outputName=myOutput&context={"extent":{"xmin":-122.68,"ymin":45.53,"xmax":-122.45,"ymax":45.6,"spatialReference":{"wkid":4326}}}&f=json
```

## Response

<GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9562E716_BEF8_4A70_A787_C7231BB32C3E />

<GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_CBCE73F1_60C0_4D53_BDE3_B2C3ACEBD24A />

<GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_EE2D677C_9158_4D61_A164_2444C6476C92 />

```other
https://<analysis url>/EnrichFromMultiVariableGrid/jobs/<jobId>
```

### Access results

<GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_03071520_C169_41C0_8E51_866D82061408 />

```other
https://<analysis-url>/EnrichFromMultiVariableGrid/jobs/<jobId>/results/output?token=<your token>&f=json
```

<StyledTable headers={"Response,Description"}>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      `output`
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      The `output` parameter will contain a new layer of the input point features with attribute values from the multivariable grid. Each new field represents a joined value from the grid.
      ```javascript
      {"url": "https://<analysis-url>/EnrichFromMultiVariableGrid/jobs/<jobId>/results/output"}
      ```
      <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_A0501D59_23F2_456F_AAFF_3BCC593D9E34 />

      <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_A771740E_17FA_47C6_A2FC_6BF0B76090CA />
    </StyledTableCell>
  </StyledTableRow>
</StyledTable>