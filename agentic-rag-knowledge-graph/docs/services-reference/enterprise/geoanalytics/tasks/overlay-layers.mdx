---
title: "Overlay Layers"
description: "API reference for the Overlay Layers task available through the ArcGIS GeoAnalytics Server service."
slug: "overlay-layers"
url: "/geoanalytics/tasks/overlay-layers"
redirectFrom:
  - /overlay-layers/
guid: "GUID-8779A914-D7F3-4718-8EF0-8988199587BD"
migratedTopicMetadata:
  FTITLE: "Overlay Layers"
  FDESCRIPTION: "Template conversion"
  FCHANGES: ""
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "10.9.1 - *"
  CREATED-ON: "14/05/2021 09:15:17"
  FAUTHOR: "sambrose"
  FSTATUS: "Released"
  MODIFIED-ON: "29/07/2021 10:51:19"
  VERSION: "3"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "6"
  ED: "GUID-FEFB7AB2-4A49-4FDC-8DFD-4E7CDA054FA1"
  FUSERGROUP: "VUSERGROUPARCGISONLINEDOC"
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /OverlayLayers
  urlSegments:
    - name: <geoanalytics-url>
      url: /geoanalytics-tasks
    - name: /OverlayLayers
  methods: []
  sslOnly: 'no'
  versionIntroduced: 10.6.1
---

import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_DC085569_B522_4EE0_B0B5_2F7A608B8064 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-DC085569-B522-4EE0-B0B5-2F7A608B8064";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_B66A5391_775F_4E9A_B717_F84D52A10572 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-B66A5391-775F-4E9A-B717-F84D52A10572";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_E671F554_89D2_4CAD_B032_525E1CE90C18 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-E671F554-89D2-4CAD-B032-525E1CE90C18";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9BD8524A_A4D0_4128_876A_6CA8568233A7 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-9BD8524A-A4D0-4128-876A-6CA8568233A7";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9B5D5783_E386_45F7_8EA8_88843A1BB484 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-9B5D5783-E386-45F7-8EA8-88843A1BB484";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_C771449E_6BA7_4CB4_9328_2C855A14B2B2 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-C771449E-6BA7-4CB4-9328-2C855A14B2B2";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9562E716_BEF8_4A70_A787_C7231BB32C3E from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-9562E716-BEF8-4A70-A787-C7231BB32C3E";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_CBCE73F1_60C0_4D53_BDE3_B2C3ACEBD24A from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-CBCE73F1-60C0-4D53-BDE3-B2C3ACEBD24A";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_EE2D677C_9158_4D61_A164_2444C6476C92 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-EE2D677C-9158-4D61-A164-2444C6476C92";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_03071520_C169_41C0_8E51_866D82061408 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-03071520-C169-41C0-8E51-866D82061408";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_A0501D59_23F2_456F_AAFF_3BCC593D9E34 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-A0501D59-23F2-456F-AAFF-3BCC593D9E34";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_A771740E_17FA_47C6_A2FC_6BF0B76090CA from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-A771740E-17FA-47C6-A2FC-6BF0B76090CA";
import GAX_DEPRECATION_NOTICE from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_gax-general-deprecation-notice.mdx";

## Description

<GAX_DEPRECATION_NOTICE />

![Overlay Layers](../../images/GUID-CE1E0E84-F3B5-446B-9FDE-4DA057F106CC-web.png)

The `OverlayLayers` operation combines two layers into a single layer. You can think of overlay as peering through a stack of maps and creating a single map containing all the information in the stack. Overlay is used to answer one of the most basic questions of geography: What is on top of what? The following are examples:

-   What parcels are within the 100-year floodplain? (Within is another way of saying on top of.)
-   What land use is on top of what soil type?
-   What mines are within abandoned military bases?

<Note type={"note"}>

Sliver features may be excluded based on the tolerance of the processing spatial reference.

</Note>

##  Request parameters 

<StyledTable headers={"Parameter,Description"}>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `inputLayer`
         (Required)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The point, line, or polygon features that will be overlaid with the `overlayLayer` features.
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_DC085569_B522_4EE0_B0B5_2F7A608B8064 />

         REST examples
         ```javascript
         //REST web example
         {"url": "https://myportal.domain.com/server/rest/services/Hosted/hurricaneTrack/FeatureServer/0", "filter": "Month = 'September'"}

         //REST scripting example
         "inputLayer": {"url": "https://myportal.domain.com/server/rest/services/Hosted/hurricaneTrack/FeatureServer/0", "filter": "Month = 'September'"}
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `overlayLayer`
         (Required)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The features that will be overlaid with the `inputLayer` features.
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_DC085569_B522_4EE0_B0B5_2F7A608B8064 />

         REST examples
         ```javascript
         //REST web example
         {"url": "https://myportal.domain.com/server/rest/services/Hosted/hurricaneTrack/FeatureServer/0", "filter": "Month = 'September'"}

         //REST scripting example
         "pointLayer": { "url":"https://myportal.domain.com/server/rest/services/Hosted/hurricaneTrack/FeatureServer/0", "filter": "Month = 'September'"}
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `overlayType`
         (Optional)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The type of overlay to be performed. For more information on the values for this parameter, see the [Overlay relationships](/overlay-layers#overlay-relationships) section below.

         Values: `Intersect` \| `Erase` \| `Union` \| `Identity` \| `SymmetricalDifference`

         REST examples
         ```javascript
         //REST web example
         Intersect

         //REST scripting example
         "overlayType": "Erase"
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `outputName`
         (Required)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_B66A5391_775F_4E9A_B717_F84D52A10572 />
         REST examples
         ```javascript
         //REST web example
         myOutput

         //REST scripting example
         "outputName": "myOutput"
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `context`
         (Optional)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_E671F554_89D2_4CAD_B032_525E1CE90C18 />
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9BD8524A_A4D0_4128_876A_6CA8568233A7 />
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `f`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9B5D5783_E386_45F7_8EA8_88843A1BB484 />
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_C771449E_6BA7_4CB4_9328_2C855A14B2B2 />
      </StyledTableCell>
   </StyledTableRow>
</StyledTable>

## Overlay relationships

The tables below describe the overlay relationships supported by the `overlayType` parameter.

### Overlay relationships

<StyledTable headers={"Relationship,Description"}>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `Intersect`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         Computes a geometric intersection of the input layers. Features or portions of features that overlap in both `inputLayer` and `overlayLayer` are written to the output layer. This is the default. `Intersect` supports the following geometries as inputs (`inputLayer` - `overlayLayer`):
         -   Point - Point, Line, Polygon
         -   Line - Point, Line, Polygon
         -   Polygon - Point, Line, Polygon
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `Erase`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The features or portions of features in the `inputLayer` that do not overlap the features in the `overlayLayer` are written to the output. `Erase` supports the following geometries as inputs (`inputLayer` - `overlayLayer`):
         -   Point - Point
         -   Line - Line
         -   Polygon - Polygon
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `Union`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         Computes a geometric union of `inputLayer` and `overlayLayer`. All features and their attributes are written to the layer. `Union` supports the following geometries as inputs (`inputLayer` - `overlayLayer`):
         -   Polygon - Polygon
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `Identity`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         Computes a geometric intersection of the input features and identity features. Features or portions of features that overlap in both `inputLayer` and `overlayLayer` are written to the output layer. `Identity` supports the following geometries as inputs (`inputLayer` - `overlayLayer`):
         -   Point - Point, Polygon
         -   Line - Line, Polygon
         -   Polygon - Polygon
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `SymmetricalDifference`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         Features or portions of features in `inputLayer` and `overlayLayer` that do not overlap are written to the output layer. `SymmetricalDifference` supports the following geometries as inputs (`inputLayer` - `overlayLayer`):
         -   Point - Point
         -   Line - Line
         -   Polygon - Polygon
      </StyledTableCell>
   </StyledTableRow>
</StyledTable>

## Example usage

The following is a sample request URL for `OverlayLayers`:

```javascript
https://machine.domain.com/webadaptor/rest/services/System/GeoAnalyticsTools/GPServer/OverlayLayers/submitJob?&inputLayer={"url":"https://webadaptor.domain.com/server/rest/services/Hurricane/hurricaneTrack/0"}&mergeLayer={"url":"https://webadaptor.domain.com/server/rest/services/Hosted/corpusShelters/0"}&overlayType=Union&outputName=myOutput&context={"extent":{"xmin":-122.68,"ymin":45.53,"xmax":-122.45,"ymax":45.6,"spatialReference":{"wkid":4326}}}&f=json
```


## Response

<GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9562E716_BEF8_4A70_A787_C7231BB32C3E />

<GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_CBCE73F1_60C0_4D53_BDE3_B2C3ACEBD24A />

<GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_EE2D677C_9158_4D61_A164_2444C6476C92 />

```javascript
https://<analysis url>/OverlayLayers/jobs/<jobId>
```

 

### Access results

<GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_03071520_C169_41C0_8E51_866D82061408 />

```javascript
https://<analysis-url>/OverlayLayers/jobs/<jobId>/results/output?token=<your token>&f=json
```

 

<StyledTable headers={"Response,Description"}>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `output`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The features that are the result of the overlay. The type of feature (point, line, or polygon) depends on the input layers.
         ```javascript
         {"url": "https://<analysis-url>/OverlayLayers/jobs/<jobId>/results/output"}
         ```
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_A0501D59_23F2_456F_AAFF_3BCC593D9E34 />
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_A771740E_17FA_47C6_A2FC_6BF0B76090CA />
      </StyledTableCell>
   </StyledTableRow>
</StyledTable>
