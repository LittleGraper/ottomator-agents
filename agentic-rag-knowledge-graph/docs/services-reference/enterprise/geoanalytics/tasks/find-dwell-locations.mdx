---
title: "Find Dwell Locations"
description: "API reference for the Find Dwell Locations task available through the ArcGIS GeoAnalytics Server service."
slug: "find-dwell-locations"
url: "/geoanalytics/tasks/find-dwell-locations"
redirectFrom:
  - /find-dwell-locations/
guid: "GUID-C74DDF1F-11C4-4C2C-8805-E24860E274BB"
migratedTopicMetadata:
  FTITLE: "Find Dwell Locations"
  FDESCRIPTION: ""
  FCHANGES: "first/last stats added"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "10.81 - *"
  CREATED-ON: "24/04/2020 08:48:29"
  FAUTHOR: "sambrose"
  FSTATUS: "Released"
  MODIFIED-ON: "24/05/2020 18:10:47"
  VERSION: "2"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "9"
  ED: "GUID-BC20FA94-C8D4-48A8-8D76-77CADCA220E3"
  FUSERGROUP: "VUSERGROUPARCGISONLINEDOC"
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /FindDwellLocations
  urlSegments:
    - name: <geoanalytics-url>
      url: /geoanalytics-tasks
    - name: /FindDwellLocations
  methods: []
  sslOnly: 'no'
  versionIntroduced: '10.8'
---

import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_DC085569_B522_4EE0_B0B5_2F7A608B8064 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-DC085569-B522-4EE0-B0B5-2F7A608B8064";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_C91B130A_FD09_424A_9B71_F26A2D394BD9 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-C91B130A-FD09-424A-9B71-F26A2D394BD9";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_26ADC962_2D43_443C_B197_E1B9B7BCB2CD from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-26ADC962-2D43-443C-B197-E1B9B7BCB2CD";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_87A951E6_B820_40ED_905E_38CFCD3D8D8E from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-87A951E6-B820-40ED-905E-38CFCD3D8D8E";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_B66A5391_775F_4E9A_B717_F84D52A10572 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-B66A5391-775F-4E9A-B717-F84D52A10572";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_4CB6D607_FF60_4C68_AFA1_8780CFFA421D from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-4CB6D607-FF60-4C68-AFA1-8780CFFA421D";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_E671F554_89D2_4CAD_B032_525E1CE90C18 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-E671F554-89D2-4CAD-B032-525E1CE90C18";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_25D8F41B_CE8D_4A22_A6FF_5BCF74D6BBF3 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-25D8F41B-CE8D-4A22-A6FF-5BCF74D6BBF3";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9B5D5783_E386_45F7_8EA8_88843A1BB484 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-9B5D5783-E386-45F7-8EA8-88843A1BB484";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_C771449E_6BA7_4CB4_9328_2C855A14B2B2 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-C771449E-6BA7-4CB4-9328-2C855A14B2B2";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9562E716_BEF8_4A70_A787_C7231BB32C3E from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-9562E716-BEF8-4A70-A787-C7231BB32C3E";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_EE2D677C_9158_4D61_A164_2444C6476C92 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-EE2D677C-9158-4D61-A164-2444C6476C92";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_03071520_C169_41C0_8E51_866D82061408 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-03071520-C169-41C0-8E51-866D82061408";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_A0501D59_23F2_456F_AAFF_3BCC593D9E34 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-A0501D59-23F2-456F-AAFF-3BCC593D9E34";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_A771740E_17FA_47C6_A2FC_6BF0B76090CA from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-A771740E-17FA-47C6-A2FC-6BF0B76090CA";
import GAX_DEPRECATION_NOTICE from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_gax-general-deprecation-notice.mdx";

## Description

<GAX_DEPRECATION_NOTICE />

![FindDwellLocations](../../images/GUID-5892F58A-4423-46CC-BD3B-F4011BAC18E8-web.png)

The Find Dwell Locations task works with time-enabled points of type instant to find where points dwell within a specific distance and duration.

Dwell locations are determined using time (`timeTolerance`) and distance (`distanceTolerance`) values. First, the tool assigns features to a track using a unique identifier. Track order is determined by the time of features. Next, the distance between the first observation in a track and the next is calculated. Features are considered to be part of a dwell if two temporally consecutive points stay within the given distance for at least the given duration. When two features are found to be part of a dwell, the first feature in the dwell is used as a reference point, and the tool finds consecutive features that are within the specified distance of the reference point in the dwell. Once all features within the specified distance are found, the tool collects the dwell features and calculates their mean center. Features before and after the current dwell are added to the dwell if they are within the given distance of the dwell location's mean center. This process continues until the end of the track.

For example, ecologists and conservation workers can use the Find Dwell Locations tool to improve the safety of elk during migratory seasons. Use the results to implement or improve protected areas in locations where the animals are spending the most time. 

For another example, let's say you work with the Department of Transportation and you want to improve traffic congestion on highways near exits. Using the Find Dwell Locations tool, you can isolate areas experiencing congestion by identifying vehicle tracks that stay within a certain distance for a certain amount of time.

##  Request parameters

<StyledTable headers={"Parameter,Details"}>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `inputLayer`
            (Required)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            The time-enabled point features from which dwell locations will be found.
            <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_DC085569_B522_4EE0_B0B5_2F7A608B8064 />
            
            REST examples
            ```javascript
            //REST web example
            {"url": "https://myportal.domain.com/server/rest/services/Hosted/hurricaneTrack/FeatureServer/0", "filter": "Month = 'September'"}
            //REST scripting example
            "inputLayer" : {"url": "https://myportal.domain.com/server/rest/services/Hosted/hurricaneTrack/FeatureServer/0", "filter": "Month = 'September'"}
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `trackFields`
            (Required)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            The fields used to identify distinct tracks. There can be multiple `trackFields`.
            
            REST examples
            ```javascript
            //REST web example
            Hurricane Name
            //REST scripting Example
            "trackFields": "BoatName, ConvoyID"
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `distanceMethod`
            (Required)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            The method used to calculate distances between points. There are two methods from which to choose: `Planar` and `Geodesic`. The `Planar` method joins points using a planar method and will not cross the international date line. This method is appropriate for local analysis on projected data. This is the default. The `Geodesic` method joins points geodesically and will allow tracks to cross the international date line. This method is appropriate for large areas and geographic coordinate systems.
            
            REST examples
            ```javascript
            //REST web example
            Geodesic
            //REST scripting example
            "distanceMethod": "Planar"
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `distanceTolerance`
            (Required)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            The dwell distance tolerance is the maximum distance between points to be considered in a single dwell location. 
            Dwell locations are determined using distance and time (`timeTolerance`). 
            
            REST examples
            ```javascript
            //REST web example
            12
            //REST scripting example
            "distanceTolerance": 5.5
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `distanceToleranceUnit`
            (Required)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            The unit of the `distanceTolerance`.
            
            REST examples
            ```javascript
            //REST web example
            Kilometers
            //REST scripting example
            "distanceToleranceUnit": "NauticalMiles"
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `timeTolerance`
            (Required)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            The dwell time tolerance is the minimum time duration of a dwell to be considered in a single dwell location.
            Dwell locations are determined using distance (`distanceTolerance`) and time.
            
            REST examples
            ```javascript
            //REST web example
            7
            //REST scripting example
            "timeTolerance": 12
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `timeToleranceUnit`
            (Required)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            The unit of the `timeTolerance`.
            
            REST examples
            ```javascript
            //REST web example
            Days
            //REST scripting example
            "timeToleranceUnit": "Hours"
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `summaryFields`
            (Optional)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            A list of field names and statistical summary types you want to calculate. Note that the `count` of points in a dwell is always returned.
            By default, all statistics are returned if the `outputType` specified is `DwellMeanCenters` (this is the default) or `DwellConvexHulls`.
            Only the `count` is returned if the `outputType` specified is `DwellFeatures` or `AllFeatures`.
            `onStatisticField` specifies the name of the fields in the target layer. `statisticType` is one of the following:
            -   `Count`—For numeric fields, this totals the number of values for all the points in each dwell. For string fields, this totals the number of strings for all the points in each dwell.
            -   `Sum`—Adds the total value of all the points in each dwell. This is for numeric fields.
            -   `Mean`—Calculates the average of all the points in each dwell. This is for numeric fields.
            -   `Max`—Calculates the largest value of all the points in each dwell. This is for numeric fields.
            -   `Range`—Finds the difference between the `Min` and `Max` values. This is for numeric fields.
            -   `Stddev`—Finds the standard deviation of all the points in each dwell. This is for numeric fields.
            -   `Var`—Finds the variance of all the points in each dwell. This is for numeric fields.
            -   `Any`—Returns a sample string of a point in each dwell. This is for string and numeric fields.
            -   `First`—Returns the first value of a specified field in the summarized track. This is for string and numeric fields. This parameters was introduced at ArcGIS Enterprise 10.8.1.
            -   `Last`—Returns the last value of a specified field in the summarized track. This is for string and numeric fields. This parameters was introduced at ArcGIS Enterprise 10.8.1.
            
            REST examples
            ```javascript
            //REST web examples
            [{"statisticType": "Mean", "onStatisticField": "Annual_Sales"},{"statisticType": "Sum", "onStatisticField": "Annual_Sales"}]
            //REST scripting example
            "summaryFields": ["statisticType": "Mean", "onStatisticField": "Annual_Sales"},{"statisticType": "Sum", "onStatisticField": "Annual_Sales"}]
            //Only return Count
            "summaryFields": []
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `outputType`
            (Optional)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            Determines which features are returned and the format. Four types are available:
            -   `DwellMeanCenters`—A point representing the centroid of each discovered dwell location. This is the default.
            -   `DwellConvexHulls`—Polygons representing the convex hull of each dwell group.
            -   `DwellFeatures`—All of the input point features determined to belong to a dwell are returned.
            -   `AllFeatures`—All of the input point features are returned.
            
            REST examples
            ```javascript
            //REST web example
            DwellFeatures
            //REST scripting example
            "outputType": "DwellConvexHulls"
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `timeBoundarySplit`
            (Optional)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            A time boundary allows you to analyze values within a defined time span. For example, if you use a time boundary of 1 day, starting on January 1, 1980, tracks will be analyzed 1 day at a time. The time boundary parameter was introduced in ArcGIS Enterprise 10.8.1. 
            The `timeBoundarySplit` parameter defines the scale of the time boundary. In the case above, this would be 1. See the portal documentation for this tool to learn more.
            REST scripting example: `"timeBoundarySplit" : 1`
            REST web example: `2`
            
            REST examples
            ```javascript
            //REST web example
            1
            //REST scripting example
            "timeBoundarySplit": 2
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `timeBoundarySplitUnit`
            (Required if `timeBoundarySplit` is specified)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_C91B130A_FD09_424A_9B71_F26A2D394BD9 />
            <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_26ADC962_2D43_443C_B197_E1B9B7BCB2CD />
            
            REST examples
            ```javascript
            //REST web example
            Weeks
            //REST scripting example
            "timeBoundarySplitUnit": "Days"
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `timeBoundaryReference`
            (Optional)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_87A951E6_B820_40ED_905E_38CFCD3D8D8E />
            
            REST examples
            ```javascript
            //REST web example
            9466835800000
            //REST scripting example
            "timeBoundaryReference": 946684800000
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `outputName`
            (Required)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_B66A5391_775F_4E9A_B717_F84D52A10572 />
            <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_4CB6D607_FF60_4C68_AFA1_8780CFFA421D />
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `context`
            (Optional)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_E671F554_89D2_4CAD_B032_525E1CE90C18 />
            <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_25D8F41B_CE8D_4A22_A6FF_5BCF74D6BBF3 />
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `f`
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9B5D5783_E386_45F7_8EA8_88843A1BB484 />
            <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_C771449E_6BA7_4CB4_9328_2C855A14B2B2 />
        </StyledTableCell>
    </StyledTableRow>
</StyledTable>


## Example usage

Below is a sample request URL for `FindDwellLocations`:

```javascript
https://machine.domain.com/webadaptor/rest/services/System/GeoAnalyticsTools/GPServer/FindDwellLocations/submitJob?inputLayer={"url":"https://webadaptor.domain.com/server/rest/services/Hurricane/hurricaneTrack/0"}&trackFields=Hurricane Name&distanceMethod=Geodesic&distanceTolerance=5.5&distanceToleranceUnit=Miles&timeTolerance=1&timeToleranceUnit=Weeks&outputType=DwellMeanCenters&outputName=myOutput&context={"extent":{"xmin":-122.68,"ymin":45.53,"xmax":-122.45,"ymax":45.6,"spatialReference":{"wkid":4326}}}&f=json
```

 

## Response

<GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9562E716_BEF8_4A70_A787_C7231BB32C3E />

Syntax:

```javascript
{
"jobId": "<unique job identifier>",
"jobStatus": "<job status>"
}
```

 

<GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_EE2D677C_9158_4D61_A164_2444C6476C92 />

```javascript
https://<analysis url>/FindDwellLocations/jobs/<jobId>
```

 

### Access results

<GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_03071520_C169_41C0_8E51_866D82061408 />

```javascript
https://<analysis-url>/FindDwellLocations/jobs/<jobId>/results/output?token=<your token>&f=json
```

 

<StyledTable headers={"Response,Description"}>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `output`
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            The geometry of the output features will differ depending on the `outputType` specified.
            In addition to `summaryStatistics`, the following fields will be returned: 
            -   `DwellID`—This is a unique ID for each dwell location.
            -   `DwellDuration`—The total duration (in milliseconds) between the start and endpoints in a dwell location.
            -   `MeanX`—The x-coordinate of the center of the dwell points.
            -   `MeanY`—The y-coordinate of the center of the dwell points.
            -   `MeanDistance`—The average distance between two temporally consecutive points within a dwell.
            -   `Count`—The number of points included in the dwell group.
            -   `instant_datetime`—The time the dwell feature occurred. This will only be returned if the output type is `AllFeatures` or `DwellFeatures` with time type instant.
            -   `start_time`—The time the object began dwelling. This will only be returned if the output type is `DwellConvexHulls` or `DwellMeanCenters`.
            -   `end_time`—The time the object stopped dwelling. This will only be returned if the output type is `DwellConvexHulls` or `DwellMeanCenters`.
            Note that the fields specified as `trackFields` are always returned. 
            ```javascript
            {"url": "https://<analysis-url>/FindDwellLocations/jobs/<jobId>/results/output"}
            ```
            <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_A0501D59_23F2_456F_AAFF_3BCC593D9E34 />
            <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_A771740E_17FA_47C6_A2FC_6BF0B76090CA />
        </StyledTableCell>
    </StyledTableRow>
</StyledTable>

