---
title: "Reconstruct Tracks"
description: "API reference for the Reconstruct Tracks task available in the ArcGIS GeoAnalytics Server service."
slug: "reconstruct-tracks"
url: "/geoanalytics/tasks/reconstruct-tracks"
redirectFrom:
  - /reconstruct-tracks/
guid: "GUID-7CEEE5F9-BD3F-4493-AD83-19C2418DC0D1"
migratedTopicMetadata:
  FTITLE: "Reconstruct Tracks"
  FDESCRIPTION: "Template conversion"
  FCHANGES: "Update track split options"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "10.9-*"
  CREATED-ON: "28/10/2020 14:08:58"
  FAUTHOR: "afili"
  FSTATUS: "Released"
  MODIFIED-ON: "14/12/2020 10:36:17"
  VERSION: "3"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "11"
  ED: "GUID-74A9EBF2-1578-479D-AB0D-E773CC7D3659"
  FUSERGROUP: "VUSERGROUPARCGISONLINEDOC"
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /ReconstructTracks
  urlSegments:
    - name: <geoanalytics-url>
      url: /geoanalytics-tasks
    - name: /ReconstructTracks
  methods: []
  sslOnly: 'no'
  versionIntroduced: '10.5'
---

import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_DC085569_B522_4EE0_B0B5_2F7A608B8064 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-DC085569-B522-4EE0-B0B5-2F7A608B8064";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_3AB5CC42_F85F_4047_A88D_2B0712B8435E from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-3AB5CC42-F85F-4047-A88D-2B0712B8435E";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_26ADC962_2D43_443C_B197_E1B9B7BCB2CD from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-26ADC962-2D43-443C-B197-E1B9B7BCB2CD";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_8280F941_0439_4805_B034_1E224F28280C from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-8280F941-0439-4805-B034-1E224F28280C";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9D93A3DC_0BC3_4112_9F02_01A1C73B2A30 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-9D93A3DC-0BC3-4112-9F02-01A1C73B2A30";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_C91B130A_FD09_424A_9B71_F26A2D394BD9 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-C91B130A-FD09-424A-9B71-F26A2D394BD9";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_87A951E6_B820_40ED_905E_38CFCD3D8D8E from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-87A951E6-B820-40ED-905E-38CFCD3D8D8E";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_B66A5391_775F_4E9A_B717_F84D52A10572 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-B66A5391-775F-4E9A-B717-F84D52A10572";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_E671F554_89D2_4CAD_B032_525E1CE90C18 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-E671F554-89D2-4CAD-B032-525E1CE90C18";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9BD8524A_A4D0_4128_876A_6CA8568233A7 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-9BD8524A-A4D0-4128-876A-6CA8568233A7";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9B5D5783_E386_45F7_8EA8_88843A1BB484 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-9B5D5783-E386-45F7-8EA8-88843A1BB484";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_C771449E_6BA7_4CB4_9328_2C855A14B2B2 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-C771449E-6BA7-4CB4-9328-2C855A14B2B2";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9562E716_BEF8_4A70_A787_C7231BB32C3E from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-9562E716-BEF8-4A70-A787-C7231BB32C3E";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_CBCE73F1_60C0_4D53_BDE3_B2C3ACEBD24A from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-CBCE73F1-60C0-4D53-BDE3-B2C3ACEBD24A";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_EE2D677C_9158_4D61_A164_2444C6476C92 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-EE2D677C-9158-4D61-A164-2444C6476C92";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_03071520_C169_41C0_8E51_866D82061408 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-03071520-C169-41C0-8E51-866D82061408";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_A0501D59_23F2_456F_AAFF_3BCC593D9E34 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-A0501D59-23F2-456F-AAFF-3BCC593D9E34";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_A771740E_17FA_47C6_A2FC_6BF0B76090CA from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-A771740E-17FA-47C6-A2FC-6BF0B76090CA";
import GAX_DEPRECATION_NOTICE from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_gax-general-deprecation-notice.mdx";

## Description

<GAX_DEPRECATION_NOTICE />

![Reconstruct Tracks](../../images/GUID-99B2B478-825E-4154-8256-370DEA80884D-web.png)

The `ReconstructTracks` task works with a time-enabled layer of either point or polygon features that represent an instant in time. It first determines which features belong to a track using an identifier. Using the time at each location, the tracks are ordered sequentially and transformed into a line or polygon representing the path of movement over time. Optionally, the input can be buffered by a field, which creates a polygon at each location. These buffered points, or polygons if the inputs are polygons, are then joined sequentially to create a track as a polygon where the width is representative of the attribute of interest. Resulting tracks have start and end times that represent the time at the first and last feature in a given track. When the tracks are created, statistics about the input features are calculated and assigned to the output track. The most basic statistic is the count of points within the area, but other statistics can be calculated as well. Features in time-enabled layers can be represented in one of two ways:

-   `Instant`—A single moment in time
-   `Interval`—A start and end time

For example, you have GPS measurements of hurricanes every 10 minutes. Each GPS measurement records the hurricane name, location, time of recording, and wind speed. You can create tracks of the hurricanes using the name of the hurricane as the track identification, and all hurricanes' tracks will be generated. You can calculate statistics such as the mean, maximum, and minimum wind speed of each hurricane, as well as the count of measurements in each track.

##  Request parameters

<StyledTable headers={"Parameter,Details"}>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `inputLayer`
            (Required)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            The point or polygon features from which tracks will be constructed.
            <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_DC085569_B522_4EE0_B0B5_2F7A608B8064 />
            
            REST examples
            ```javascript
            //REST web example
            {"url": "https://myportal.domain.com/server/rest/services/Hosted/hurricaneTrack/FeatureServer/0", "filter": "Month = 'September'"}
            //REST scripting example
            "inputLayer": {"url": "https://myportal.domain.com/server/rest/services/Hosted/hurricaneTrack/FeatureServer/0", "filter": "Month = 'September'"}
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `trackFields`
            (Required)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            The fields used to identify distinct tracks. There can be multiple `trackFields`.
            
            REST examples
            ```javascript
            //REST web example
            Hurricane Name
            //REST scripting Example
            "trackFields": "BoatName, ConvoyID"
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `method`
            (Required)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            The method used to apply reconstruct tracks and, optionally, to apply the buffer. There are two methods to choose from: `Planar` and `Geodesic`. The `Planar` method joins points using a plane method and will not cross the international date line. For buffers, this method applies a Euclidean buffer and is appropriate for local analysis on projected data. This is the default. The `Geodesic` method joins points geodesically and will allow tracks to cross the international date line. For buffers, this method is appropriate for large areas and any geographic coordinate system.
            
            REST examples
            ```javascript
            //REST web example
            Geodesic
            //REST scripting example
            "method": "Planar"
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `bufferField`
            (Optional)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            A field in the `inputLayer` that contains a buffer distance or a buffer expression. A buffer expression must begin with an equal sign (`=`). To learn more about buffer expressions, see [Use buffer expressions with GeoAnalytics Tools](https://enterprise.arcgis.com/en/portal/latest/use/geoanalytics-buffer-expressions.htm).
            
            REST examples
            ```javascript
            //REST web example
            = $feature["Setback"] * 3 + $feature["TreeCoverage"]
            //REST scripting examples
            "bufferField": "= $feature['Setback'] * 3 + $feature['TreeCoverage']"
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `summaryFields`
            (Optional)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_3AB5CC42_F85F_4047_A88D_2B0712B8435E />
            `onStatisticField` specifies the name of the fields in the target layer. `statisticType` is one of the following for numeric fields:
            -   `Count`—For numeric fields, this totals the number of values of all the points in each polygon. For string fields, this totals the number of strings for all the points in each polygon.
            -   `Sum`—Adds the total value of all the points in each polygon for numeric fields.
            -   `Mean`—Calculates the average of all the points in each polygon. For numeric fields.
            -   `Max`—Calculates the largest value of all the points in each polygon. For numeric fields.
            -   `Range`—Finds the difference between the `Min` and `Max` values. For numeric fields.
            -   `Stddev`—Finds the standard deviation of all the points in each polygon. For numeric fields.
            -   `Var`—Finds the variance of all the points in each polygon. For numeric fields.
            -   `Any`—Returns a sample string of a point in each polygon for string fields.
            -   `First`—Returns the first value of a specified field in the summarized track for string and numeric fields. This parameter was introduced at ArcGIS Enterprise 10.8.1.
            -   `Last`—Returns the last value of a specified field in the summarized track for string and numeric fields. This parameter was introduced at ArcGIS Enterprise 10.8.1.
            
            REST examples
            ```javascript
            //REST web examples
            [{"statisticType": "Mean", "onStatisticField": "Annual_Sales"},{"statisticType": "Sum", "onStatisticField": "Annual_Sales"}]
            //REST scripting example
            "summaryFields": ["statisticType": "Mean", "onStatisticField": "Annual_Sales"},{"statisticType": "Sum", "onStatisticField": "Annual_Sales"}]
            //Only return Count
            "summaryFields": []
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `timeSplit`
            (Optional)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            A time duration used to split tracks. Any features in the `inputLayer` that are in the same track and are farther apart than this time will be split into a new track. The units of the distance values are supplied by the `timeSplitUnit` parameter. If both `distanceSplit` and `timeSplit` are used, a track is split when at least one condition is met.
            
            REST examples
            ```javascript
            //REST web example
            53
            //REST scripting example
            "timeSplit": 53
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `timeSplitUnit`
            (Required if `timeSplit` is specified)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            The temporal unit to be used with the temporal distance value specified in `timeSplit`.
            <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_26ADC962_2D43_443C_B197_E1B9B7BCB2CD />
            
            REST examples
            ```javascript
            //REST web example
            Hours
            //REST scripting example
            "timeSplitUnit": "Minutes"
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `distanceSplit`
            (Optional)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            A distance used to split tracks. Any features in the `inputLayer` that are in the same track and are farther apart than this distance will be split into a new track. The units of the distance values are supplied by the `distanceSplitUnit` parameter. If both `distanceSplit` and `timeSplit` are used, the track is split when at least one condition is met.
            
            REST examples
            ```javascript
            //REST web example
            53.8
            //REST scripting example
            "distanceSplit": 1001
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `distanceSplitUnit`
            (Required if `distanceSplit` is specified)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            The distance unit to be used with the distance value specified in `distanceSplit`.
            <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_8280F941_0439_4805_B034_1E224F28280C />
            
            REST examples
            ```javascript
            //REST web example
            Meters
            //REST scripting example
            "distanceSplitUnit": "Miles"
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `timeBoundarySplit`
            (Optional)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9D93A3DC_0BC3_4112_9F02_01A1C73B2A30 />
            
            REST examples
            ```javascript
            //REST web example
            1
            //REST scripting example
            "timeBoundarySplit": 2
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `timeBoundarySplitUnit`
            (Required if `timeBoundarySplit` is specified)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_C91B130A_FD09_424A_9B71_F26A2D394BD9 />
            <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_26ADC962_2D43_443C_B197_E1B9B7BCB2CD />
            
            REST examples
            ```javascript
            //REST web example
            Weeks
            //REST scripting example
            "timeBoundarySplitUnit": "Days"
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `timeBoundaryReference`
            (Optional)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_87A951E6_B820_40ED_905E_38CFCD3D8D8E />
            
            REST examples
            ```javascript
            //REST web example
            9466835800000
            //REST scripting example
            "timeBoundaryReference": 946684800000
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `arcadeSplit`
            (Optional)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            This parameter is available with ArcGIS Enterprise 10.9 and later. An expression that splits tracks based on values, geometry, or time values. Expressions that validate to true will be split.

            REST examples
            ```javascript
            //REST web example
            var speed = TrackFieldWindow("WindSpeed", -1, 1); 2* speed[0] < speed[1]
            //REST scripting example
            "arcadeSplit": "var speed = TrackFieldWindow("WindSpeed", -1, 1); 2* speed[0] < speed[1]"
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `splitBoundaryOption`
            (Optional)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            Specifies how the track segment between two features is created when a track is split. The split type is applied to split expressions, distance splits, and time splits. This parameter is only available with ArcGIS Enterprise 10.9 or later.
            -   `Gap`—No segment is created between the two features. This is the default.
            -   `FinishLast`—A segment is created between the two features that ends after the split.
            -   `StartNext`—A segment is created between the two features that ends before the split.
            
            REST examples
            ```javascript
            //REST web example
            Gap
            //REST scripting example
            "splitBoundaryOption": "FinishLast"
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `outputName`
            (Required)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_B66A5391_775F_4E9A_B717_F84D52A10572 />
            
            REST examples
            ```javascript
            //REST web example
            myOutput
            //REST scripting example
            "outputName": "myOutput"
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `context`
            (Optional)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_E671F554_89D2_4CAD_B032_525E1CE90C18 />
            <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9BD8524A_A4D0_4128_876A_6CA8568233A7 />
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `f`
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9B5D5783_E386_45F7_8EA8_88843A1BB484 />
            <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_C771449E_6BA7_4CB4_9328_2C855A14B2B2 />
        </StyledTableCell>
    </StyledTableRow>
</StyledTable>


## Example usage

Below is a sample request URL for `ReconstructTracks`:

```javascript
https://webadaptor.domain.com/server/rest/services/System/GeoAnalyticsTools/GPServer/ReconstructTracks/submitJob?inputLayer={"url":"https://webadaptor.domain.com/server/rest/services/Hurricane/hurricaneTrack/0"}&trackFields=Hurricane Name&method=Gedesic&timeSplit=53&timeSplitUnit=Minutes&distanceSplit=25&distanceSplitUnit=Miles&timeBoundarySplit=1&timeBoundarySplitUnit=Weeks&timeBoundaryReference=9466835800000&outputName=myOutput&context={"extent":{"xmin":-122.68,"ymin":45.53,"xmax":-122.45,"ymax":45.6,"spatialReference":{"wkid":4326}}}&f=json
```

 

## Response

<GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9562E716_BEF8_4A70_A787_C7231BB32C3E />

<GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_CBCE73F1_60C0_4D53_BDE3_B2C3ACEBD24A />

<GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_EE2D677C_9158_4D61_A164_2444C6476C92 />

```javascript
https://<analysis url>/ReconstructTracks/jobs/<jobId>
```

 

### Access results

<GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_03071520_C169_41C0_8E51_866D82061408 />

```javascript
https://<analysis-url>/ReconstructTracks/jobs/<jobId>/results/output?token=<your token>&f=json
```

 

<StyledTable headers={"Response,Description"}>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `output`
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            The `output` tracks will be lines if points were given as `inputLayer` without a buffer. The `output` tracks will be polygons if points were given as an input with a buffer applied or if polygons were given as the input. 
            ```javascript
            {"url": "https://<analysis-url>/ReconstructTracks/jobs/<jobId>/results/output"}
            ```
            <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_A0501D59_23F2_456F_AAFF_3BCC593D9E34 />
            <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_A771740E_17FA_47C6_A2FC_6BF0B76090CA />
        </StyledTableCell>
    </StyledTableRow>
</StyledTable>
