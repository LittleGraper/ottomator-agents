---
title: "Calculate Density"
description: "API reference for the Calculate Density operation available through the ArcGIS GeoAnalytics Server service."
slug: "calculate-density-geoanalytics"
url: "/geoanalytics/tasks/calculate-density-geoanalytics"
redirectFrom:
  - /calculate-density-geoanalytics/
guid: "GUID-5454D157-F8E6-4306-9CBE-D93E37E48EE2"
migratedTopicMetadata:
  FTITLE: "Calculate Density_GeoAnalytics"
  FDESCRIPTION: "Template conversion"
  FCHANGES: ""
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "11.1 - *"
  CREATED-ON: "02/12/2022 15:31:28"
  FAUTHOR: "nslocum"
  FSTATUS: "Released"
  MODIFIED-ON: "14/02/2023 09:19:50"
  VERSION: "3"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "3"
  ED: "GUID-F713BB2A-25DC-464F-B460-4099ED1C9744"
  FUSERGROUP: "VUSERGROUPARCGISONLINEDOC"
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /CalculateDensity
  urlSegments:
    - name: <geoanalytics-url>
      url: /geoanalytics-tasks
    - name: /CalculateDensity
  methods: []
  sslOnly: 'no'
  versionIntroduced: '10.5'
---

import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_DC085569_B522_4EE0_B0B5_2F7A608B8064 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-DC085569-B522-4EE0-B0B5-2F7A608B8064";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_E865B21A_4ACA_493E_89BA_297EB71E7033 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-E865B21A-4ACA-493E-89BA-297EB71E7033";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_8280F941_0439_4805_B034_1E224F28280C from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-8280F941-0439-4805-B034-1E224F28280C";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_A6FED648_EF3E_4164_8718_D12E25E834F0 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-A6FED648-EF3E-4164-8718-D12E25E834F0";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_22C271BC_367D_4DB7_A325_85FDF16AE790 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-22C271BC-367D-4DB7-A325-85FDF16AE790";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_A7CEF6BC_29BB_4AF8_9B53_DC19BA1D336E from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-A7CEF6BC-29BB-4AF8-9B53-DC19BA1D336E";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_DCBBCD5F_96A0_45B7_94A9_BEA8897EA77E from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-DCBBCD5F-96A0-45B7-94A9-BEA8897EA77E";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_D6DCDDB8_9F57_44CC_9B81_08958F087009 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-D6DCDDB8-9F57-44CC-9B81-08958F087009";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_B66A5391_775F_4E9A_B717_F84D52A10572 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-B66A5391-775F-4E9A-B717-F84D52A10572";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_E671F554_89D2_4CAD_B032_525E1CE90C18 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-E671F554-89D2-4CAD-B032-525E1CE90C18";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9BD8524A_A4D0_4128_876A_6CA8568233A7 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-9BD8524A-A4D0-4128-876A-6CA8568233A7";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9B5D5783_E386_45F7_8EA8_88843A1BB484 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-9B5D5783-E386-45F7-8EA8-88843A1BB484";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_C771449E_6BA7_4CB4_9328_2C855A14B2B2 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-C771449E-6BA7-4CB4-9328-2C855A14B2B2";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9562E716_BEF8_4A70_A787_C7231BB32C3E from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-9562E716-BEF8-4A70-A787-C7231BB32C3E";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_CBCE73F1_60C0_4D53_BDE3_B2C3ACEBD24A from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-CBCE73F1-60C0-4D53-BDE3-B2C3ACEBD24A";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_EE2D677C_9158_4D61_A164_2444C6476C92 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-EE2D677C-9158-4D61-A164-2444C6476C92";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_A0501D59_23F2_456F_AAFF_3BCC593D9E34 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-A0501D59-23F2-456F-AAFF-3BCC593D9E34";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_A771740E_17FA_47C6_A2FC_6BF0B76090CA from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-A771740E-17FA-47C6-A2FC-6BF0B76090CA";
import GAX_DEPRECATION_NOTICE from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_gax-general-deprecation-notice.mdx";

## Description

<GAX_DEPRECATION_NOTICE />

![Calculate Density](../../images/GUID-FB10A2DD-8A71-424A-9AE4-3B583D707D15-web.png)

The `CalculateDensity`operation creates a density map from point features by spreading known quantities of a phenomenon
(represented as attributes of the points) across the map. The result is a layer of areas classified from least dense to most dense.

For point input, each point represent s the location of an event or incident, and the result layer represents a count of
the incident per unit area. A higher density value in a new location means that there are more points near that location.
In many cases, the result layer can be interpreted as a risk surface for future events. For example, if the input points
represent locations of lightning strikes, the result layer can be interpreted as a risk surface for future lightning strikes.

Other use cases for this tool include the following:

-   Create crime density maps to help police departments properly allocate resources to high crime areas.
-   Calculate densities of hospitals within a country. The result layer will show areas with high and low accessibility to hospitals.This information can be used to determine where new hospitals should be built.
-   Identify areas that are at high risk of forest fires based on historical locations of forest fires.
-   Locate communities that are far from major highways to plan where new roads should be constructed.

##  Request parameters 

<StyledTable headers={"Parameter,Details"}>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `inputLayer`
         (Required)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The point layer on which the density will be calculated.
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_DC085569_B522_4EE0_B0B5_2F7A608B8064 />
         REST examples
         ```javascript
         //REST web example
         {"url": "https://myportal.domain.com/server/rest/services/Hosted/hurricaneTrack/FeatureServer/0", "filter": "Month = 'September'"}
         //REST scripting example
         "inputLayer": {"url": "https://myportal.domain.com/server/rest/services/Hosted/hurricaneTrack/FeatureServer/0", "filter": "Month = 'September'"}
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `fields`
         (Optional)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         Provides one or more fields specifying the number of incidents at each location. You can calculate the density for multiple fields, and the count of points will always have the density calculated.
         
         REST examples
         ```javascript
         //REST web example
         crimeRate, indicator
         //REST scripting example
         "fields": "crimeRate, indicator"
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `weight`
         (Required)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The type of weighting applied to density calculations. This parameter supports two values: `Uniform`(default), which calculates a magnitude-per-area, and `Kernel`, which applies a kernel function to fit a smooth tapered surface to each point.
         
         Values: `Uniform`\| `Kernel`
         
         REST examples
         ```javascript
         //REST web example
         Uniform
         //REST scripting example
         "weight": "Kernel"
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `binType`
         (Required)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The type of bin used to calculate density.
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_E865B21A_4ACA_493E_89BA_297EB71E7033 />
         Values: `Hexagon`\| `Square`
         
         REST examples
         ```javascript
         //REST web example
         Hexagon
         //REST scripting example
         "binType": "Hexagon"
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `binSize`
         (Required)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The distance for the bins that the `inputLayer`will be analyzed using. When generating bins for the `Square`bin type, the number and units specified determine the height and length of the square. For the `Hexagon`bin type, the number and units specified determine the distance between parallel sides.

         REST examples
         ```javascript
         //REST web example
         108.3
         //REST scripting example
         "binSize": 100
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `binSizeUnit`
         (Required)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The distance unit for the bins for which the density will be calculated and t he linear unit to be used with the value specified for `binSize`. The default is `Meters`.
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_8280F941_0439_4805_B034_1E224F28280C />
         REST examples
         ```javascript
         //REST web example
         Meters
         //REST scripting example
         "binSizeUnit": "Miles"
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `timeStepInterval`
         (Optional)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_A6FED648_EF3E_4164_8718_D12E25E834F0 />
         REST examples
         ```javascript
         //REST web example
         20
         //REST scripting example
         "timeStepInterval": 20
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `timeStepIntervalUnit`
         (Optional)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_22C271BC_367D_4DB7_A325_85FDF16AE790 />
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_A7CEF6BC_29BB_4AF8_9B53_DC19BA1D336E />
         REST examples
         ```javascript
         //REST web example
         Days
         //REST scripting example
         "timeStepIntervalUnit": "Days"
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `timeStepRepeatInterval`
         (Optional)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_DCBBCD5F_96A0_45B7_94A9_BEA8897EA77E />
         REST examples
         ```javascript
         //REST web example
         2
         //REST scripting example
         "timeStepRepeatInterval": 2
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `timeStepRepeatIntervalUnit`
         (Optional)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_22C271BC_367D_4DB7_A325_85FDF16AE790 />
         REST examples
         ```javascript
         //REST web example
         Minutes
         //REST scripting example
         "timeStepRepeatIntervalUnit": "Minutes"
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `timeStepReference`
         (Optional)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_D6DCDDB8_9F57_44CC_9B81_08958F087009 />
         REST examples
         ```javascript
         //REST web example
         946684800000
         //REST scripting example
         "timeStepReference": 946684800000
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `radius`
         (Required)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The size of the neighborhood within which density will be calculated. The radius size must be larger than the `binSize`value.

         REST examples
         ```javascript
         //REST web example
         100
         //REST scripting example
         "radius": "100"
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `radiusUnit`
         (Required)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The distance unit for the radius defining the neighborhood for which density will be calculated and t he linear unit to be used with the value specified for `binSize`. The default is `Meters`.
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_8280F941_0439_4805_B034_1E224F28280C />
         REST examples
         ```javascript
         //REST web example
         Miles
         //REST scripting example
         "radiusUnit": "Miles"
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `areaUnits`
         (Optional)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The output units of the density values. The default value is `SquareKilometers`. If density values are very small, you can increase the size of the area units (for example, square meters to square kilometers) to return larger values. This value only scales the result.

         Values: `SquareMeters`\| `SquareKilometers`\| `Hectares`\| `SquareFeet`\|`SquareFeetInt`\| `SquareFeetUS`\|`SquareYards`\|`SquareYardsInt`\| `SquareYardsUS`\| `SquareMiles`\| `SquareMilesInt`\| `SquareMilesUS`\| `Acres`\| `AcresInt`\| `AcresUS`

         REST examples
         ```javascript
         //REST web example
         SquareMiles
         //REST scripting example
         "areaUnits": "SquareKilometers"
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `outputName`
         (Required)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_B66A5391_775F_4E9A_B717_F84D52A10572 />
         REST examples
         ```javascript
         //REST web example
         myOutput
         //REST scripting example
         "outputName": "myOutput"
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `context`
         (Optional)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_E671F554_89D2_4CAD_B032_525E1CE90C18 />
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9BD8524A_A4D0_4128_876A_6CA8568233A7 />
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `f`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9B5D5783_E386_45F7_8EA8_88843A1BB484 />
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_C771449E_6BA7_4CB4_9328_2C855A14B2B2 />
      </StyledTableCell>
   </StyledTableRow>
</StyledTable>

## Example usage

The example below is a sample request URL for `CalculateDensity`:

```javascript
https://webadaptor.domain.com/server/rest/services/System/GeoAnalyticsTools/GPServer/CalculateDensity/submitJob?inputLayer={"url":"https://webadaptor.domain.com/server/rest/services/Hurricane/hurricaneTrack/0"&bintype=Hexagon&binSize=108.3&binSizeUnit=Meters&fields="classed_magnitude"&weight=Uniform&timeStepInterval=20&timeStepIntervalUnit=Minutes&timeStepRepeatInterval=1&timeStepRepeatIntervalUnit=Days&timeStepReference=946684800000&radius=10&radiusUnit=NauticalMiles&areaUnits=SquareMiles&outputName=myOutput&context={"extent":{"xmin":-122.68,"ymin":45.53,"xmax":-122.45,"ymax":45.6,"spatialReference":{"wkid":4326}}}&f=json
```

 

## Response

<GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9562E716_BEF8_4A70_A787_C7231BB32C3E />

<GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_CBCE73F1_60C0_4D53_BDE3_B2C3ACEBD24A />

<GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_EE2D677C_9158_4D61_A164_2444C6476C92 />

```javascript
https://<analysis url>/CalculateDensity/jobs/<jobId>
```


### Access results

When the status of the job request is `esriJobSucceeded`, you can access the results of the analysis by making a request of the following form:

```other
https://<analysis-url>/CalculateDensity/jobs/<jobId>/results/output?token=<your token>&f=json
```

<StyledTable headers={"Response,Description"}>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `output`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The `output`value will always contain polygon features. The number of resulting polygons is based on the location of the `inputLayer`value.
         The layer will have an attribute for each field on which the density has been calculated, as well as the density of the count of points.
         ```javascript
         {"url": "https://<analysis-url>/CalculateDensity/jobs/<jobId>/results/output"}
         ```
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_A0501D59_23F2_456F_AAFF_3BCC593D9E34 />
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_A771740E_17FA_47C6_A2FC_6BF0B76090CA />
      </StyledTableCell>
   </StyledTableRow>
</StyledTable>
