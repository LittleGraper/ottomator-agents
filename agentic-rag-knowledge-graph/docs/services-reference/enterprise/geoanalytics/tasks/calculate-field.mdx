---
title: "Calculate Field"
description: "API reference for the Calculate Field operation available through the ArcGIS GeoAnalytics Server service."
slug: "calculate-field"
url: "/geoanalytics/tasks/calculate-field"
redirectFrom:
  - /calculate-field/
guid: "GUID-D8B0C73E-FE5F-4AEF-88C0-951518669AEA"
migratedTopicMetadata:
  FTITLE: "Calculate Field"
  FDESCRIPTION: "Template conversion"
  FCHANGES: ""
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "10.8 - *"
  CREATED-ON: "14/11/2019 16:14:31"
  FAUTHOR: "sambrose"
  FSTATUS: "Released"
  MODIFIED-ON: "15/11/2019 14:11:19"
  VERSION: "2"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "2"
  ED: "GUID-5F41E17C-F326-48F9-A195-B2A548C94494"
  FUSERGROUP: "VUSERGROUPARCGISONLINEDOC"
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /CalculateField
  urlSegments:
    - name: <geoanalytics-url>
      url: /geoanalytics-tasks
    - name: /CalculateField
  methods: []
  sslOnly: 'no'
  versionIntroduced: '10.6'
---

import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_DC085569_B522_4EE0_B0B5_2F7A608B8064 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-DC085569-B522-4EE0-B0B5-2F7A608B8064";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9D93A3DC_0BC3_4112_9F02_01A1C73B2A30 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-9D93A3DC-0BC3-4112-9F02-01A1C73B2A30";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_C91B130A_FD09_424A_9B71_F26A2D394BD9 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-C91B130A-FD09-424A-9B71-F26A2D394BD9";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_87A951E6_B820_40ED_905E_38CFCD3D8D8E from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-87A951E6-B820-40ED-905E-38CFCD3D8D8E";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_B66A5391_775F_4E9A_B717_F84D52A10572 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-B66A5391-775F-4E9A-B717-F84D52A10572";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_E671F554_89D2_4CAD_B032_525E1CE90C18 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-E671F554-89D2-4CAD-B032-525E1CE90C18";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9BD8524A_A4D0_4128_876A_6CA8568233A7 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-9BD8524A-A4D0-4128-876A-6CA8568233A7";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9B5D5783_E386_45F7_8EA8_88843A1BB484 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-9B5D5783-E386-45F7-8EA8-88843A1BB484";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_C771449E_6BA7_4CB4_9328_2C855A14B2B2 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-C771449E-6BA7-4CB4-9328-2C855A14B2B2";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9562E716_BEF8_4A70_A787_C7231BB32C3E from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-9562E716-BEF8-4A70-A787-C7231BB32C3E";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_CBCE73F1_60C0_4D53_BDE3_B2C3ACEBD24A from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-CBCE73F1-60C0-4D53-BDE3-B2C3ACEBD24A";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_EE2D677C_9158_4D61_A164_2444C6476C92 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-EE2D677C-9158-4D61-A164-2444C6476C92";
import GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_03071520_C169_41C0_8E51_866D82061408 from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_GUID-03071520-C169-41C0-8E51-866D82061408";
import GAX_DEPRECATION_NOTICE from "../../snippets/GUID-53340951-6261-4C65-BAA3-4AF9D206C6D2/_gax-general-deprecation-notice.mdx";

## Description

<GAX_DEPRECATION_NOTICE />

![Calculate Field](../../images/GUID-C8CB3150-8ED4-4A24-90EB-B9EE56E36728-web.png)

The `CalculateField` operation works with a layer to create and populate a new field or edit an existing field. The
output is a new feature service that is the same as the input features, with the newly calculated values.

##  Request parameters 

<StyledTable headers={"Parameter,Details"}>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `inputLayer`
         (Required)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The input features that will have a field added and calculated.
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_DC085569_B522_4EE0_B0B5_2F7A608B8064 />

         REST examples
         ```javascript
         //REST web example
         {"url": "https://myportal.domain.com/server/rest/services/Hosted/hurricaneTrack/FeatureServer/0", "filter": "Month = 'September;"}

         //REST scripting example
         "inputLayer": {"url": "https://myportal.domain.com/server/rest/services/Hosted/HurricaneTrack/FeatureServer/0", "filter": "Month = 'September'"}
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `fieldName`
         (Required)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         A string representing the name of the new field. If the name already exists in the dataset, a numeric value will be
         appended to the field name.

         REST Example
         ```javascript
         //REST web example
         MyNewField

         //REST scripting example
         "fieldName": "AccumulatedValues"
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `dataType`
         (Required)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The type for the new field.

         Values: `Date` \| `Double` \| `Integer` \| `String`

          REST examples
         ```javascript
         //REST web example
         Double

         //REST scripting example
         "dataType": "Integer"
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `expression`
         (Required)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         An Arcade expression used to calculate the new field values. You can use any of the Date, Logical, Mathematical, or
         Text functions available with Arcade expressions.

          REST examples
         ```javascript
         //REST web example
         $feature["Field1"] + abs($feature["Field2"])

         //REST scripting example
         "expression": "$feature[\"Field1\"] + abs($feature[\"Field2\"])"
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `trackAware`
         (Optional)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         A Boolean value denoting if the expression is track-aware.

         Values: `true` \| `false`

          REST examples
         ```javascript
         //REST web example
         true

         //REST scripting example
         trackAware: "false"
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `trackFields`
         (Required if `trackAware`  is `true`)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The fields used to identify distinct tracks. There can be multiple `trackFields`. `trackFields` are only required
         when `trackAware` is `true`.

          REST examples
         ```javascript
         //REST web example
         AircraftID

         //REST scripting example
         trackAware: "AirID,DepartureCity"
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `timeBoundarySplit`
         (Optional)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9D93A3DC_0BC3_4112_9F02_01A1C73B2A30 />
         The time boundary parameters are only applicable if the analysis is `trackAware`.

          REST examples
         ```javascript
         //REST web example
         2

         //REST scripting example
         "timeBoundarySplit": 1
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `timeBoundarySplitUnit`
         (Optional)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_C91B130A_FD09_424A_9B71_F26A2D394BD9 />

          REST examples
         ```javascript
         //REST web example
         Weeks

         //REST scripting example
         "timeBoundarySplitUnit": "Days"
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `timeBoundaryReference`
         (Optional)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_87A951E6_B820_40ED_905E_38CFCD3D8D8E />

          REST examples
         ```javascript
         //REST web example
         9466835800000

         //REST scripting example
         "timeBoundaryReference": 946684800000
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `outputName`
         (Optional)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_B66A5391_775F_4E9A_B717_F84D52A10572 />

          REST examples
         ```javascript
         //REST web example
         myOutput

         //REST scripting example
         "outputName": "myOutput"
         ```
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `context`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_E671F554_89D2_4CAD_B032_525E1CE90C18 />
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9BD8524A_A4D0_4128_876A_6CA8568233A7 />
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `f`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9B5D5783_E386_45F7_8EA8_88843A1BB484 />
         <GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_C771449E_6BA7_4CB4_9328_2C855A14B2B2 />
      </StyledTableCell>
   </StyledTableRow>
</StyledTable>

## Example usage

Below is a sample request URL for `CalculateField`:

```javascript
https://webadaptor.domain.com/server/rest/services/System/GeoAnalyticsTools/GPServer/CalculateField/submitJob?inputLayer={"url":"https://webadaptor.domain.com/server/rest/services/Hurricane/hurricaneTrack/0"}&fieldName=MyNewField&dataType=Integer&expression=$feature["Field1"] + abs($feature["Field2"])&trackAware=false&trackFields&timeBoundarySplit=2&timeBoundarySplitUnit=Hours&timeBoundaryReference=946684800000&outputName=myOutput&context={"extent":{"xmin":-122.68,"ymin":45.53,"xmax":-122.45,"ymax":45.6,"spatialReference":{"wkid":4326}}}&f=json
```

## Response

<GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_9562E716_BEF8_4A70_A787_C7231BB32C3E />

<GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_CBCE73F1_60C0_4D53_BDE3_B2C3ACEBD24A />

<GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_EE2D677C_9158_4D61_A164_2444C6476C92 />

```javascript
https://<analysis url>/CalculateField/jobs/<jobId>
```

### Access results

<GUID_53340951_6261_4C65_BAA3_4AF9D206C6D2_GUID_03071520_C169_41C0_8E51_866D82061408 />

```javascript
https://<analysis-url>/CalculateField/jobs/<jobId>/results/output?token=<your token>&f=json
```

<StyledTable headers={"Response,Description"}>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `output`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         `output` will always contain a feature service.
         ```javascript
         {"url": "https://<analysis-url>/CalculateField/jobs/<jobId>/results/output"}
         ```
         The result has properties for parameter name, data type, and value. The contents of `value` depend on the `output`
         parameter provided in the initial request. The `value` parameter contains the URL of the output cube.
         ```javascript
         {
         "paramName": "output",
         "dataType": "GPRecordSet",
         "value": {"url": "<hosted feature service layer url>"}
         }
         ```
      </StyledTableCell>
   </StyledTableRow>
</StyledTable>
