---
title: "Flow Distance"
description: "The FlowDistance task computes the downslope horizontal or vertical distance to cells in a stream or river into which they flow."
slug: "flow-distance"
url: "/flow-distance"
guid: "GUID-9099B50C-192C-4F1B-B961-B2C6FB66CB75"
migratedTopicMetadata:
  FTITLE: "Flow Distance"
  FDESCRIPTION: ""
  FCHANGES: "Removing related resources re: https://devtopia.esri.com/WebGIS/arcgis-rest-api-documentation/issues/191"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "10.7 - *"
  CREATED-ON: "13/09/2022 11:40:21"
  FAUTHOR: "tohara"
  FSTATUS: "Released"
  MODIFIED-ON: "20/09/2022 11:06:00"
  VERSION: "2"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "3"
  ED: "GUID-6881BB14-E639-48BB-B2E4-69BA28A12EBF"
  FUSERGROUP: ""
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /<serviceName>/RasterAnalysisTools/GPServer/FlowDistance
  urlSegments:
    - name: <root>
      url: /catalog
    - name: /<serviceName>/RasterAnalysisTools/GPServer/FlowDistance
  methods: []
  sslOnly: 'no'
  versionIntroduced: '10.6'
---

import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_39550D84_6518_4EEB_9D14_CEE6F1AF432D from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-39550D84-6518-4EEB-9D14-CEE6F1AF432D";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_59BC6D2B_4DDF_47B1_87EB_007154B11B73 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-59BC6D2B-4DDF-47B1-87EB-007154B11B73";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_116B8612_7A51_4248_8BA1_C7762F854250 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-116B8612-7A51-4248-8BA1-C7762F854250";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_F2432D7C_6B85_43BD_B98C_40AC9E9EBA22 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-F2432D7C-6B85-43BD-B98C-40AC9E9EBA22";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_8F14A47B_448F_4A97_9AF3_539B5A3C476E from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-8F14A47B-448F-4A97-9AF3-539B5A3C476E";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_39FA4FC2_5356_469F_A9F8_91E18787F773 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-39FA4FC2-5356-469F-A9F8-91E18787F773";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_D523DDC5_AC20_44FA_819D_0C296C5B859B from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-D523DDC5-AC20-44FA-819D-0C296C5B859B";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_AFE58235_1C67_4C5A_BF50_46A08FDB7465 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-AFE58235-1C67-4C5A-BF50-46A08FDB7465";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_53C636A8_E4F7_4DC6_9B19_2E63323CD9DC from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-53C636A8-E4F7-4DC6-9B19-2E63323CD9DC";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_D369F298433B41D99CAF9C6C488DBA13 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_LI_D369F298433B41D99CAF9C6C488DBA13";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_8F18DD03A2D743938C83FD639D4972E7 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_LI_8F18DD03A2D743938C83FD639D4972E7";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_20FA5DC3546F442F9404033BCE651ADF from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_LI_20FA5DC3546F442F9404033BCE651ADF";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_E671F554_89D2_4CAD_B032_525E1CE90C18 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-E671F554-89D2-4CAD-B032-525E1CE90C18";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_1744B5CA044F44D8ABF2E27EF9BC9A27 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_LI_1744B5CA044F44D8ABF2E27EF9BC9A27";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_AD9814DB26DA439EA899971516D5E44D from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_LI_AD9814DB26DA439EA899971516D5E44D";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_7566284934CF4B3BAFE1FBAA218408CB from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_LI_7566284934CF4B3BAFE1FBAA218408CB";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_2DDA48A24C404781BB03BF05B81B3C19 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_LI_2DDA48A24C404781BB03BF05B81B3C19";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_E5BF6567427444E8B74C6B8212C56B99 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_LI_E5BF6567427444E8B74C6B8212C56B99";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_9B5D5783_E386_45F7_8EA8_88843A1BB484 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-9B5D5783-E386-45F7-8EA8-88843A1BB484";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_C771449E_6BA7_4CB4_9328_2C855A14B2B2 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-C771449E-6BA7-4CB4-9328-2C855A14B2B2";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_1702083F_151C_4A0C_AF36_0D0DD9E2563A from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-1702083F-151C-4A0C-AF36-0D0DD9E2563A";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_4B398B66_01FD_40FB_9AEE_30371F0A8CD8 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-4B398B66-01FD-40FB-9AEE-30371F0A8CD8";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_ED11CCC7_40D3_4ADD_A679_A3F6964834ED from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-ED11CCC7-40D3-4ADD-A679-A3F6964834ED";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_50D345C8_14F8_4A4A_AB1E_A6BBD19C49EF from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-50D345C8-14F8-4A4A-AB1E-A6BBD19C49EF";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_0B67C573_40F2_4EC6_AE81_10B533957ED4 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-0B67C573-40F2-4EC6-AE81-10B533957ED4";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_E596EE5E_5AE7_4B4E_8227_CDD51656E8EF from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-E596EE5E-5AE7-4B4E-8227-CDD51656E8EF";

## Description

![Flow Distance diagram](./images/GUID-F603915F-390A-432D-8398-854EEA9B3C04-web.png)

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_39550D84_6518_4EEB_9D14_CEE6F1AF432D />

To limit downslope directions along which flow distance is measured, you can provide an optional input flow direction service that can be derived using the `FlowDirection` task. Choose from D8, D-Infinity (DINF), and multiple flow direction (MFD) flow models while generating an optional input flow direction service. Use the `flowDirectionType` parameter to specify which method was used when the flow direction raster was created.

If an optional input flow direction service is provided, it is recommended that it be created using the `FlowDirection`  task, using the same input surface that you'll provide to the `FlowDistance` task. If this input surface is void of sinks, the distance measurements would be to stream cells represented by the input stream raster. If this input surface has sinks present, some flow paths can get terminated short by them flowing into sinks before reaching streams. In such cases, flow distance measurements for these cells are calculated only up to the sink cells into which they flow.

When `FlowDistance` is run with no optional flow direction input, flow distance is assessed considering all possible downslope flow paths from each cell to cell(s) on a stream into which they flow.

When task is run with an optional D8 flow direction raster, there is only one possible downslope path from every cell to a cell on the stream, and flow distance is measured along this single flow path.

When multiple flow paths exist from each cell to cells on the stream into which they flow, use the `statisticsType`  to compute minimum, weighted mean, or maximum flow distance.

If there is only a single flow path from each cell to a cell on the stream, all statistics types produce the same result.

## Request parameters

<StyledTable headers={"Parameter,Details"}>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`inputStreamRaster` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

An input raster that represents a linear stream network.

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_59BC6D2B_4DDF_47B1_87EB_007154B11B73 />

Examples:

```javascript
//Portal item as input raster
"inputStreamRaster": {"itemId": <portal item id>}

//URL as input raster
"inputStreamRaster": {"url": <image service layer url>}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`inputSurfaceRaster` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The input raster representing a continuous surface.

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_59BC6D2B_4DDF_47B1_87EB_007154B11B73 />

Examples:

```javascript
//Portal item as input raster
"inputSurfaceRaster": {"itemId": <portal item id>}

//URL as input raster
"inputSurfaceRaster": {"url": <image service layer url>}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`outputName` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_116B8612_7A51_4248_8BA1_C7762F854250 />

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_F2432D7C_6B85_43BD_B98C_40AC9E9EBA22 />

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_8F14A47B_448F_4A97_9AF3_539B5A3C476E />

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_39FA4FC2_5356_469F_A9F8_91E18787F773 />

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_D523DDC5_AC20_44FA_819D_0C296C5B859B />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`inputFlowDirectionRaster` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The input raster that shows the direction of flow out of each cell.

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_59BC6D2B_4DDF_47B1_87EB_007154B11B73 />

Examples:

```javascript
//Portal item as input raster
"inputFlowDirectionRaster": {"itemId": <portal item id>}

//URL as input raster
"inputFlowDirectionRaster": {"url": <image service layer url>}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`distanceType` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Determines whether the vertical or horizontal component of flow distance is calculated.

Syntax: A string describing the distance calculation type, which can be one of the following:

-   `VERTICAL`  calculations represent the vertical component of flow distance, following the flow path, from each cell in the domain to the cells on the stream into which they flow. This is the default.
-   `HORIZONTAL`  calculations represent the horizontal component of flow distance, following the flow path, from each cell in the domain to the cells on the stream into which they flow.

Example:

```javascript
"distanceType": "HORIZONTAL"
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`flowDirectionType` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_AFE58235_1C67_4C5A_BF50_46A08FDB7465 />

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_53C636A8_E4F7_4DC6_9B19_2E63323CD9DC />

-   <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_D369F298433B41D99CAF9C6C488DBA13 />
-   <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_8F18DD03A2D743938C83FD639D4972E7 />
-   <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_20FA5DC3546F442F9404033BCE651ADF />

Example:

```javascript
"flowDirectionType": "DINF"
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`statisticsType` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Determines the statistics type used to compute flow distance over multiple flow paths. If there is only a single flow path from each cell to a cell on the stream, all statistics types produce the same result.

Syntax: A string describing the statistics type, which can be one of the following:

-   `MINIMUM` —Where multiple flow paths exist, minimum flow distance in computed. This is the default.
-   `WEIGHTED_MEAN` —Where multiple flow paths exist, a weighted mean of flow distance is computed. Flow proportion from a cell to its downstream neighboring cells are used as weights for computing weighted mean.
-   `MAXIMUM` —When multiple flow paths exist, maximum flow distance is computed.

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`context` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_E671F554_89D2_4CAD_B032_525E1CE90C18 />

-   <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_1744B5CA044F44D8ABF2E27EF9BC9A27 />
-   <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_AD9814DB26DA439EA899971516D5E44D />
-   <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_7566284934CF4B3BAFE1FBAA218408CB />
-   <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_2DDA48A24C404781BB03BF05B81B3C19 />
-   <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_E5BF6567427444E8B74C6B8212C56B99 />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`f` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_9B5D5783_E386_45F7_8EA8_88843A1BB484 />

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_C771449E_6BA7_4CB4_9328_2C855A14B2B2 />

</StyledTableCell>

</StyledTableRow>

</StyledTable>

## Response

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_1702083F_151C_4A0C_AF36_0D0DD9E2563A />

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_4B398B66_01FD_40FB_9AEE_30371F0A8CD8 />

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_ED11CCC7_40D3_4ADD_A679_A3F6964834ED />

```javascript
https://<raster analysis tools url>/FlowDistance/jobs/<jobId>
```

 

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_50D345C8_14F8_4A4A_AB1E_A6BBD19C49EF />

```javascript
https://<raster analysis tools url>/FlowDistance/jobs/<jobId>/results/outputRaster
```

 

## Example usage

Below is a sample request URL for `FlowDistance` .

```javascript
https://services.myserver.com/arcgis/rest/services/System/RasterAnalysisTools/GPServer/FlowDistance/submitJob
```

 

## JSON Response example

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_0B67C573_40F2_4EC6_AE81_10B533957ED4 />

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_E596EE5E_5AE7_4B4E_8227_CDD51656E8EF />
