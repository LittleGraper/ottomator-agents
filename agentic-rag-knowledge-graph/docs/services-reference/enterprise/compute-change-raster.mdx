---
title: "Compute Change Raster"
description: "API reference for the Compute Change Raster service available in ArcGIS Enterprise."
slug: "compute-change-raster"
url: "/compute-change-raster"
guid: "GUID-4E38499E-DE08-4035-8668-E0C5D11F7B82"
migratedTopicMetadata:
  FTITLE: "Compute Change Raster"
  FDESCRIPTION: ""
  FCHANGES: "Removing related resources re: https://devtopia.esri.com/WebGIS/arcgis-rest-api-documentation/issues/191"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "10.9.1 - *"
  CREATED-ON: "15/09/2022 14:23:36"
  FAUTHOR: "tohara"
  FSTATUS: "Released"
  MODIFIED-ON: "20/09/2022 10:59:59"
  VERSION: "3"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "2"
  ED: "GUID-464BC395-CD0D-4348-A428-52A3D7722F6C"
  FUSERGROUP: ""
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /ComputeChangeRaster
  urlSegments:
    - name: <rasteranalysistools-url>
      url: /raster-analysis-tasks-overview
    - name: /ComputeChangeRaster
  methods: []
  sslOnly: 'no'
  versionIntroduced: 10.9.1
---

import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_116B8612_7A51_4248_8BA1_C7762F854250 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-116B8612-7A51-4248-8BA1-C7762F854250";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_8F14A47B_448F_4A97_9AF3_539B5A3C476E from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-8F14A47B-448F-4A97-9AF3-539B5A3C476E";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_2DDA48A24C404781BB03BF05B81B3C19 from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_LI_2DDA48A24C404781BB03BF05B81B3C19";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_1744B5CA044F44D8ABF2E27EF9BC9A27 from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_LI_1744B5CA044F44D8ABF2E27EF9BC9A27";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_AD9814DB26DA439EA899971516D5E44D from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_LI_AD9814DB26DA439EA899971516D5E44D";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_30623A2523584FB586A882C09EA092E6 from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_LI_30623A2523584FB586A882C09EA092E6";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_7566284934CF4B3BAFE1FBAA218408CB from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_LI_7566284934CF4B3BAFE1FBAA218408CB";
import GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_56FBFBA3_C66E_404D_8D62_38D68537B266 from "./snippets/GUID-187EFF3C-6544-4421-8D1E-9DFCF76354CD/_GUID-56FBFBA3-C66E-404D-8D62-38D68537B266";
import GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_EB4A1F30_5539_4BD1_AB9D_2D4EA4603F0E from "./snippets/GUID-187EFF3C-6544-4421-8D1E-9DFCF76354CD/_GUID-EB4A1F30-5539-4BD1-AB9D-2D4EA4603F0E";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_1702083F_151C_4A0C_AF36_0D0DD9E2563A from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_GUID-1702083F-151C-4A0C-AF36-0D0DD9E2563A";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_4B398B66_01FD_40FB_9AEE_30371F0A8CD8 from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_GUID-4B398B66-01FD-40FB-9AEE-30371F0A8CD8";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_ED11CCC7_40D3_4ADD_A679_A3F6964834ED from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_GUID-ED11CCC7-40D3-4ADD-A679-A3F6964834ED";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_50D345C8_14F8_4A4A_AB1E_A6BBD19C49EF from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_GUID-50D345C8-14F8-4A4A-AB1E-A6BBD19C49EF";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_0B67C573_40F2_4EC6_AE81_10B533957ED4 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-0B67C573-40F2-4EC6-AE81-10B533957ED4";

## Description

![Compute Change Raster diagram](./images/GUID-44BF05DC-872A-46CD-82D2-545D66EC6D42-web.png)

The `ComputeChangeRaster`  task is used to evaluate the difference between two input rasters, and generates a change raster output service. This tool supports continuous raster data and categorical raster data. When the raster inputs are two categorical rasters, the output change raster includes an attribute table containing all the permutations of the from and to classes as well as the pixel counts for all changed and unchanged classes.

<Note type={"note"}>

You must license your ArcGIS Server as an ArcGIS Image Server to use this resource.

</Note>

##  Request parameters

<StyledTable headers={"Parameter,Details"}>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`inputFromRaster` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The portal item ID, image service URL, cloud raster dataset, or shared raster dataset representing the initial or earlier raster to be analyzed.

Syntax: A JSON object describing the `inputFromRaster` . At least one type of input must be provided in the JSON object. If multiple inputs are given, the `itemId`  takes priority.

Example

```javascript
{"itemId": <portal item id>} 
{“url”: <image service url>}
{“uri”: <cloud raster uri or shared data path>}

```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`inputToRaster` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The portal item ID, image service URL, cloud raster dataset, or shared raster dataset representing the second or later raster to be analyzed.

Syntax: A JSON object describing the `inputFromRaster` . At least one type of input must be provided in the JSON object. If multiple inputs are given, the `itemID`  takes priority.

Example

```javascript
{"itemId": <portal item id>} 
{“url”: <image service url>}
{“uri”: <cloud raster uri or shared data path>}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`outputName` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_116B8612_7A51_4248_8BA1_C7762F854250 />

If the image service already exists, the portal item ID or service URL can be provided and the output path of the raster dataset generated in the raster store will be used to update the existing service definition. Otherwise, a new image service will be created.

The service tool can also generate new hosted image service with the given service properties.

The output hosted image service is stored in the raster store and shared on the image hosting ArcGIS Image Server or the raster analysis ArcGIS Image Server, depending on your configuration. 

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_8F14A47B_448F_4A97_9AF3_539B5A3C476E />

Example

```javascript
{"itemId": <portal item id>} 
{“url”: <image service url>}
{“uri”: <cloud raster uri or shared data path>}
or 
{"serviceProperties": {“name”: ”change_analysis”}}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`computeChangeMethod` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Specifies the type of calculation to perform between the two input rasters.

-   `DIFFERENCE` —The mathematical difference, or subtraction, between the pixel values in the rasters will be calculated. This is the default.
-   `RELATIVE_DIFFERENCE` —The difference in pixel values, accounting for the magnitude of the values being compared, will be calculated.
-   `CATEGORICAL_DIFFERENCE` —The difference between two categorical or thematic rasters will be calculated in which the output contains class transitions that occurred between the two rasters.

Syntax: String.

Example:

```javascript
computeChangeMethod="CATEGORICAL_DIFFERENCE"
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`fromClasses` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The class names from the `inputFromRaster`  to include in the analysis if the `computeChangeMethod`  is set to `CATEGORICAL_DIFFERENCE` . If no class name is provided, all the classes in the `inputFromRaster`  will be included. It can be one or multiple values.

Syntax: List of class name strings or a single string.

Example:

```javascript
//Single class example
fromClasses="Forest"

//Multiple classes example
fromClasses=["Forest","Urban","Grassland"]
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`toClasses` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The class names from the `inputToRaster`  to include in the analysis, if the `computeChangeMethod`  is set to `CATEGORICAL_DIFFERENCE` . If no class name is provided, all the classes in the `inputToRaster`  will be included. It can be one or multiple values.

Syntax: List of class name strings or a single string.

Example:

```javascript
//Single class example
toClasses="Urban"

//Multiple classes example
toClasses=["Agriculture","Urban","Bare"]
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`filterMethod` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Specifies the pixels to be categorized in the output raster, if the `computeChangeMethod`  is set to `CATEGORICAL_DIFFERENCE` .

-   `ALL` —All pixels will be categorized in the output. This is the default. 
-   `CHANGED_PIXELS_ONLY` —Only the pixels that changed classes will be categorized in the output. All pixels that did not change categories will be grouped in a class called `Other` .
-   `UNCHANGED_PIXELS_ONLY` —Only the pixels that did not change classes will be categorized in the output. All pixels that changed categories will be grouped in a class called `Other` .

Syntax: String.

Example:

```javascript
filterMethod="CHANGED_PIXELS_ONLY"
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`transitionClassColors` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Specifies the color to use to symbolize the output classes, if the `computeChangeMethod`  is set to `CATEGORICAL_DIFFERENCE` . When a pixel changes from one class type to another, the output pixel color represents the initial class type, the final class type, or a blend of the two.

-   `AVERAGE` —The color of the output class will be the average of the colors from the `fromClasses`  (initial) and `toClasses`  (final). This is the default.
-   `FROM_COLOR` —The color of the output class will match the color of the `fromClasses` .
-   `TO_COLOR` —The color of the output class will match the color of the `toClasses` .

Syntax: String.

Example:

```javascript
transitionClassColors="AVERAGE"
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`fromClassnameField` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

A field that stores class names in the `inputFromRaster` . The tool automatically searches for `CLASSNAME`  field or `CLASS_NAME`  field to use. Use this option if the input does not contain these standard field names.

Syntax: A string representing the class name field in the `inputFromRaster` 

Example:

```javascript
fromClassnameField="CLASSES"
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`toClassnameField` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

A field that stores class names in the `inputToRaster` . The tool will automatically search for `CLASSNAME`  field or `CLASS_NAME`  field to use. Use this option if the input does not contain these standard field names.

Syntax: A string representing the class name field in the `inputToRaster` 

Example:

```javascript
toClassnameField="CLASSES"
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`context` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Contains additional settings that affect task execution.

This task has the following setting:

-   <GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_2DDA48A24C404781BB03BF05B81B3C19 />
-   <GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_1744B5CA044F44D8ABF2E27EF9BC9A27 />
-   <GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_AD9814DB26DA439EA899971516D5E44D />
-   <GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_30623A2523584FB586A882C09EA092E6 />
-   <GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_7566284934CF4B3BAFE1FBAA218408CB />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`f` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_56FBFBA3_C66E_404D_8D62_38D68537B266 />

<GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_EB4A1F30_5539_4BD1_AB9D_2D4EA4603F0E />

</StyledTableCell>

</StyledTableRow>

</StyledTable>

## Response

<GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_1702083F_151C_4A0C_AF36_0D0DD9E2563A />

<GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_4B398B66_01FD_40FB_9AEE_30371F0A8CD8 />

<GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_ED11CCC7_40D3_4ADD_A679_A3F6964834ED />

```javascript
https://<raster analysis url>/ComputeChangeRaster/jobs/<jobId>
```

 

<GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_50D345C8_14F8_4A4A_AB1E_A6BBD19C49EF />

```javascript
http://<raster analysis url>/ComputeChangeRaster/jobs/<jobId>/results/outputRaster?token=<your token>&f=json
```

 

## Example usage

Below is a sample request URL for `ComputeChangeRaster` .

```javascript
https://services.myserver.com/arcgis/rest/services/System/RasterAnalysisTools/GPServer/ComputeChangeRaster/submitJob
```

 

## JSON Response example

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_0B67C573_40F2_4EC6_AE81_10B533957ED4 />

```javascript
{
  "paramName": "outputRaster",
  "dataType": "GPString",
  "value": {
    "itemId": "c267610d0feb4370bf38cc6e2c4ac261", 
    "url": "https://services.myserver.com/arcgis/rest/services/Hosted/<service name>/ImageServer"
  }
}
```

 

## Accessing results

When the status of the job request is `esriJobSucceded` , you can access the results of the analysis by making a request of the following form.

Access results

```javascript
http://<raster analysis url>/ComputeChangeRaster/jobs/<jobId>/results/outputRaster?token=<your token>&f=json
```

 

<StyledTable headers={"Parameter,"}>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`outputRaster` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The output raster `itemId`  and `url` .

Example

```javascript
{"url": "http://<raster analysis url>/ComputeChangeRaster/jobs/<jobId>/results/outputRaster"}
```

 

The result has properties for parameter name, data type, and value. The content of the value is always the output raster dataset’s `itemId`  and image service `url` .

Result

```javascript
{
 "paramName": "outputRaster",
 "dataType": "GPString",
 "value": {
  "itemId": "c267610d0feb4370bf38cc6e2c4ac261",
  "url": "https://<server name>/arcgis/rest/services/Hosted/<service name>/ImageServer"
 }
}
```

 

</StyledTableCell>

</StyledTableRow>

</StyledTable>
