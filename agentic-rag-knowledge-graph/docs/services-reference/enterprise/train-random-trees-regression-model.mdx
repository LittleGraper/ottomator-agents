---
title: "Train Random Trees Regression Model"
description: "API reference for the Train Random Trees Regression Model service available in ArcGIS Enterprise."
slug: "train-random-trees-regression-model"
url: "/train-random-trees-regression-model"
guid: "GUID-BFEB882A-F1F9-46FD-828E-B010BD23837F"
migratedTopicMetadata:
  FTITLE: "Train Random Trees Regression Model"
  FDESCRIPTION: ""
  FCHANGES: "Removing related resources re: https://devtopia.esri.com/WebGIS/arcgis-rest-api-documentation/issues/191"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "10.9.1 - *"
  CREATED-ON: "15/09/2022 12:16:20"
  FAUTHOR: "tohara"
  FSTATUS: "Released"
  MODIFIED-ON: "20/09/2022 11:00:05"
  VERSION: "2"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "2"
  ED: "GUID-AD0F16D6-1872-4C03-A15E-B61038CF02F9"
  FUSERGROUP: ""
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /TrainRandomTreesRegressionModel
  urlSegments:
    - name: <rasteranalysistools-url>
      url: /raster-analysis-tasks-overview
    - name: /TrainRandomTreesRegressionModel
  methods: []
  sslOnly: 'no'
  versionIntroduced: 10.9.1
---

import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_2DDA48A24C404781BB03BF05B81B3C19 from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_LI_2DDA48A24C404781BB03BF05B81B3C19";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_1744B5CA044F44D8ABF2E27EF9BC9A27 from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_LI_1744B5CA044F44D8ABF2E27EF9BC9A27";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_AD9814DB26DA439EA899971516D5E44D from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_LI_AD9814DB26DA439EA899971516D5E44D";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_30623A2523584FB586A882C09EA092E6 from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_LI_30623A2523584FB586A882C09EA092E6";
import GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_56FBFBA3_C66E_404D_8D62_38D68537B266 from "./snippets/GUID-187EFF3C-6544-4421-8D1E-9DFCF76354CD/_GUID-56FBFBA3-C66E-404D-8D62-38D68537B266";
import GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_EB4A1F30_5539_4BD1_AB9D_2D4EA4603F0E from "./snippets/GUID-187EFF3C-6544-4421-8D1E-9DFCF76354CD/_GUID-EB4A1F30-5539-4BD1-AB9D-2D4EA4603F0E";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_1702083F_151C_4A0C_AF36_0D0DD9E2563A from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_GUID-1702083F-151C-4A0C-AF36-0D0DD9E2563A";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_4B398B66_01FD_40FB_9AEE_30371F0A8CD8 from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_GUID-4B398B66-01FD-40FB-9AEE-30371F0A8CD8";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_ED11CCC7_40D3_4ADD_A679_A3F6964834ED from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_GUID-ED11CCC7-40D3-4ADD-A679-A3F6964834ED";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_50D345C8_14F8_4A4A_AB1E_A6BBD19C49EF from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_GUID-50D345C8-14F8-4A4A-AB1E-A6BBD19C49EF";

## Description

![Train Random Trees Regression Model](./images/GUID-EB3673E9-C1AF-4762-B4EF-0FDF0DEFF2A4-web.png)

The `Train Random Trees Regression Model`  task models the relationship between explanatory variables (independent variables) and a target dataset (dependent variable).

As of 10.9.1, you must license your ArcGIS Server as an ArcGIS Image Server to use this resource.

##  Request parameters

<StyledTable headers={"Parameter,Details"}>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`inputRasters` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

A raster or a list of input rasters. The input rasters can be the Portal Item ID, Image Service URL, cloud multidimensional raster dataset or shared raster dataset. The rasters can be single-band, multidimensional, multiband raster datasets, or mosaic datasets, containing explanatory variables

An input mosaic dataset will be treated as a raster dataset, not a collection of rasters. To use a collection of rasters as input, build multidimensional info for the mosaic dataset and use the result as input.

At least one type of input needs to be provided in the JSON object. If multiple inputs are given, the `itemIds`  takes priority.

Syntax: A JSON object describing the input raster(s).

Example for a single `inputRasters`  item.

```javascript
inputRasters = {"itemId": <portal item id>}
inputRasters  = {"url": <image service url>}
inputRasters = {"uri": <cloud raster uri or shared data path>}
```

 

Example for multiple `inputRasters`  items.

```javascript
inputRasters = {"itemIds": [<portal item id>, <portal item id>, <portal item id>]}
inputRasters  = {"urls": [<image service url>, <image service url>, <image service url>]}
inputRasters  = {"uris": [<cloud raster uri or shared data path>, <cloud raster uri or shared data path>]}

```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`inputTargetData` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The raster or point feature class containing the target variable (dependent variable) data.

This parameter can have either a raster input or a feature input. For raster input, this parameter can be specified as a portal item ID, a URL to a raster image service layer, a cloud raster dataset, or a shared raster dataset. For feature input, this parameter can be specified as a URL to a feature service layer, shared data path or service properties.

When the target is a feature, the `targetValueField`  value must be set to a numeric field.

If the input target feature has a date field or a field that defines a dimension, specify a value for both `targetValueField`  and `targetDimensionField` .

Syntax: A JSON object that describes the input.

Example

```javascript
inputTargetData ={"itemId": <portal item id>}
inputTargetData = {"url": <image service url or feature service url>}
inputTargetData = {"uri": <cloud raster uri or shared data path>}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`targetValueField` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The field name of the information to model in the target point feature class or raster dataset.

Syntax: String representing the `targetValueField` .

Example

```javascript
"median_house"
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`targetDimensionField` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

A date field or numeric field in the input point feature class that defines the dimension values.

Syntax: String representing the `targetDimensionField` .

Example

```javascript
"Date_Local"
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`rasterDimension` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The dimension name of the input multidimensional raster (explanatory variables) that links to the dimension in the target data.

Syntax: String representing the `rasterDimension` .

Example

```javascript
"StdTime"
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`outputImportanceTableName` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The output table feature service name that will be created. You can specify the name, or you can create an empty service using Portal Admin Sharing API and use the returned JSON object as input to this parameter.

Syntax: A JSON object that describes the name of the output or the output table.

Example of `outputImportanceTableName` 

```javascript
{"serviceProperties":{"name":<service name>}}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`maxNumberOfTrees` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The maximum number of trees in the random forest. Increasing the number of trees will lead to higher accuracy rates, although this improvement will level off. The number of trees increases the processing time linearly. The default is 50.

Syntax: A long value that represents the `maxNumberOfTrees` .

Example

```javascript
60
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`maxTreeDepth` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The maximum depth of each tree in the random forest. Depth determines the number of rules each tree can create, resulting in a decision. Trees will not grow any deeper than this setting. The default is 30.

Syntax: A long value that represents the `maxTreeDepth` .

Example

```javascript
100
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`maxNumberOfSamples` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The maximum number of samples that will be used for the regression analysis. A value that is less than or equal to 0 means that the system will use all the samples from the input target raster or point feature class to train the regression model. The default value is 100,000.

Syntax: A long value that represents the `maxNumberOfSamples` .

Example

```javascript
25000
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`averagePointsPerCell` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Specifies whether the average will be calculated when multiple training points fall into one cell. This parameter is applicable only when the input target is a point feature class.

-   `KEEP_ALL_POINTS` —All points will be used when multiple training points fall into a single cell. This is the default.
-   `AVERAGE_POINTS_PER_CELL` —The average value of the training points within a cell will be calculated.

Syntax: A String value representing the `averagePointsPerCell` .

Example

```javascript
“KEEP_ALL_POINTS”
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`outputScatterPlotsName` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The output scatterplots in PDF or HTML format. It includes scatterplots of training data, test data, and location test data.

<Note type={"note"}>

For Portal, only PDF type is supported while datastores support both PDF and HTML. If no extension is specified, PDF is used by default.

</Note>

Syntax: A JSON object that describes the name of the output or path to the datastore.

Examples

```javascript
//name example
{"name": "output_plot"}

//uri example
{"uri": <datastore path>}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`outputSampleFeaturesName` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Outputs a feature class containing target values and predicted values for training points, test points, and location test points. You can specify the name, or you can create an empty service using Portal Admin Sharing API and use the returned JSON object as input to this parameter.

Syntax: A JSON object that describes the output feature service name.

Example

```javascript
{"serviceProperties": {"name": "<service name>"}}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`percentSamplesForTesting` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Defines the percentage of test points used for error checking. The tool checks for three types of errors: errors on training points, errors on test points, and errors on test location points. The default is 10.

Syntax: A double value that represents the `percentSamplesForTesting` .

Example:

20

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`context` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Contains additional settings that affect task execution. This task has the following settings:

-   <GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_2DDA48A24C404781BB03BF05B81B3C19 />
-   <GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_1744B5CA044F44D8ABF2E27EF9BC9A27 />
-   <GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_AD9814DB26DA439EA899971516D5E44D />
-   <GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_30623A2523584FB586A882C09EA092E6 />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`f` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_56FBFBA3_C66E_404D_8D62_38D68537B266 />

<GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_EB4A1F30_5539_4BD1_AB9D_2D4EA4603F0E />

</StyledTableCell>

</StyledTableRow>

</StyledTable>

## Response

<GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_1702083F_151C_4A0C_AF36_0D0DD9E2563A />

<GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_4B398B66_01FD_40FB_9AEE_30371F0A8CD8 />

<GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_ED11CCC7_40D3_4ADD_A679_A3F6964834ED />

```javascript
https://<raster analysis tools url>/TrainRandomTreesRegressionModel/jobs/<jobId>
```

 

<GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_50D345C8_14F8_4A4A_AB1E_A6BBD19C49EF />

To access the output regression definition file:

```javascript
http://<raster analysis url>/
TrainRandomTreesRegressionModel/jobs/<jobId>/results/outputRegressionDefinitionFile
?token=<your token>&f=json
```

 

The `ecd`  is the value property of the resulting JSON.

To access the output importance table:

```javascript
http://<raster analysis url>/
TrainRandomTreesRegressionModel/jobs/<jobId>/results/outputImportanceTable
?token=<your token>&f=json
```

 

To access the output scatter plots:

```javascript
http://<raster analysis url>/
TrainRandomTreesRegressionModel/jobs/<jobId>/results/outputScatterPlots
?token=<your token>&f=json
```

 

To access the output sample features:

```javascript
http://<raster analysis url>/
TrainRandomTreesRegressionModel/jobs/<jobId>/results/outputSampleFeatures
?token=<your token>&f=json
```

 
