---
title: "Save Layout"
description: "The saveLayout operation applies and saves new geometries that may have been computed for a set of diagram features represented in a diagram."
slug: "save-layout-network-diagrams"
url: "/save-layout-network-diagrams"
guid: "GUID-10D277E8-0C9B-41CC-8899-D81532DB7D39"
migratedTopicMetadata:
  FTITLE: "Save Layout (Network Diagrams)"
  FDESCRIPTION: ""
  FCHANGES: "license changes
releasing due to only making changes to conref"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "10.8 - *"
  CREATED-ON: "24/09/2019 09:37:41"
  FAUTHOR: "ablin"
  FSTATUS: "Released"
  MODIFIED-ON: "24/09/2019 12:01:57"
  VERSION: "4"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "2"
  ED: "GUID-00D98CC9-E80E-400C-B05B-D53CAC78AD82"
  FUSERGROUP: ""
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /<serviceName>/NetworkDiagramServer/diagrams/<diagramName>/saveLayout
  urlSegments:
    - name: <root>
      url: /catalog
    - name: /<serviceName>/NetworkDiagramServer/diagrams/<diagramName>/saveLayout
  methods: 
    - post
  sslOnly: 'no'
  versionIntroduced: ' 10.6'
---

import GUID_975B7744_9503_41BE_A799_3D09E55A85D5_GUID_61665A7B_93DA_486F_A8E6_9346FC7AF420 from "./snippets/GUID-975B7744-9503-41BE-A799-3D09E55A85D5/_GUID-61665A7B-93DA-486F-A8E6-9346FC7AF420";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_F6FE67FB_9ACA_45E7_831C_DD51A831EAD3 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-F6FE67FB-9ACA-45E7-831C-DD51A831EAD3";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_7AC426AF_5C62_4474_BBE7_6C36CC7DCEB6 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-7AC426AF-5C62-4474-BBE7-6C36CC7DCEB6";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_3EB2FA97_FEE5_4CCA_85DB_1B67B3F50172 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-3EB2FA97-FEE5-4CCA-85DB-1B67B3F50172";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_5BD34E45_603F_4F5B_B77D_236011A78DA4 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-5BD34E45-603F-4F5B-B77D-236011A78DA4";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_ABFDFF0B_C205_42C8_9ABD_73DE1FE97AE0 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-ABFDFF0B-C205-42C8-9ABD-73DE1FE97AE0";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_17DF280A_CE78_4C37_8906_9FA8518D9989 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-17DF280A-CE78-4C37-8906-9FA8518D9989";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_4631762B_50EE_44C6_9461_38BDDF1BB012 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-4631762B-50EE-44C6-9461-38BDDF1BB012";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_7D12F246_BE1B_414F_8A39_8054E24176EB from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-7D12F246-BE1B-414F-8A39-8054E24176EB";

## Description

The `saveLayout` operation applies and saves new geometries that may have been computed for a set of diagram features represented in a diagram. It is performed on a [Diagram resource](/diagram-network-diagram-service). The result of this operation is a [Diagram JSON Information](/appendix-diagram-information-object-network-diagram-service) object, and the moment (date) the saveLayout operation happens for a stored diagram.

<Note type={"note"}>

<GUID_975B7744_9503_41BE_A799_3D09E55A85D5_GUID_61665A7B_93DA_486F_A8E6_9346FC7AF420 />

</Note>

##  Request Parameters 

<StyledTable headers={"Parameter,Details"}>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`gdbVersion` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_F6FE67FB_9ACA_45E7_831C_DD51A831EAD3 />

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_7AC426AF_5C62_4474_BBE7_6C36CC7DCEB6 />

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_3EB2FA97_FEE5_4CCA_85DB_1B67B3F50172 />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`sessionId` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_5BD34E45_603F_4F5B_B77D_236011A78DA4 />

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_ABFDFF0B_C205_42C8_9ABD_73DE1FE97AE0 />

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_17DF280A_CE78_4C37_8906_9FA8518D9989 />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`junctions` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

An array of couples {'{'}"ID": &lt;jctDEID>,"geometry": &lt;geometry>{'}'} providing the new geometry for each edited junction, those diagram junctions being identified thanks to their Diagram Element ID.

Syntax: `junctions=[{"ID": <jctDEID1>,"geometry": <geometry1>}, ..., {"ID": <jctDEIDN>,"geometry": <geometryN>}]` 

Example: `junctions=[{"ID": 20,"geometry": { "x": 1034520.83268067986, "y": 1871861.38327369839, "m": null }}]` 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`containers` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

An array of couples {'{'}"ID": &lt;containerDEID>,"geometry": &lt;geometry>{'}'} providing the new geometry for each edited container, those diagram containers being identified thanks to their Diagram Element ID.

Syntax: `containers=[{"ID": <containerDEID1>,"geometry": <geometry1>}, ..., {"ID": <containerDEIDN>,"geometry": <geometryN>}]` 

Example: `containers=[{"ID": 9,"geometry": { "rings": [ [ [ 1034515.52888551354, 1871859.37343519926 ], [ 1034515.52888551354, 1871863.10505503416 ], [ 1034521.71784951165, 1871863.10505503416 ], [ 1034521.71784951165, 1871859.37343519926 ], [ 1034515.52888551354, 1871859.37343519926 ] ] ] } }]` 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`edges` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

An array of couples {'{'}"ID": &lt;edgeDEID>,"geometry": &lt;geometry>{'}'} providing the new geometry for each edited edge, those diagram edges being identified thanks to their Diagram Element ID.

Syntax: `edges=[{"ID": <edgeDEID1>,"geometry": <geometry1>}, ..., {"ID": <edgeDEIDN>,"geometry": <geometryN>}]` 

Example: `edges=[{"ID": 14,"geometry": { "hasM": true, "paths": [ [ [ 1034511.2372274287, 1871861.25893011689, null ], [ 1034511.31760784611, 1871808.48803827912, null ] ] ] } }]` 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`f` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_4631762B_50EE_44C6_9461_38BDDF1BB012 />

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_7D12F246_BE1B_414F_8A39_8054E24176EB />

</StyledTableCell>

</StyledTableRow>

</StyledTable>

## Example Usage

Applying and saving a new geometry for the container which diagram element ID is 11 in the diagram DiagramTest3 in version ABV1; that is: 

-   URL: `https://myserver.esri.com/server/rest/services/QuickStart/NetworkDiagramServer/diagrams/DiagramTest3/saveLayout` 
-   Parameters: 

    ```javascript
    gdbVersion=ABV1
    sessionId=
    junctions=
    containers=["ID"=11,"geometry"={"rings": [[[6808810.40423905849,1847930.7971971333],[6808810.40423905849,1847931.79719513655],[6808847.84379673,1847931.79719513655],[6808847.84379673,1847930.7971971333],[6808810.40423905849,1847930.7971971333]]]}}]
    edges=
    f=pjson
    ```

     
-   Sent URL (GET): `https://myserver.esri.com/server/rest/services/QuickStart/NetworkDiagramServer/diagrams/DiagramTest3/saveLayout?gdbVersion=ABV1&sessionId=&junctions=&containers=%5B%22ID%22%3D11%2C%22geometry%22%3D%7B%22rings%22%3A+%5B%5B%5B6808810.40423905849%2C1847930.7971971333%5D%2C%5B6808810.40423905849%2C1847931.79719513655%5D%2C%5B6808847.84379673%2C1847931.79719513655%5D%2C%5B6808847.84379673%2C1847930.7971971333%5D%2C%5B6808810.40423905849%2C1847930.7971971333%5D%5D%5D%7D%7D%5D&edges=&f=pjson` 

: 

## JSON Response Syntax

A JSON object composed of a [Diagram JSON Information](/appendix-diagram-information-object-network-diagram-service) object and a moment: `{"diagramInfo": , "moment": <moment>}` 

<Note type={"note"}>

The moment is only returned for a stored diagram.

</Note>

## JSON Response Example

```json
{
 "diagramInfo": {
  "tag": "",
  "isStored": true,
  "canStore": false,
  "canExtend": true,
  "isSystem": false,
  "creator": "acb7352",
  "creationDate": 1505219137000,
  "lastUpdateBy": "acb7352",
  "lastUpdateDate": 1505219137000,
  "containerMargin": 0.5,
  "junctionCount": 11,
  "edgeCount": 10,
  "containerCount": 1,
  "aggregationCount": 0,
  "isHistorical": false,
  "access": "esriDiagramPublicAccess",
  "diagramExtent": {
   "xmin": 6807591.7656002343,
   "ymin": 1847967.7367558032,
   "xmax": 6808661.8976463079,
   "ymax": 1848650.1848659664,
   "spatialReference": {
    "wkid": 3498,
    "latestWkid": 3498
   }
  },
  "networkExtent": {
   "xmin": 6807591.7656002343,
   "ymin": 1847967.7367558032,
   "xmax": 6808661.8976463079,
   "ymax": 1848650.1848659664,
   "spatialReference": {
    "wkid": 3498,
    "latestWkid": 3498
   }
  },
  "name": "DiagramTest3",
  "id": "{033B675B-0DFF-4E82-85BC-85DD1235D42C}",
  "template": "Basic"
 },
 "moment": 1505221599567
}

```

 
