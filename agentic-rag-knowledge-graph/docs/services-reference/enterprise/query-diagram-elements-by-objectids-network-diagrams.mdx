---
title: "Query Diagram Elements By ObjectIDs"
description: "The queryDiagramElementsByObjectIDs returns the set of diagram features represented in a diagram with the specified ObjectIDs."
slug: "query-diagram-elements-by-objectids-network-diagrams"
url: "/query-diagram-elements-by-objectids-network-diagrams"
guid: "GUID-323F0F4F-F23C-49DD-B14F-CAF38C61B531"
migratedTopicMetadata:
  FTITLE: "Query Diagram Elements By ObjectIDs (Network Diagrams)"
  FDESCRIPTION: ""
  FCHANGES: "missing blank character in JSON codeblockbody in the response syntax section"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "10.8 - *"
  CREATED-ON: "08/10/2020 09:58:49"
  FAUTHOR: "ablin"
  FSTATUS: "Released"
  MODIFIED-ON: "22/01/2021 07:35:59"
  VERSION: "5"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "4"
  ED: "GUID-CBFC91CB-B37E-41A9-8625-D0D6D72AC13F"
  FUSERGROUP: ""
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /<serviceName>/NetworkDiagramServer/diagrams/<diagramName>/queryDiagramElementsByObjectIDs
  urlSegments:
    - name: <root>
      url: /catalog
    - name: /<serviceName>/NetworkDiagramServer/diagrams/<diagramName>/queryDiagramElementsByObjectIDs
  methods: 
    - post
  sslOnly: 'no'
  versionIntroduced: ' 10.6'
---

import GUID_975B7744_9503_41BE_A799_3D09E55A85D5_GUID_61665A7B_93DA_486F_A8E6_9346FC7AF420 from "./snippets/GUID-975B7744-9503-41BE-A799-3D09E55A85D5/_GUID-61665A7B-93DA-486F-A8E6-9346FC7AF420";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_F6FE67FB_9ACA_45E7_831C_DD51A831EAD3 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-F6FE67FB-9ACA-45E7-831C-DD51A831EAD3";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_7AC426AF_5C62_4474_BBE7_6C36CC7DCEB6 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-7AC426AF-5C62-4474-BBE7-6C36CC7DCEB6";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_3EB2FA97_FEE5_4CCA_85DB_1B67B3F50172 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-3EB2FA97-FEE5-4CCA-85DB-1B67B3F50172";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_5BD34E45_603F_4F5B_B77D_236011A78DA4 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-5BD34E45-603F-4F5B-B77D-236011A78DA4";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_ABFDFF0B_C205_42C8_9ABD_73DE1FE97AE0 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-ABFDFF0B-C205-42C8-9ABD-73DE1FE97AE0";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_17DF280A_CE78_4C37_8906_9FA8518D9989 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-17DF280A-CE78-4C37-8906-9FA8518D9989";
import GUID_3EB37995_2FD3_456A_965A_A1935823EF16_GUID_93C8F8A2_C24D_4137_A321_1954A05468DE from "./snippets/GUID-3EB37995-2FD3-456A-965A-A1935823EF16/_GUID-93C8F8A2-C24D-4137-A321-1954A05468DE";
import GUID_3EB37995_2FD3_456A_965A_A1935823EF16_GUID_846C3BC9_8054_4D10_8980_CE245FED8D72 from "./snippets/GUID-3EB37995-2FD3-456A-965A-A1935823EF16/_GUID-846C3BC9-8054-4D10-8980-CE245FED8D72";
import GUID_3EB37995_2FD3_456A_965A_A1935823EF16_GUID_ED939E48_9751_4CFF_8C36_DC8DAA1704AC from "./snippets/GUID-3EB37995-2FD3-456A-965A-A1935823EF16/_GUID-ED939E48-9751-4CFF-8C36-DC8DAA1704AC";
import GUID_30407936_426E_4EA4_81DB_B6CD3CF11661_GUID_726CCD55_2C51_439C_ACE1_5D0D9B7818CE from "./snippets/GUID-30407936-426E-4EA4-81DB-B6CD3CF11661/_GUID-726CCD55-2C51-439C-ACE1-5D0D9B7818CE";
import GUID_30407936_426E_4EA4_81DB_B6CD3CF11661_GUID_CBFDBA54_9EF6_4B16_B52E_14CA1AEBFB2F from "./snippets/GUID-30407936-426E-4EA4-81DB-B6CD3CF11661/_GUID-CBFDBA54-9EF6-4B16-B52E-14CA1AEBFB2F";
import GUID_30407936_426E_4EA4_81DB_B6CD3CF11661_GUID_C335CF0F_2832_4FDE_8765_B65845DEB9AB from "./snippets/GUID-30407936-426E-4EA4-81DB-B6CD3CF11661/_GUID-C335CF0F-2832-4FDE-8765-B65845DEB9AB";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_4631762B_50EE_44C6_9461_38BDDF1BB012 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-4631762B-50EE-44C6-9461-38BDDF1BB012";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_7D12F246_BE1B_414F_8A39_8054E24176EB from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-7D12F246-BE1B-414F-8A39-8054E24176EB";

## Description

The `queryDiagramElementsByObjectIDs` operation returns the set of diagram features represented in a diagram with the specified ObjectIDs. It is performed on a [diagram resource](/diagram-network-diagram-service). The result of this operation is a JSON object composed of three arrays—one for the resulting diagram junctions, another for the resulting diagram edges, and the third one for the diagram containers.

It searches for the diagram junctions, diagram edges, or diagram containers in the diagram with the specified ObjectIDs. Then when specifying diagram edge ObjectIDs, optionally, extend the resulting set of diagram elements to the junctions they are connected to or when specifying diagram container ObjectIDs, optionally, extend the resulting set of diagram elements to the edge, junction, or container diagram elements they contain.

<Note type={"note"}>

<GUID_975B7744_9503_41BE_A799_3D09E55A85D5_GUID_61665A7B_93DA_486F_A8E6_9346FC7AF420 />

</Note>

##  Request parameters 

<StyledTable headers={"Parameter,Details"}>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`gdbVersion` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_F6FE67FB_9ACA_45E7_831C_DD51A831EAD3 />

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_7AC426AF_5C62_4474_BBE7_6C36CC7DCEB6 />

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_3EB2FA97_FEE5_4CCA_85DB_1B67B3F50172 />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`sessionId` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_5BD34E45_603F_4F5B_B77D_236011A78DA4 />

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_ABFDFF0B_C205_42C8_9ABD_73DE1FE97AE0 />

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_17DF280A_CE78_4C37_8906_9FA8518D9989 />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`moment` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_3EB37995_2FD3_456A_965A_A1935823EF16_GUID_93C8F8A2_C24D_4137_A321_1954A05468DE />

<GUID_3EB37995_2FD3_456A_965A_A1935823EF16_GUID_846C3BC9_8054_4D10_8980_CE245FED8D72 />

<GUID_3EB37995_2FD3_456A_965A_A1935823EF16_GUID_ED939E48_9751_4CFF_8C36_DC8DAA1704AC />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`addConnected` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

A boolean statement that determines whether to add the from and to junctions for the specified `edgeObjectIDs`.

- `false`—Doesn't enlarge the returned diagram junctions to those that are from or to junctions of the specified `edgeObjectIDs` (default)
- `true`—Enlarges the returned diagram junctions to those that are from or to junctions of the specified `edgeObjectIDs`

Syntax: `addConnected=<true | false>` 

Example: `addConnected=true` 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`returnGeometry` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

A boolean statement that determines whether to return the geometry for each queried diagram feature.

-   `true`—To return each queried diagram feature with its geometry (default)
-   `false`—To return each queried diagram feature without its geometry

Syntax: `returnGeometry=<true | false>` 

Example: `returnGeometry=true` 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`junctionObjectIDs` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

List of junction ObjectIDs (long) that must be queried

Syntax: `junctionObjectIDs=[<DiagJctOid1>, …, <DiagJctOidN]` 

Example: `junctionObjectIDs=[1,2,3,4,5]` 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`containerObjectIDs` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

List of container ObjectIDs (long) that must be queried

Syntax: `containerObjectIDs=[<DiagConOid1>, …, <DiagConOidN]` 

Example: `containerObjectIDs=[1]` 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`edgeObjectIDs` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

List of edge ObjectIDs (long) that must be queried

Syntax: `edgeObjectIDs=[<DiagEdgOid1>, …, <DiagEdgOidN]` 

Example: `edgeObjectIDs=[1,2,3]` 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`outSR` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_30407936_426E_4EA4_81DB_B6CD3CF11661_GUID_726CCD55_2C51_439C_ACE1_5D0D9B7818CE />

<GUID_30407936_426E_4EA4_81DB_B6CD3CF11661_GUID_CBFDBA54_9EF6_4B16_B52E_14CA1AEBFB2F />

<GUID_30407936_426E_4EA4_81DB_B6CD3CF11661_GUID_C335CF0F_2832_4FDE_8765_B65845DEB9AB />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`f` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_4631762B_50EE_44C6_9461_38BDDF1BB012 />

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_7D12F246_BE1B_414F_8A39_8054E24176EB />

</StyledTableCell>

</StyledTableRow>

</StyledTable>

## Example usage

Query the container in which the diagram ObjectID is 917 in the Basic_RMT003 diagram and all its contents:

-   URL: `https://myserver.esri.com/server/rest/services/Naperville/NetworkDiagramServer/diagrams/Basic_RMT003/queryDiagramElementsByObjectIDs` 
-   Parameters 

    ```javascript
    gdbVersion=
    sessionId=
    moment=
    addContents=true
    addConnected=
    returnGeometry=
    junctionObjectIDs=
    containerObjectIDs=[917]
    edgeObjectIDs=
    outSR=
    f=pjson
    ```

     
-   Sent URL (GET): `https://myserver.esri.com/server/rest/services/Naperville/NetworkDiagramServer/diagrams/Basic_RMT003/queryDiagramElementsByObjectIDs?gdbVersion=&sessionId=&moment=&addContents=true&addConnected=&returnGeometry=&junctionObjectIDs=&containerObjectIDs=%5B917%5D&edgeObjectIDs=&outSR=&f=pjson` 

Query the edge on which the diagram ObjectID is 6563 in the Basic_RMT003 diagram and the junctions it is connected to:

-   URL: `https://myserver.esri.com/server/rest/services/Naperville/NetworkDiagramServer/diagrams/Basic_RMT003/queryDiagramElementsByObjectIDs` 
-   Parameters 

    ```json
    gdbVersion=
    sessionId=
    moment=
    addContents=
    addConnected=true
    returnGeometry=
    junctionObjectIDs=
    containerObjectIDs=
    edgeObjectIDs=[6563]
    outSR=
    f=pjson
    ```

     
-   Sent URL (GET): `https://myserver.esri.com/server/rest/services/Naperville/NetworkDiagramServer/diagrams/Basic_RMT003/queryDiagramElementsByObjectIDs?gdbVersion=&sessionId=&moment=&addContents=&addConnected=true&returnGeometry=&junctionObjectIDs=&containerObjectIDs=&edgeObjectIDs=%5B6563%5D&outSR=&f=pjson` 

## JSON Response syntax

A JSON object composed of three arrays:

-   An array of &lt;diagramJunction> JSON objects
-   An array of &lt;diagramEdge> JSON objects
-   An array of &lt;diagramContainer> JSON objects

```json
{
 "diagramJunctions": [< diagramJunction1 >, ..., < diagramJunctionK >],
 "diagramEdges": [< diagramEdge1 >, ..., < diagramEdgeM >],
 "diagramContainers": [< diagramContainer1 >, ..., < diagramContainerN >]
}

```

 

With the following JSON object syntaxes:

-    &lt;diagramJunction> JSON object syntax

    ```json
    {
     "id": < ID >, //int
     "containerID": < containerID >, //int
     "featureOID": < jctOID >, //int
     "globalID": < diagFeatureGUID >, // string
     "assocSourceID": < assUNSourceID >, //int
     "assocGlobalID": "< assUNfeatureGUID >", // string
     "geometry": {
       "x": < x >, //double
       "y": < y >, //double
       "z": < z >, //double
       "m": < m >, //double
       "spatialReference": < spatialReference >
     },
     "rotation": < rotation > //int
    }

    ```

     
-   &lt;diagramEdge> JSON object syntax

    ```json
    {
     "id": < ID >, // long
     "containerID": < containerID >, // long
     "featureOID": < edgeOID >, // long
     "globalID": < diagFeatureGUID >, // string
     "assocSourceID": < assUNSourceID >, // long
     "assocGlobalID": "< assUNfeatureGUID >", // string
     "geometry": {
      "hasM" : < true | false >,
      "paths" : [[[< x11 >, < y11 >, < z11 >, < m11 >],…,[< x1N >, < y1N >, < z1N >, < m1N >]],
                 ,…,[[< xk1 >, < yk1 >, < zk1 >, < mk1 >],…,[< xkM >, < ykM >, < zkM >, < mkM >]]],
       "spatialReference": < spatialReference >
     },
     "fromID": < FromID >, // long
     "toID": < ToID >, // long
    }

    ```

     
-   &lt;diagramContainer> JSON object syntax

    ```json
    {
     "id": < ID >, //int
     "containerID": < containerID >, // long
     "featureOID": < containerOID >, // long
     "globalID": < diagFeatureGUID >, // string
     "assocSourceID": < assUNSourceID >, // long
     "assocGlobalID": "< assUNfeatureGUID >", // string
     "geometry": {
       "hasZ" : true | false,
       "hasM" : true | false,
       "rings" : [[[< x11 >, < y11 >, < z11 >, < m11 >],...,[< x1N >, < y1N >, < z1N >, < m1N >]],
                 ,...,[[< xk1 >, < yk1 >, < zk1 >, < mk1 >],...,[< xkM >, < ykM >, < zkM >, < mkM >]]],
       "spatialReference": < spatialReference >
      }
    }
    

    ```

     

## JSON Response example

Sample response when returnGeometry is True (default)

```json
{
 "diagramJunctions": [
  {
   "id": 34,
   "containerID": 33,
   "featureOID": 5730,
   "globalID": "{1D295458-E0C9-4DA9-BC48-C816D1919FCC}",
   "assocSourceID": 6,
   "assocGlobalID": "{16F7006D-A5C2-4224-BD48-82729CB9D2A4}",
   "rotation": 0,
   "geometry": {
    "x": 1027036.95854084566,
    "y": 1864282.70584578067,
    "m": null,
    "spatialReference": {
     "wkid": 102671,
     "latestWkid": 3435,
     "vcsWkid": 105703,
     "latestVcsWkid": 6360
    }
   }
  },
  {
   "id": 35,
   "containerID": 33,
   "featureOID": 5731,
   "globalID": "{32830EEF-492E-4E21-9493-B619E234841C}",
   "assocSourceID": 6,
   "assocGlobalID": "{2C80026C-3D06-478C-91C5-B7966EAE23C3}",
   "rotation": 0,
   "geometry": {
    "x": 1027036.81319992989,
    "y": 1864282.90827319771,
    "m": null,
    "spatialReference": {
     "wkid": 102671,
     "latestWkid": 3435,
     "vcsWkid": 105703,
     "latestVcsWkid": 6360
    }
   }
  }
 ],
 "diagramEdges": [
  {
   "id": 4568,
   "containerID": 0,
   "featureOID": 6563,
   "globalID": "{5C98D3A4-0E43-4324-8B87-A17DB78290FC}",
   "assocSourceID": 1,
   "assocGlobalID": "{FCC2BE31-C3DE-4C5D-9E48-1CA36EBA3961}",
   "fromID": 35,
   "toID": 34,
   "geometry": {
    "hasM": true,
    "paths": [
     [
      [
       1027036.81319992989,
       1864282.90827319771,
       null
      ],
      [
       1027036.95854084566,
       1864282.70584578067,
       null
      ]
     ]
    ],
    "spatialReference": {
     "wkid": 102671,
     "latestWkid": 3435,
     "vcsWkid": 105703,
     "latestVcsWkid": 6360
    }
   }
  }
 ],
 "diagramContainers": [
  
 ]
}

```

 

Sample response when returnGeometry is False

```json
{
 "diagramJunctions": [
  {
   "id": 34,
   "containerID": 33,
   "featureOID": 5730,
   "globalID": "{1D295458-E0C9-4DA9-BC48-C816D1919FCC}",
   "assocSourceID": 6,
   "assocGlobalID": "{16F7006D-A5C2-4224-BD48-82729CB9D2A4}",
   "rotation": 0
  },
  {
   "id": 35,
   "containerID": 33,
   "featureOID": 5731,
   "globalID": "{32830EEF-492E-4E21-9493-B619E234841C}",
   "assocSourceID": 6,
   "assocGlobalID": "{2C80026C-3D06-478C-91C5-B7966EAE23C3}",
   "rotation": 0
  }
 ],
 "diagramEdges": [
  {
   "id": 4568,
   "containerID": 0,
   "featureOID": 6563,
   "globalID": "{5C98D3A4-0E43-4324-8B87-A17DB78290FC}",
   "assocSourceID": 1,
   "assocGlobalID": "{FCC2BE31-C3DE-4C5D-9E48-1CA36EBA3961}",
   "fromID": 35,
   "toID": 34
  }
 ],
 "diagramContainers": [
  
 ]
}

```

 
