---
title: "Diagram"
description: "The Diagram resource represents a diagram under a Network Diagram service."
slug: "diagram-network-diagram-service"
url: "/diagram-network-diagram-service"
guid: "GUID-3EB37995-2FD3-456A-965A-A1935823EF16"
migratedTopicMetadata:
  FTITLE: "Diagram (Network Diagram service)"
  FDESCRIPTION: ""
  FCHANGES: "New operations introduced with 11.3
"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "11.3"
  CREATED-ON: "04/12/2023 07:55:35"
  FAUTHOR: "ablin"
  FSTATUS: "Draft"
  MODIFIED-ON: "19/12/2023 09:49:47"
  VERSION: "6"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "4"
  ED: "GUID-7B6F2E98-2CD4-4BBA-849E-EC42D4E5B752"
  FUSERGROUP: ""
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /<serviceName>/NetworkDiagramServer/diagrams/<diagramName>
  urlSegments:
    - name: <root>
      url: /catalog
    - name: /<serviceName>/NetworkDiagramServer/diagrams/<diagramName>
  methods: 
    - post
  sslOnly: 'no'
  versionIntroduced: ' 10.6'
---

import GUID_975B7744_9503_41BE_A799_3D09E55A85D5_GUID_9C8453BB_A7AE_4970_B533_B645F1FD919C from "./snippets/GUID-975B7744-9503-41BE-A799-3D09E55A85D5/_GUID-9C8453BB-A7AE-4970-B533-B645F1FD919C";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_F6FE67FB_9ACA_45E7_831C_DD51A831EAD3 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-F6FE67FB-9ACA-45E7-831C-DD51A831EAD3";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_7AC426AF_5C62_4474_BBE7_6C36CC7DCEB6 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-7AC426AF-5C62-4474-BBE7-6C36CC7DCEB6";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_3EB2FA97_FEE5_4CCA_85DB_1B67B3F50172 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-3EB2FA97-FEE5-4CCA-85DB-1B67B3F50172";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_5BD34E45_603F_4F5B_B77D_236011A78DA4 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-5BD34E45-603F-4F5B-B77D-236011A78DA4";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_ABFDFF0B_C205_42C8_9ABD_73DE1FE97AE0 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-ABFDFF0B-C205-42C8-9ABD-73DE1FE97AE0";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_17DF280A_CE78_4C37_8906_9FA8518D9989 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-17DF280A-CE78-4C37-8906-9FA8518D9989";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_4631762B_50EE_44C6_9461_38BDDF1BB012 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-4631762B-50EE-44C6-9461-38BDDF1BB012";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_7D12F246_BE1B_414F_8A39_8054E24176EB from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-7D12F246-BE1B-414F-8A39-8054E24176EB";

## Description

The Diagram resource represents a diagram under a Network Diagram service. It is returned as a [JSON Diagram Information object](/appendix-diagram-information-object-network-diagram-service).

It supports three child resources:

-   [Diagram Map](/diagram-map-network-diagram-service)—Mimics a map service resource for the network diagram.
-   [Dynamic Layers](/dynamic-layers-network-diagram-service)—Describes the sublayers under the diagram layer.
-   [Layer Definitions](/layer-definitions-network-diagram-service)—Details the layer and labeling properties that define each sublayer under the diagram layer.

It also supports a large set of operations:

-   [overwriteFromFeatures](/overwrite-from-features-network-diagrams)—Overwrites the diagram content from a set of network element Global IDs.
-   [appendFeatures](/append-features-network-diagram-service)—Appends a set of network elements to the diagram. 
-   [update](/update-network-diagrams)—Updates the diagram content; that is, it reflects any changes that may have impacted the network elements that have been used to build the diagram.
-   [extend](/extend-network-diagram-service)—Extends the diagram content one feature level by connectivity, traversability, containment, or attachment.
-   [store](/store-network-diagrams)—Stores the temporary network diagram resource in the database.
-   [findNetworkFeatures](/find-network-features-network-diagram-service)—Searches for the network elements associated with the set of diagram features referenced in the diagram.
-   [findDiagramFeatures](/find-diagram-features-network-diagam-service)—Searches for the diagram features referenced in the diagram that are associated with a set of network elements or a set of diagram features represented in another diagram.
-   [getAggregations](/get-aggregations-network-diagram-service)—Returns the list of the diagram aggregations represented in the diagram.
-   [saveLayout](/save-layout-network-diagrams)—Saves new geometries that may have been computed for a set of diagram features represented in the diagram.
-   [applyLayout](/apply-layout-network-diagram-service)—Applies a diagram layout algorithm to the diagram.
-   [applyTemplateLayouts](/apply-template-layouts-network-diagram-service)—Applies the list of the layout algorithms configured on the template.
-   [manageFlag](/manage-flag-network-diagram-service)—Adds or removes a flag on a particular diagram feature.
-   [clearFlags](/clear-flags-network-diagram-service)—Clears all the flags in the diagram.
-   [getFlags](/get-flags-network-diagram-service)—Retrieves all the flags in the diagram.
-   [queryAttributesBySource](/query-attributes-by-source)—Retrieves the value of the attributes you want from the specified network source class or network source table for each network feature or network object represented in the diagram.
-   [queryDiagramContent](/query-diagram-content)—Returns the diagram content in a simple format that reflects basic connectivity. It can also return extra information such as diagram feature geometry, utility network elements attributes, aggregated elements, and diagram properties.
-   [queryDiagramElementsByExtent](/query-diagram-elements-by-extent-network-diagrams)—Retrieves the set of diagram features represented in the diagram that intersect a specified envelope.
-   [queryDiagramElementsByObjectIDs](/query-diagram-elements-by-objectids-network-diagrams)—Retrieves the set of diagram features represented in the diagram with the specified ObjectIDs.
-   [queryFeatureAttributes](/query-feature-attributes-network-diagram-service)—Retrieves the attribute values you want for the network features or network objects represented in the diagram whether they are aggregated.
-   [setDiagramElementInfo](/set-diagram-element-info-network-diagram-service)——Sets Info field values for the specified diagram features represented in the diagram.
-   [getDiagramElementInfo](/get-diagram-element-info-network-diagram-service)——Returns the Info field values for the specified diagram elements in the diagram.
-   [clearDiagramElementInfo](/clear-diagram-element-info-network-diagram-service)—Clears the Info field values for all diagram elements in the diagram.

![Diagram REST endpoint](./images/GUID-D1840657-E018-4A8C-9AF0-A8613CB883A1-web.png)

<Note type={"note"}>

<GUID_975B7744_9503_41BE_A799_3D09E55A85D5_GUID_9C8453BB_A7AE_4970_B533_B645F1FD919C />

</Note>

##  Request parameters 

<StyledTable headers={"Parameter,Details"}>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`gdbVersion` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_F6FE67FB_9ACA_45E7_831C_DD51A831EAD3 />

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_7AC426AF_5C62_4474_BBE7_6C36CC7DCEB6 />

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_3EB2FA97_FEE5_4CCA_85DB_1B67B3F50172 />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`sessionId` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_5BD34E45_603F_4F5B_B77D_236011A78DA4 />

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_ABFDFF0B_C205_42C8_9ABD_73DE1FE97AE0 />

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_17DF280A_CE78_4C37_8906_9FA8518D9989 />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`moment` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The session moment.

Syntax: `moment=<moment>` 

Example: `moment=1490867969324` 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`f` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_4631762B_50EE_44C6_9461_38BDDF1BB012 />

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_7D12F246_BE1B_414F_8A39_8054E24176EB />

</StyledTableCell>

</StyledTableRow>

</StyledTable>

## Example usage

Accessing the DiagramTest1 REST endpoint in Default:

-   URL: `https://myserver.esri.com/server/rest/services/Naperville/NetworkDiagramServer/diagrams/DiagramTest1` 
-   Parameters: `f=pjson` 
-   Sent URL (GET): `https://myserver.esri.com/server/rest/services/Naperville/NetworkDiagramServer/diagrams/DiagramTest1?f=pjson` 

Accessing the DiagramTest1 REST endpoint in a specific version named 'ABV1':

-   URL: `https://myserver.esri.com/server/rest/services/Naperville/NetworkDiagramServer/diagrams/DiagramTest1` 
-   Parameters: 

    ```javascript
    gdbversion=ABV1
    f=pjson
    ```

     
-   Sent URL (GET): `https://myserver.esri.com/server/rest/services/Naperville/NetworkDiagramServer/diagrams/DiagramTest1?gdbversion=ABV1&f=pjson` 

## JSON Response syntax

A [JSON Diagram Information](/appendix-diagram-information-object-network-diagram-service) object.

## JSON Response example

```javascript
{
 "tag": "#ElectricDistribution#RMT001#Medium Voltage Radial",
 "isStored": true,
 "isSystem": true,
 "creator": "acb7352",
 "creationDate": 1503062040000,
 "lastUpdateBy": "acb7352",
 "lastUpdateDate": 1503062040000,
 "containerMargin": 0.5,
 "junctionCount": 5701,
 "edgeCount": 6264,
 "containerCount": 668,
 "aggregationCount": 0,
 "access": "esriDiagramPublicAccess",
 "diagramExtent": {
  "xmin": 1027304.9786740914,
  "ymin": 1862504.1933266893,
  "xmax": 1036507.4494423419,
  "ymax": 1869488.4421534389,
  "spatialReference": {
   "wkid": 102671,
   "latestWkid": 3435
  }
 },
 "networkExtent": {
  "xmin": 1027304.9786740914,
  "ymin": 1862504.1933266893,
  "xmax": 1036507.4494423419,
  "ymax": 1869488.4421534389,
  "spatialReference": {
   "wkid": 102671,
   "latestWkid": 3435
  }
 },
 "name": "DiagramTest1",
 "id": "{6F1E9192-A2C4-401D-B044-C02BBC99BE3A}",
 "template": "Basic"
}

```

 
