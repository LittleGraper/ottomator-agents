---
title: "Generate Orthomosaic"
description: "API reference for the Generate Orthomosaic service tool available in ArcGIS Enterprise."
slug: "generate-orthomosaic"
url: "/generate-orthomosaic"
guid: "GUID-BE811204-5B71-4CE7-8262-6949CAAABD1F"
migratedTopicMetadata:
  FTITLE: "Generate Orthomosaic"
  FDESCRIPTION: ""
  FCHANGES: "Removing related resources"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "10.9 - *"
  CREATED-ON: "24/08/2022 17:08:42"
  FAUTHOR: "tohara"
  FSTATUS: "Released"
  MODIFIED-ON: "20/09/2022 11:07:06"
  VERSION: "5"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "2"
  ED: "GUID-174D7457-623D-4B4E-9307-D5E61320E0B8"
  FUSERGROUP: "VUSERGROUPARCGISONLINEDOC"
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /System/OrthomappingTools/GPServer/GenerateOrthomosaic
  urlSegments:
    - name: <root>
      url: /catalog
    - name: /System/OrthomappingTools/GPServer/GenerateOrthomosaic
  methods: []
  sslOnly: 'no'
  versionIntroduced: 10.6.1
---

import GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_5E7C5404_14B0_4ECA_AC2E_E9BC34E83723 from "./snippets/GUID-187EFF3C-6544-4421-8D1E-9DFCF76354CD/_GUID-5E7C5404-14B0-4ECA-AC2E-E9BC34E83723";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_9B5D5783_E386_45F7_8EA8_88843A1BB484 from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_GUID-9B5D5783-E386-45F7-8EA8-88843A1BB484";
import GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_EB4A1F30_5539_4BD1_AB9D_2D4EA4603F0E from "./snippets/GUID-187EFF3C-6544-4421-8D1E-9DFCF76354CD/_GUID-EB4A1F30-5539-4BD1-AB9D-2D4EA4603F0E";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_1702083F_151C_4A0C_AF36_0D0DD9E2563A from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_GUID-1702083F-151C-4A0C-AF36-0D0DD9E2563A";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_4B398B66_01FD_40FB_9AEE_30371F0A8CD8 from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_GUID-4B398B66-01FD-40FB-9AEE-30371F0A8CD8";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_ED11CCC7_40D3_4ADD_A679_A3F6964834ED from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_GUID-ED11CCC7-40D3-4ADD-A679-A3F6964834ED";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_50D345C8_14F8_4A4A_AB1E_A6BBD19C49EF from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_GUID-50D345C8-14F8-4A4A-AB1E-A6BBD19C49EF";

## Description

![Generate Orthomosaic diagram](./images/GUID-47138E9E-F4CE-454D-93A3-B81D4F9F6E6F-web.png)

The `GenerateOrthomosaic`  operation is a service tool that's used to generate a single orthorectified, mosaicked image from an image collection after the block adjustment.

<Note type={"note"}>

As of ArcGIS 10.5, you must license your ArcGIS Server as an ArcGIS Image Server to use this resource.

</Note>

##  Request parameters

<StyledTable headers={"Parameter,Details"}>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`imageCollection` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The image collection (mosaic dataset) name or URL. The service must exist before calling the `GenerateOrthomosaic`  service.

<GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_5E7C5404_14B0_4ECA_AC2E_E9BC34E83723 />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`outputOrthoImage` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

This is the output mosaicked orthoimage converted from the image collection after the block adjustment. 

Syntax: A JSON object describes the output image collection name or URL.

```javascript
{"serviceProperties": {"name": "<service name>"}}
{"itemId": "<portal item id>"}
{"url": "<image service url>"}
{"uri": "<cloud raster uri or shared data path>"}

```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`regenSeamlines` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Specifies whether seamlines are applied before the orthomosaic image generation. The seamlines are regenerated if this flag is turned on. You can set the seamline options through the `context`  parameter. If the seamline generation options are not set, the default is used.

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`recomputeColorCorrection` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Specifies whether color correction settings are applied to the output orthoimage. Color correction is recomputed if this option is turned on. You can configure the compute color correction settings through the `context`  parameter. If there is no color collection setting, the default is used.

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`context` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Contains additional environment settings that affect output image. The following are the supported environment settings for this parameter:

-   `parallelProcessingFactor` : The specified number or percentage of processes will be used for the analysis. The default value is 50%.
-   `orthoMosaicAsOvr` : Determines whether to apply the generated orthomosaic image as overview of input image collection. The default value is `False` .
-   `clippingGeometry` : Specifies the `extent`  or `clippinggeometry`  parameter for the [**Clip**](/raster-function-objects) raster function. It is used for setting the extent of the output orthomosaic image.The default value is empty.
-   `cellSize` : The output raster will have the resolution specified by cell size. The `cellSize`  is specified using the `MAXOF` , `MINOF` , or number. The default value is `MAXOF` .
-   `resamplingMethod` : Choose which resampling method to use when creating the raster dataset for download. Available resampling types include: `NEARESTNEIGHBOR` , `BILINEAR` , `CUBIC` , `MAJORITY` , `BILINEAR_PLUS` , `BILINEAR_GAUSSBLUR` , `BILINEAR_GAUSSBLUR_PLUS` , `AVERAGE` , `MINIMUM` , `MAXIMUM` , `VECTOR_AVERAGE` . The default value is `NEARESTNEIGHBOR` .
-   `outSR` : The output raster will be projected into the output spatial reference.
-   `seamlinesMethod` : Specifies the computation method for running the **Build Seamlines** tool inside the task. The default value is `DISPARITY` .
-   `minRegionSize` : Any seamline polygons smaller than this specified threshold will be removed in the seamline result.
-   `pixelSize` : Generates seamlines for raster datasets that fall within the specified spatial resolution size.
-   `blendType` : Determine how to blend one image into another (`Both` , `Inside` , or `Outside` ) over the seamlines. `Inside`  blends pixels inside the seamline, while `Outside`  blends outside the seamline. `Both`  will blend pixels on either side of the seamline.
-   `blendWidth` : Specifies how many pixels will be blended relative to the seamline. Blending (feathering) occurs along a seamline between pixels of overlapping images.
-   `blendUnit` : Specifies the unit of measurement for `blendWidth` . `Pixels`  measures using the number of pixels, and `Ground`  measures using the same units as the image collection.
-   `requestSizeType` : Sets the units for `requestSize` . `Pixels`  modifies `requestSize`  based on the pixel size. This resamples the closest image based on the raster pixel size. `Pixel scaling factor`  modifiers `requestSize`  by specifying a scaling factor. This operation resamples the closest image by multiplying the raster pixel size with the pixel size factor.
-   `requestSize` : Specifies the number of columns and rows for resampling. Though the maximum value is 5,000, this value can increase or decreased based on the complexity of your raster data. A greater image resolution provides more detail in the raster dataset but increases the processing time. 
-   `minThinnessRatio` : Defines how thin a polygon can be before its considered a sliver. This is based on a scale from 0 to 1.0, where a value of 0.0 represents a polygon that's almost a straight line, and a value of 1.0 represents a polygon that's a circle.
-   `maxSliverSize` : Defines how large a Sliver can be before its considered a polygon. This uses the same scale as `minThinnessRatio` .
-   `skipX`  and `skipY` : Specifies the X skip factor and the Y skip factor for running the **Build Pyramids And Statistics** tool inside the task as part of color correction workflow. The default values are both 1.
-   `overwriteStats` : Specifies the **Skip Existing** parameter for running the **Build Pyramids And Statistics** tool inside the task as part of color correction workflow. The default value is`False` , and statistics will not be recalculated if they exist.
-   `colorCorrectionMethod` : Specifies the balance method for running the **Color Balance Mosaic Dataset** tool inside the task. The default value is `DODGING` .
-   `dodgingSurface` : Specifies the color surface type for running the **Color Balance Mosaic Dataset** tool inside the task. The default value is `SINGLE_COLOR` .
-   `targetImage` : Specifies the target raster for running the `Color Balance Mosaic Dataset`  tool inside the task. The default value is empty.
-   `applyColorCorrection` : Indicates whether or not to apply color correction to the image collection. The default value is `True` .

```javascript
{
  "outSR": {"wkid": 3516}, 
  "extent": {
    "xmin": 470614.263139,
    "ymin": 8872849.409968,
    "xmax": 532307.351827,
    "ymax": 8920205.372412,
    "spatialReference": {
      "wkid": 32628
    }
  },
  "clippingGeometry": {},
  "orthoMosaicAsOvr": False,
  "seamlinesMethod": "VORONOI",
  "minRegionSize": 100,
  "pixelSize": "",
  "blendType": "Both",
  "blendWidth": None,
  "blendUnit": "Pixels",
  "requestSize": 1000,
  "minThinnessRatio": 0.05,
  "maxSliverSize": 20,
  "colorCorrectionMethod": "DODGING",
  "dodgingSurface": "Single_Color",
  "referenceImg": {"url": https://..."},
  "skipRows": 10,
  "skipCols": 10,
  "reCalculateSats": "OVERWRITE"
}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`f` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_9B5D5783_E386_45F7_8EA8_88843A1BB484 />

<GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_EB4A1F30_5539_4BD1_AB9D_2D4EA4603F0E />

</StyledTableCell>

</StyledTableRow>

</StyledTable>

## Response

<GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_1702083F_151C_4A0C_AF36_0D0DD9E2563A />

<GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_4B398B66_01FD_40FB_9AEE_30371F0A8CD8 />

<GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_ED11CCC7_40D3_4ADD_A679_A3F6964834ED />

```javascript
https://<orthomapping tools url>/GenerateOrthomosaic/jobs/<jobId>
```

 

<GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_50D345C8_14F8_4A4A_AB1E_A6BBD19C49EF />

```javascript
https://<orthomapping tools url>/GenerateOrthomosaic/job/<jobId>/results/result?token=<your token>&f=json
```

 

The result will be the image service URL and item ID of the orthomosaicked image.

## Example usage

Below is a sample URL for `GenerateOrthomosaic` .

```javascript
https://services.myserver.com/arcgis/rest/services/System/OrthomappingTools/GPServer/GenerateOrthomosaic/submitJob
```

 

The result will be the image service URL and itemId of the orthomosaicked image.

## JSON Request example

```other
imageCollection={"itemId": "1780d648db3545bba8661ad98df824a4"}&
outputOrthoImage={"serviceProperties":{"name": "dronedtm"}}&
regenSeamline=true&
recomputeColorCorrection=true&
context={"outSR": {"wkid": 3516}}

```

 
