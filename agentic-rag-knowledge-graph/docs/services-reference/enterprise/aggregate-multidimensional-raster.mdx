---
title: "Aggregate Multidimensional Raster"
description: "API reference for the Aggregate Multidimensional Raster service available in ArcGIS Enterprise."
slug: "aggregate-multidimensional-raster"
url: "/aggregate-multidimensional-raster"
guid: "GUID-E663C01A-854E-447E-9201-1468B29101AD"
migratedTopicMetadata:
  FTITLE: "Aggregate Multidimensional Raster"
  FDESCRIPTION: ""
  FCHANGES: "Removing related resources re: https://devtopia.esri.com/WebGIS/arcgis-rest-api-documentation/issues/191"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "10.9.1 - *"
  CREATED-ON: "07/09/2022 14:22:43"
  FAUTHOR: "tohara"
  FSTATUS: "Released"
  MODIFIED-ON: "20/09/2022 11:06:54"
  VERSION: "6"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "2"
  ED: "GUID-C8C9EA2B-0985-4D85-908B-EB6511D896A2"
  FUSERGROUP: ""
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /AggregateMultidimensionalRaster
  urlSegments:
    - name: <rasteranalysistools-url>
      url: /raster-analysis-tasks-overview
    - name: /AggregateMultidimensionalRaster
  methods: []
  sslOnly: 'no'
  versionIntroduced: '10.8'
---

import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_2DDA48A24C404781BB03BF05B81B3C19 from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_LI_2DDA48A24C404781BB03BF05B81B3C19";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_1744B5CA044F44D8ABF2E27EF9BC9A27 from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_LI_1744B5CA044F44D8ABF2E27EF9BC9A27";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_AD9814DB26DA439EA899971516D5E44D from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_LI_AD9814DB26DA439EA899971516D5E44D";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_30623A2523584FB586A882C09EA092E6 from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_LI_30623A2523584FB586A882C09EA092E6";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_48BF5CD827AF48C4A76D93B355D67718 from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_LI_48BF5CD827AF48C4A76D93B355D67718";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_7566284934CF4B3BAFE1FBAA218408CB from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_LI_7566284934CF4B3BAFE1FBAA218408CB";
import GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_56FBFBA3_C66E_404D_8D62_38D68537B266 from "./snippets/GUID-187EFF3C-6544-4421-8D1E-9DFCF76354CD/_GUID-56FBFBA3-C66E-404D-8D62-38D68537B266";
import GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_EB4A1F30_5539_4BD1_AB9D_2D4EA4603F0E from "./snippets/GUID-187EFF3C-6544-4421-8D1E-9DFCF76354CD/_GUID-EB4A1F30-5539-4BD1-AB9D-2D4EA4603F0E";
import GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_C5A064C3_43B4_400B_AA66_7C41F2A060FB from "./snippets/GUID-187EFF3C-6544-4421-8D1E-9DFCF76354CD/_GUID-C5A064C3-43B4-400B-AA66-7C41F2A060FB";
import GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_44A86E3D_176E_4BD4_A2E5_C112ED929DE9 from "./snippets/GUID-187EFF3C-6544-4421-8D1E-9DFCF76354CD/_GUID-44A86E3D-176E-4BD4-A2E5-C112ED929DE9";
import GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_ED11CCC7_40D3_4ADD_A679_A3F6964834ED from "./snippets/GUID-187EFF3C-6544-4421-8D1E-9DFCF76354CD/_GUID-ED11CCC7-40D3-4ADD-A679-A3F6964834ED";

## Description

![Aggregate Multidimensional Raster diagram](./images/GUID-2C2320A3-EC6E-4FFC-B59B-9551BB02C545-web.png)

The `AggregateMultidimensionalRaster`  task can be used to generate a `.CRF`  multidimensional raster dataset and image service by aggregating existing multidimensional dataset variables along a dimension.

<Note type={"note"}>

As of 10.8, you must license your ArcGIS Server as an ArcGIS Image Server to use this resource.

</Note>

##  Request parameters

<StyledTable headers={"Parameter,Details"}>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`inputMultidimensionalRaster` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The Portal Item ID, Image Service URL, cloud multidimensional raster dataset, or shared multidimensional raster dataset.

Syntax: A JSON object describes the input multidimensional raster. At least one type of input must be provided in the JSON object. If multiple inputs are given, the `itemid`  takes priority.

```javascript
inputMultidimensionalRaster={"itemId": <portal item id>}
inputMultidimensionalRaster={“url”: <image service url>}
inputMultidimensionalRaster={“uri”: <cloud raster uri or shared data path>}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`outputName` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Output hosted image service properties. If the hosted image service is already created, the portal item ID or service URL can be given to the service tool. The output path of the multidimensional raster dataset generated in the raster store will be used to update the existing service definition. The service tool can also generate a new hosted image service with the given service properties.

The output hosted image service is stored in a raster store and shared on either the raster analysis image server or image hosting image server depending on the enterprise configuration.

Syntax: A JSON object describes the output multidimensional raster. At least one type of input must be provided in the JSON object. If multiple inputs are given, the `itemId`  takes priority.

<Note type={"note"}>

Set `image,metadata`  as image service capabilities to ensure the output image service can be recognized as multidimensional by other raster analysis tools.

</Note>

Example:

```javascript
outputName={"itemId": <portal item id>}
outputName={“url”: <image service url>}
outputName={“uri”: <cloud raster uri or shared data path>}
or
outputName={"serviceProperties": {“name”: ”aggregated_watertemp_salinity”, ”capabilities”: ”image, metadata”}}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`dimension` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The aggregation dimension. This is the dimension along which the variables will be aggregated.

Syntax: A string representing the dimension name.

Example:

```javascript
dimension=StdTime
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`aggregationMethod` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Specifies the mathematical method that will be used to combine the aggregated slices in an interval.

-   `MEAN` —Calculates the mean of a pixel's values across all slices in the interval. This is the default.
-   `MAXIMUM` —Calculates the maximum value of a pixel across all slices in the interval.
-   `MAJORITY` —Calculates the value that occurred most frequently for a pixel across all slices in the interval.
-   `MINIMUM` —Calculates the minimum value of a pixel across all slices in the interval.
-   `MINORITY` —Calculates the value that occurred least frequently for a pixel across all slices in the interval.
-   `MEDIAN` —Calculates the median value of a pixel across all slices in the interval.
-   `PERCENTILE` —Calculates the percentile of values for a pixel across all slices in the interval. The 90th percentile is calculated by default. You can specify other values (from 0 to 100) using the `percentileValue`  parameter. 
-   `RANGE` —Calculates the range of values for a pixel across all slices in the interval.
-   `STD` —Calculates the standard deviation of a pixel's values across all slices in the interval.
-   `SUM` —Calculates the sum of a pixel's values across all slices in the interval.
-   `VARIETY` —Calculates the number of unique values of a pixel across all slices in the interval.
-   `CUSTOM` —Calculates the value of a pixel based on a custom raster function.

When the `aggregationMethod`  is set to `CUSTOM` , the `aggregationFunction`  parameter must be specified.

Syntax: A string representing the aggregation method.

Example:

```javascript
aggregationMethod=MEAN
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`variables` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The variable or variables that will be aggregated along the given dimension. If no variable is specified, all variables with the selected dimension will be aggregated.

For example, to aggregate your daily temperature data into monthly average values, specify temperature as the variable to be aggregated. If you do not specify any variables and you have both daily temperature and daily precipitation variables, both variables will be aggregated into monthly averages and the output multidimensional raster will include both variables.

Syntax: A string containing the variables. Multiple variables are separated by commas.

Example:

```javascript
variables=["cceiling"]

Or

variables=["cceiling","ccover"]
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`aggregationDefinition` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Specifies the dimension interval for which the data will be aggregated.

-   `ALL` —The data values will be aggregated across all slices. This is the default.
-   `INTERVAL_KEYWORD` —The variable data will be aggregated using a commonly known interval.
-   `INTERVAL_VALUE` —The variable data will be aggregated using a user-specified interval and unit.
-   `INTERVAL_RANGES` —The variable data will be aggregated between specified pairs of values or dates.

Syntax: A string of one of the keywords.

Example:

```javascript
aggregationDefinition=ALL
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`intervalKeyword` 

(Optional; required when `aggregateDefinition`  is `INTERVAL_KEYWORD` )

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Specifies the keyword interval that will be used when aggregating along the dimension. This parameter is required when the `aggregationDefinition`  parameter is set to `INTERVAL_KEYWORD` , and the aggregation must be across time.

-   `HOURLY` —The data values will be aggregated into hourly time steps.
-   `DAILY` —The data values will be aggregated into daily time steps, and the result will include every day in the time series.
-   `WEEKLY` —The data values will be aggregated into weekly time steps.
-   `MONTHLY` —The data values will be aggregated into monthly time steps.
-   `QUARTERLY` —The data values will be aggregated into quarterly time steps.
-   `YEARLY` —The data values will be aggregated into yearly time steps.
-   `RECURRING_DAILY` —The data values will be aggregated into daily time steps, and the result includes one aggregated value per day. The output will include, at most, 366 daily time slices.
-   `RECURRING_WEEKLY` —The data values will be aggregated into weekly time steps, and the result will include one aggregated value per week. The output will include, at most, 53 weekly time slices.
-   `RECURRING_MONTHLY` —The data values will be aggregated into weekly time steps, and the result will include one aggregated value per month. The output will include, at most, 12 monthly time slices.
-   `RECURRING_QUARTERLY` —The data values will be aggregated into weekly time steps, and the result will include one aggregated value per quarter. The output will include, at most, four quarterly time slices.
-   `DEKADLY` —Divides each month into three periods of 10 days each (last period may have more than or less than 10 days) and each month will output three slices.
-   `PENTADLY` —Divides each month into six periods of 5 days each (last period may have more than or less than 5 days) and each month will output six slices.

Syntax: A string of one of the keywords.

Example:

```javascript
intervalKeyword=HOURLY
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`intervalValue` 

(Optional; required when `aggregateDefinition`  is `INTERVAL_VALUE` )

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The size of the interval that will be used for the aggregation. For example, to aggregate 30 years of monthly temperature data into 5-year increments, type `5`  as the `intervalValue` , and specify `intervalUnit`  as `YEARS` .

Syntax: A string representing the internal value.

Example:

```javascript
intervalValue=5
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`intervalUnit` 

(Optional; required when `aggregateDefinition`  is `INTERVAL_VALUE` )

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The unit that will be used for the interval value. This parameter is required when the `dimension`  parameter is set to a time field. If you are aggregating over anything other than time, leave this parameter empty and the unit for the interval value will match the variable unit of the input multidimensional raster data.

-   `HOURS` —The data values will be aggregated into hourly time slices at the interval provided.
-   `DAYS` —The data values will be aggregated into daily time slices at the interval provided.
-   `WEEKS` —The data values will be aggregated into weekly time slices at the interval provided.
-   `MONTHS` —The data values will be aggregated into monthly time slices at the interval provided.
-   `YEARS` —The data values will be aggregated into yearly time slices at the interval provided.

Syntax: A string of one of the keywords.

Example:

```javascript
intervalUnit=HOURS
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`intervalRanges` 

(Optional; required when `aggregateDefinition`  is `INTERVAL_VALUE` )

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Interval ranges will be used to aggregate groups of values. The string consists of pairs of minimum and maximum range values.

<Note type={"note"}>

The time dimension values must be in standard date format.

</Note>

Syntax: Two types of syntax are supported:

-   String representing one or multiple pairs of minimum and maximum range values; ranges are separated by semicolon.
-   List of dictionaries.

Example of one time interval range:

```javascript
intervalRanges=2013-03-15T00:00:00 2013-03-15:09:00:00

Or

intervalRanges=[{"minValue":"2013-03-15T00:00:00","maxValue":"2013-03-15T09:00:00"}]

```

 

Example of multiple time interval ranges:

```javascript
intervalRanges=2013-03-15T00:00:00 2013-03-15:09:00:00

Or

intervalRanges=[{"minValue":"2013-03-15T00:00:00","maxValue":"2013-03-15T09:00:00"},{"minValue":"2013-03-15T09:00:00","maxValue":"2013-03-15T18:00:00"}]
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`aggregationFunction` 

(Optional; required when `aggregationMethod`  is `CUSTOM` )

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

A custom raster function that will be used to compute the pixel values of the aggregated rasters. It can be created from a function chain or a custom Python raster function.

The input is the entire JSON string of a raster function template, an `.rft.xml`  file, an `.rft.json`  file, or a raster function template item on a portal.

Example of a portal item:

```javascript
aggregationFunction={“itemId”: “6bfebb6b12ac4eb69ac44a45feca26b8”}
```

 

Example of an XML or JSON file:

```javascript
aggregationFunction=\\sharedstorage\sharefolder\customArgStats.rft.xml

Or

aggregationFunction=\\sharedstorage\sharefolder\customArgStats.rft.json
```

 

Example of a JSON string:

```javascript
aggregationFunction={
  "name": "ArgStatistics",
  "description": "Computes arg statistics including Arg Max, Arg Min, Arg Median, and Duration.",
  "function": {
    "pixelType": "UNKNOWN",
    "name": "ArgStatistics",
    "description": "Computes arg statistics including Arg Max, Arg Min, Arg Median, and Duration.",
    "type": "ArgStatisticsFunction",
    "_object_id": 1
  },
  "arguments": {
    "Rasters": {
      "name": "Rasters",
      "value": {
        "elements": [],
        "type": "ArgumentArray",
        "_object_id": 2
      },
      "aliases": [
        "__IsRasterArray__"
      ],
      "isDataset": false,
      "isPublic": false,
      "type": "RasterFunctionVariable",
      "_object_id": 3
    },
    "ArgStatisticsType": {
      "name": "ArgStatisticsType",
      "value": 0,
      "isDataset": false,
      "isPublic": false,
      "type": "RasterFunctionVariable",
      "_object_id": 4
    },
    "UndefinedClass": {
      "name": "UndefinedClass",
      "value": 100,
      "isDataset": false,
      "isPublic": false,
      "type": "RasterFunctionVariable",
      "_object_id": 5
    },
    "MinValue": {
      "name": "MinValue",
      "value": 1,
      "isDataset": false,
      "isPublic": false,
      "type": "RasterFunctionVariable",
      "_object_id": 6
    },
    "MaxValue": {
      "name": "MaxValue",
      "value": 1,
      "isDataset": false,
      "isPublic": false,
      "type": "RasterFunctionVariable",
      "_object_id": 7
    },
    "MatchVariable": {
      "name": "MatchVariable",
      "value": true,
      "isDataset": false,
      "isPublic": false,
      "type": "RasterFunctionVariable",
      "_object_id": 8
    },
    "UnionDimension": {
      "name": "UnionDimension",
      "value": false,
      "isDataset": false,
      "isPublic": false,
      "type": "RasterFunctionVariable",
      "_object_id": 9
    },
    "type": "ArgStatisticsFunctionArguments",
    "_object_id": 10
  },
  "functionType": 0,
  "thumbnail": ""
}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`ignoreNoData` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Specifies whether `NoData`  values are ignored in the analysis.

-   `true` —The analysis will include all valid pixels along a given dimension and ignore any `NoData`  pixels. This is the default.
-   `false` —The analysis will result in `NoData`  if there are any `NoData`  values for the pixel along the given dimension.

Values: `true`  \| `false` 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`dimensionless` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Specifies whether the layer will have dimension values. This parameter is only active if a single slice is selected to create a layer.

-   `true` —The layer will not have dimension values.
-   `false` —The layer will have dimension values. This is the default.

Syntax: A Boolean value as either true or false.

Example

```javascript
dimensionless=true
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`percentileValue` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The percentile to calculate. The default is 90, indicating the 90th percentile.

The values can range from 0 to 100. The 0th percentile is essentially equivalent to the minimum statistic, and the 100th percentile is equivalent to maximum. A value of 50 will produce essentially the same result as the median statistic.

This option is enabled only if the `aggregationMethod` parameter is set to `PERCENTILE` .

Syntax: A double value that represents the `percentileValue` .

```javascript
percentileValue=90
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`percentileInterpolationType` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Specifies the method of percentile interpolation that will be used when there is an even number of values from the input raster to be calculated.

-   `NEAREST` —The nearest available value to the desired percentile will be used. In this case, the output pixel type will be the same as that of the input value raster. This is the default.
-   `LINEAR` —The weighted average of the two surrounding values from the desired percentile will be used. In this case, the output pixel type will be floating point.

Syntax: A string value that represents the `percentileInterpolationType` .

Example

```javascript
percentileInterpolationType=NEAREST
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`context` 

(Optional)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Contains additional settings that affect task execution. This task has the following settings:

-   <GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_2DDA48A24C404781BB03BF05B81B3C19 />
-   <GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_1744B5CA044F44D8ABF2E27EF9BC9A27 />
-   <GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_AD9814DB26DA439EA899971516D5E44D />
-   <GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_30623A2523584FB586A882C09EA092E6 />
-   <GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_48BF5CD827AF48C4A76D93B355D67718 />
-   <GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_LI_7566284934CF4B3BAFE1FBAA218408CB />

Example:

```javascript
context={"cellSize": "20", "parallelProcessingFactor": "4"}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`f` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_56FBFBA3_C66E_404D_8D62_38D68537B266 />

<GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_EB4A1F30_5539_4BD1_AB9D_2D4EA4603F0E />

</StyledTableCell>

</StyledTableRow>

</StyledTable>

## Response

<GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_C5A064C3_43B4_400B_AA66_7C41F2A060FB />

<GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_44A86E3D_176E_4BD4_A2E5_C112ED929DE9 />

<GUID_187EFF3C_6544_4421_8D1E_9DFCF76354CD_GUID_ED11CCC7_40D3_4ADD_A679_A3F6964834ED />

```javascript
https://<analysis-url>/AggregateMultidimensionalRaster/jobs/<jobId>
```

 

## Accessing results

When the status of the job request is `esriJobSucceeded` , you can access the results of the analysis by making a request of the following form:

```javascript
https://<rasteranalysis-url>/AggregateMultidimensionalRaster/jobs/<jobId>/results/outputMultidimensionalRaster?token=<your token>&f=json
```

 

<StyledTable headers={"Parameter,Description"}>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`outputMultidimensionalRaster`

 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The output multidimensional raster `itemId`  and URL.

Example:

```javascript
{"url": "https://rasteranalysis-url>/ AggregateMultidimensionalRaster/jobs/<jobId>/results/outputMultidimensionalRaster"}
```

 

The result has properties for parameter name, data type, and value. The content of the value is always the output raster dataset's itemId and image service URL.

```javascript
{
  "paramName": " outputMultidimensionalRaster",
   "dataType": "GPString",
   "value": {
     "itemId": "c267610d0feb4370bf38cc6e2c4ac261",
     "url": "https://<server name>/arcgis/rest/services/Hosted/<service name>/ImageServer"
   }
}
```

 

</StyledTableCell>

</StyledTableRow>

</StyledTable>
