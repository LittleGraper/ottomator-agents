---
title: "Query Datasets"
description: "The Query Datasets operation returns any dataset that matches the request and can provide a comprehensive report on the datasets loaded in the system."
slug: "querydatasets"
url: "/querydatasets"
guid: "GUID-2E0AC46C-D37E-4B52-9FC8-4180D8722F64"
migratedTopicMetadata:
  FTITLE: "queryDatasets"
  FDESCRIPTION: ""
  FCHANGES: "fixed URL in ex1 per 3753 & for ce"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "11.2 - *"
  CREATED-ON: "26/09/2023 17:37:02"
  FAUTHOR: "kcarlson"
  FSTATUS: "Released"
  MODIFIED-ON: "08/11/2023 10:23:29"
  VERSION: "2"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "7"
  ED: "GUID-E10D5CAE-5A6D-497F-9231-BF71372C4A47"
  FUSERGROUP: "VUSERGROUPPLTSDOC"
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /<serviceName>MapServer/exts/MaritimeChartService/MapServer/queryDatasets
  urlSegments:
    - name: <root>
      url: /catalog
    - name: /<serviceName>/MapServer/exts/MaritimeChartService/MapServer/queryDatasets
  methods: 
    - get
    - post
  sslOnly: 'no'
  versionIntroduced: '10.9'
  requiredCapability: Maritime Chart Service
---

import GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_E1846737_750B_49EF_8811_77AEB29A0884 from "./snippets/GUID-352B231F-97FB-4EC7-9BF3-FF3AE8732BFF/_GUID-E1846737-750B-49EF-8811-77AEB29A0884";
import GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_3DAB9905_317E_49EB_B00F_489646BEBF58 from "./snippets/GUID-352B231F-97FB-4EC7-9BF3-FF3AE8732BFF/_GUID-3DAB9905-317E-49EB-B00F-489646BEBF58";
import GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_65CB945B_3B13_4E4F_A845_64316D75C206 from "./snippets/GUID-352B231F-97FB-4EC7-9BF3-FF3AE8732BFF/_GUID-65CB945B-3B13-4E4F-A845-64316D75C206";
import GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_54C65DA8_6034_47F3_972A_21FBB017F569 from "./snippets/GUID-352B231F-97FB-4EC7-9BF3-FF3AE8732BFF/_GUID-54C65DA8-6034-47F3-972A-21FBB017F569";
import GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_19A48072_2700_4D3C_94AC_EABFC66AE9DF from "./snippets/GUID-352B231F-97FB-4EC7-9BF3-FF3AE8732BFF/_GUID-19A48072-2700-4D3C-94AC-EABFC66AE9DF";
import GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_DDDA27F2_C2E8_46B4_9F27_2B12CA9A15B4 from "./snippets/GUID-352B231F-97FB-4EC7-9BF3-FF3AE8732BFF/_GUID-DDDA27F2-C2E8-46B4-9F27-2B12CA9A15B4";
import GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_FDC21462_FC5B_4D44_A58D_FCD658056753 from "./snippets/GUID-352B231F-97FB-4EC7-9BF3-FF3AE8732BFF/_GUID-FDC21462-FC5B-4D44-A58D-FCD658056753";
import GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_759577DF_0A31_421E_BA4C_30F2EE08EF73 from "./snippets/GUID-352B231F-97FB-4EC7-9BF3-FF3AE8732BFF/_GUID-759577DF-0A31-421E-BA4C-30F2EE08EF73";
import GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_D528A387_1B7A_424C_AE62_A8132CE7A669 from "./snippets/GUID-352B231F-97FB-4EC7-9BF3-FF3AE8732BFF/_GUID-D528A387-1B7A-424C-AE62-A8132CE7A669";
import GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_A81FC88C_647F_4915_B3A2_BA7EF8AB1B24 from "./snippets/GUID-352B231F-97FB-4EC7-9BF3-FF3AE8732BFF/_GUID-A81FC88C-647F-4915-B3A2-BA7EF8AB1B24";
import GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_2CA1437C_8217_405B_9970_5009653D9EB0 from "./snippets/GUID-352B231F-97FB-4EC7-9BF3-FF3AE8732BFF/_GUID-2CA1437C-8217-405B-9970-5009653D9EB0";
import GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_5150FCB9_874F_40AC_AEEA_BDF44769D7DA from "./snippets/GUID-352B231F-97FB-4EC7-9BF3-FF3AE8732BFF/_GUID-5150FCB9-874F-40AC-AEEA-BDF44769D7DA";
import GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_6EC27F8A_F9F1_4939_ACF2_E02F31317C79 from "./snippets/GUID-352B231F-97FB-4EC7-9BF3-FF3AE8732BFF/_GUID-6EC27F8A-F9F1-4939-ACF2-E02F31317C79";
import GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_9E5C2CB0_728C_41E8_866C_C5747E73E29F from "./snippets/GUID-352B231F-97FB-4EC7-9BF3-FF3AE8732BFF/_GUID-9E5C2CB0-728C-41E8-866C-C5747E73E29F";

## Description


<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_E1846737_750B_49EF_8811_77AEB29A0884 />

The `queryDatasets` operation returns any dataset that matches the request. This operation can be used to provide a comprehensive report on the datasets loaded in the system.

##  Request parameters

All parameters are based on REST protocol. By default, if nothing is provided in the `text` or `where` parameter, it will return all datasets.

<StyledTable headers={"Parameter,Details"}>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_3DAB9905_317E_49EB_B00F_489646BEBF58 />

<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_65CB945B_3B13_4E4F_A845_64316D75C206 />

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_54C65DA8_6034_47F3_972A_21FBB017F569 />

Syntax

```javascript
<userid value>
```

 

Example

```javascript
userid=Marloe
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`text` 

<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_19A48072_2700_4D3C_94AC_EABFC66AE9DF />

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

A literal search text. The dataset field used is `dsnm` (dataset name), and the server searches for this text in this field. This parameter is shorthand for a `where` clause of `where dsnm like '%<text>%'`. The text is not case sensitive.

Syntax

```javascript
text=<string>
```

 

Example

```javascript
text=USS
```

 

<Note>

The `text` parameter takes precedence over `where` if both are set.

</Note>

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`where`

<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_65CB945B_3B13_4E4F_A845_64316D75C206 />

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

A `where` clause for the query filter. Any legal SQL `where` clause operating on the fields in the layer is allowed.

Syntax

```javascript
where=<where clause>
```

 

Exzample

```javascript
where=intu=5
```

 

Example for S-63 permits

```javascript
//permit_expiration_date is not null
(permit_expiration_date, 'unixepoch')= 'YYYY-MM-DD'

```

 

<Note>

If both the `text` and `where` parameters are set, `text` will take precedence.

</Note>

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`orderBy`

<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_65CB945B_3B13_4E4F_A845_64316D75C206 />

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

One or more field names or expressions that the records can be ordered by. Use `ASC`  for ascending or `DESC`  for descending order.

Ascending order is the default if `<ORDER>` is not specified.

Syntax

```javascript
orderByfields=expression1 <ORDER>, expression2 <ORDER>
```

 

Example

```javascript
orderByFields=dsnm ASC, intu DESC
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`limit`

<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_65CB945B_3B13_4E4F_A845_64316D75C206 />

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Specifies the number of records in the response returned by the `queryDatasets`  operation.

Example

```javascript
limit=50
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`offset`

<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_65CB945B_3B13_4E4F_A845_64316D75C206 />

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Specifies the number of records to skip in the response returned by the `queryDatasets`  operation.

Example

```javascript
offset=50
```

 

For example, to query 20 at a time, the first `queryDatasets` request uses `limit` equals `20`. The next query uses `limit` equals `20` and `offset` equals `20`. To continue and get records 41-60, the query is run with `limit` set as `20` and `offset` set as `40`.

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`outfields`

<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_65CB945B_3B13_4E4F_A845_64316D75C206 />


</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The list of fields to be included in the returned result set. This list is a comma-delimited list of field names. If used, this will only return the fields listed in the outfields parameter. Otherwise, all supported fields will be returned.

Syntax

```javascript
outfields=<field1>,<field2>,<field3>
```



Example

```javascript
outfields=dsnm,edtn,updn,isdt,uadt
```

 

Available outfields for the Data Set Identification field (DSIS)
* `field` - field description
* `expp` - Exchange purpose
* `intu` - Intended usage
* `dsnm` - Data set name
* `edtn` - Edition number
* `updn` - Update number
* `isdt` - Issue date
* `sted` - Edition number of S-57
* `uadt` - Update application date
* `prsp`- Product specification
* `psdn` - Product specification description
* `pred` - Product specification edition number
* `prof` - Application profile identification
* `agen` - Producing agency
* `dsid_comt` (comt) - Comment

Available outfields for the Data Set Structure Information field (DSSI)
* `field` - field description
* `dstr` - Data structure
* `aall` - ATTF lexical level
* `nall` - NATF lexical level
* `nomr` - Number of meta records
* `nocr` - Number of cartographic records
* `nogr` - Number of geo records
* `nolr` - Number of collection records
* `noin` - Number of isolated node records
* `nocn` - Number of connected node records
* `noed` - Number of edge records
* `nofa` - Number of face records

Available outfields for the Data Set Parameter field (DSPM)
* `field` - field description
* `hdat` - Horizontal geodetic datum
* `vdat` - Vertical datum
* `sdat` - Sounding datum
* `cscl` - Compilation scale of data
* `duni` - Units of depth measurement
* `huni` - Units of height measurement
* `puni` - Units of positional accuracy
* `coun` - Coordinate units
* `comf` - Coordinate multiplication factor
* `somf` - 3-D sounding multiplication factor
* `dspm_comt` (comt) - Comment

<Note>
The `dsnm` field will always be returned.
</Note>

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`minscale`

<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_65CB945B_3B13_4E4F_A845_64316D75C206 />

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Specifies the minimum scale used to query datasets contained in your system. It must be used with `maxscale`. Datasets with a compilation scale of data `cscl` value equal or greater than the `minscale` and less than or equal to the `maxscale` value are returned in the response.

Example

```javascript
minscale=22000
```

 

The `minscale` value must be greater than 0.

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`maxscale`

<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_65CB945B_3B13_4E4F_A845_64316D75C206 />

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Specifies the maximum scale used to query datasets contained in your system. It must be used with `minscale`. Datasets with a compilation scale of data `cscl` value equal or greater than the `minscale` and less than or equal to the `maxscale` value are returned in the response.

Example

```javascript
maxscale=22000
```

 

The `maxscale` value must be greater than or equal to the `minscale` value. 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`geometryType`

<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_65CB945B_3B13_4E4F_A845_64316D75C206 />

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The type of geometry specified by the geometry parameter. The geometry type can be an envelope, point, line, or polygon.

Values: `esriGeometryPoint` \| `esriGeomteryPolyLine` \| `esriGeomteryPolygon` \| `esriGeometryEnvelope`

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`geometry`

<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_65CB945B_3B13_4E4F_A845_64316D75C206 />

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_DDDA27F2_C2E8_46B4_9F27_2B12CA9A15B4 />

Syntax

```javascript
geometryType=<geometryType>&geometry={geometry}
```

 

Example

```javascript
geometryType=esriGeometryEnvelope&geometry={xmin: -104, ymin: 35.6, xmax: -94.32, ymax:41}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_FDC21462_FC5B_4D44_A58D_FCD658056753 />

<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_65CB945B_3B13_4E4F_A845_64316D75C206 />

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_759577DF_0A31_421E_BA4C_30F2EE08EF73 />

Syntax

```javascript
insr=<WKID>
```

 

Example

```javascript
insr=102100
```

 

<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_D528A387_1B7A_424C_AE62_A8132CE7A669 />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_A81FC88C_647F_4915_B3A2_BA7EF8AB1B24 />

<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_65CB945B_3B13_4E4F_A845_64316D75C206 />

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_2CA1437C_8217_405B_9970_5009653D9EB0 />

Syntax

```javascript
outsr=<WKID>
```

 

Example

```javascript
outsr=4326
```

 

<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_5150FCB9_874F_40AC_AEEA_BDF44769D7DA />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`returnGeometry` 

<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_65CB945B_3B13_4E4F_A845_64316D75C206 />

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

If true, the result set includes the geometries associated with each result. The default is `false`.

<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_6EC27F8A_F9F1_4939_ACF2_E02F31317C79 />

</StyledTableCell>

</StyledTableRow>

</StyledTable>

<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_9E5C2CB0_728C_41E8_866C_C5747E73E29F />

## Example usage

The following examples describe various ways to use the `queryDatasets` operation. All responses are in PJSON format.

### Example 1

The following is an example of the `queryDatasets` operation using the `WHERE` clause and `LIKE` operator to search for datasets starting with GB. This query returns six datasets. The `returnGeometry` parameter is set to `true`. Default values are used for the rest of the parameters.

```javascript
https://nsdemo.esri.com/arcgis/rest/services/SampleWorldCities/MapServer/exts/MaritimeChartService/MapServer/queryDatasets?userid=&text=&where=dsnm+like+%27GB%25%27&orderby=&limit=&offset=&outfields=&minscale=&maxscale=&geometrytype=&geometry=&insr=&outsr=&returngeometry=&f=pjson
```

 

### Example 2

The following is an example of the `queryDatasets` operation using a subset of outfields (dsnm, edtn, updn, isdt, uadt, cscl) as well as the `WHERE` clause and `LIKE` operator values from Example 1. Default values are used for the rest of parameters.

```javascript
https://nsdemo.esri.com/arcgis/rest/services/SampleWorldCities/MapServer/exts/MaritimeChartService/MapServer/queryDatasets?userid=&text=&where=dsnm+like+%27GB%25%27&orderby=&limit=&offset=&outfields=dsnm%2C+edtn%2C+updn%2C+isdt%2C+uadt%2C+cscl&minscale=&maxscale=&geometrytype=&geometry=&insr=&outsr=&returngeometry=&f=pjson
```

 

### Example 3

The following is an example of using the `queryDatasets` operation to search for S-63 datasets that have a permit expiring before October 3, 1994. The `outfields` parameter is used to return only the `permit_expiration_date` field. Default values are used for the rest of parameters. No datasets will be returned in this example.

```javascript
https://nsdemo.esri.com/arcgis/rest/services/SampleWorldCities/MapServer/exts/MaritimeChartService/MapServer/queryDatasets?userid=&text=&where=date(permit_expiration_date,+'unixepoch')+<+'1994-10-03'&orderby=&limit=&offset=&outfields=permit_expiration_date&minscale=&maxscale=&geometrytype=&geometry=&insr=&outsr=&returngeometry=&f=pjson
```

 

## JSON Response syntax

The following is the syntax of a response for example 1, using the `WHERE` clause and `LIKE` operator to search for datasets starting with GB and `returnGeomtry=true`. A total of six datasets are returned; however, only the first one is shown in this example.

```json
{ 
  "spatialReference": { 
  "wkid": <outsrValue> 
 }, 
  "geometryType": "esriGeometryPolygon",  //only returns esriGeometryPolygon 
  "charts": [ 
  { 
   "visible": <value>, 
   "dsid": { 
    "description": "<dsidDescription>", 
    "expp": { 
     "value": <subfieldValue>, 
     "mappedValue": "<valueDescription>", 
     "description": "<subfieldDescription>" 
    }, 
    "intu": { 
     "value": <subfieldValue>, 
     "mappedValue": "<valueDescription>", 
     "description": "<subfieldDescription>" 
    }, 
    "dsnm": { 
     "value": "<subfieldValue>", 
     "description": "<subfieldDescription>" 
    }, 
    "edtn": { 
     "value": "<subfieldValue>", 
     "description": "<subfieldDescription>" 
    }, 
    "updn": { 
     "value": "<subfieldValue>", 
     "description": "<subfieldDescription>" 
    }, 
    "isdt": { 
     "value": "<subfieldValue>", 
     "description": "<subfieldDescription>" 
    }, 
    "sted": { 
     "value": "<subfieldValue>", 
     "description": "<subfieldDescription>" 
    }, 
    "uadt": { 
     "value": "<subfieldValue>", 
     "description": "<subfieldDescription>" 
    }, 
    "prsp": { 
     "value": <subfieldValue>, 
     "mappedValue": "<valueDescription>", 
     "description": "<subfieldDescription>" 
    }, 
    "psdn": { 
     "value": "<subfieldValue>", 
     "description": "<subfieldDescription>" 
    }, 
    "pred": { 
     "value": "<subfieldValue>", 
     "description": "<subfieldDescription>" 
    }, 
    "prof": { 
     "value": <subfieldValue>, 
     "mappedValue": "<valueDescription>", 
     "description": "<subfieldDescription>" 
    }, 
    "agen": { 
     "value": <subfieldValue>, 
     "mappedValue": "<valueDescription>", 
     "description": "<subfieldDescription>" 
    }, 
    "comt": { 
     "value": "<subfieldValue>", 
     "description": "<subfieldDescription>" 
    } 
   }, 
   "dssi": { 
    "description": "<dssiDescription>", 
    "dstr": { 
     "value": <subfieldValue>, 
     "mappedValue": "<valueDescription>", 
     "description": "<subfieldDescription>" 
    }, 
    "aall": { 
     "value": <subfieldValue>, 
     "mappedValue": "<valueDescription>", 
     "description": "<subfieldDescription>" 
    }, 
    "nall": { 
     "value": <subfieldValue>, 
     "mappedValue": "<valueDescription>", 
     "description": "<subfieldDescription>" 
    }, 
    "nomr": { 
     "value": "<subfieldValue>", 
     "description": "<subfieldDescription>" 
    }, 
    "nocr": { 
     "value": "<subfieldValue>", 
     "description": "<subfieldDescription>" 
    }, 
    "nogr": { 
     "value": "<subfieldValue>", 
     "description": "<subfieldDescription>" 
    }, 
    "nolr": { 
     "value": "<subfieldValue>", 
     "description": "<subfieldDescription>" 
    }, 
    "noin": { 
     "value": "<subfieldValue>", 
     "description": "<subfieldDescription>" 
    }, 
    "nocn": { 
     "value": "<subfieldValue>", 
     "description": "<subfieldDescription>" 
    }, 
    "noed": { 
     "value": "<subfieldValue>", 
     "description": "<subfieldDescription>" 
    }, 
    "nofa": { 
     "value": "<subfieldValue>", 
     "description": "<subfieldDescription>" 
    } 
   }, 
   "dspm": { 
    "description": "<dspmDescription>", 
    "hdat": { 
     "value": <subfieldValue>, 
     "mappedValue": "<valueDescription>", 
     "description": "<subfieldDescription>" 
    }, 
    "vdat": { 
     "value": <subfieldValue>, 
     "mappedValue": "<valueDescription>", 
     "description": "<subfieldDescription>" 
    }, 
    "sdat": { 
     "value": <subfieldValue>, 
     "mappedValue": "<valueDescription>", 
     "description": "<subfieldDescription>" 
    }, 
    "cscl": { 
     "value": "<subfieldValue>", 
     "description": "<subfieldDescription>" 
    }, 
    "duni": { 
     "value": <subfieldValue>, 
     "mappedValue": "<valueDescription>", 
     "description": "<subfieldDescription>" 
    }, 
    "huni": { 
     "value": <subfieldValue>, 
     "mappedValue": "<valueDescription>", 
     "description": "<subfieldDescription>" 
    }, 
    "puni": { 
     "value": <subfieldValue>, 
     "mappedValue": "<valueDescription>", 
     "description": "<subfieldDescription>" 
    }, 
    "coun": { 
     "value": <subfieldValue>, 
     "mappedValue": "<valueDescription>", 
     "description": "<subfieldDescription>" 
    }, 
    "comf": { 
     "value": "<subfieldValue>", 
     "description": "<subfieldDescription>" 
    }, 
    "somf": { 
     "value": "<subfieldValue>", 
     "description": "<subfieldDescription>" 
    }, 
    "comt": { 
     "value": "<subfieldValue>", 
     "description": "<subfieldDescription>" 
    } 

   },
   "permit_expiration_date": {    //Only appears for S-63 datasets 
    "value": "<subfieldValue>", 
    "description": "<subfieldDescription>" 
   }, 
   "geometry": {<geometry>}  // only when returnGeometry=true (false is default) 
  } 

```

 

## JSON Response examples

The following sections describe JSON response examples corresponding to the usage examples listed above.

### Example 1

The following is an example response for example 1, using the `WHERE` clause and `LIKE` operator to search for datasets starting with GB and `returnGeomtry=true`. A total of six datasets are returned; however, only the first one is shown in this example.

```json
{ 
 "spatialReference": { 
  "wkid": 4326 
 }, 
 "geometryType": "esriGeometryPolygon",
 "charts": [ 
  { 
   "visible": false, 
   "dsid": { 
    "description": "Data Set Identification field", 
    "expp": {
     "value": 1,
     "mappedValue": "New", 
     "description": "Exchange purpose" 
    }, 
    "intu": { 
     "value": 5, 
     "mappedValue": "Harbour", 
     "description": "Intended usage" 
    }, 
    "dsnm": { 
     "value": "GB5X01NE.000", 
     "description": "Data set name" 
    }, 
    "edtn": { 
     "value": "2", 
     "description": "Edition number" 
    }, 
    "updn": { 
     "value": "0", 
     "description": "Update number" 
    }, 
    "isdt": { 
     "value": "20070713", 
     "description": "Issue date" 
    }, 
    "sted": { 
     "value": "03.1", 
     "description": "Edition number of S-57" 
    }, 
    "uadt": { 
     "value": "20070713", 
     "description": "Update application date" 
    }, 
    "prsp": { 
     "value" "1", 
     "mappedValue": "ENC", 
     "description": "Product specification" 
    }, 
    "psdn": { 
     "value": "", 
     "description": "Product specification description" 
    }, 
    "pred": { 
     "value": "2.0", 
     "description": "Product specification edition number" 
    }, 
    "prof": { 
     "value": 1, 
     "mappedValue": "EN - ENC new", 
     "description": "Application profile identification" 
    }, 
    "agen": { 
     "value": 540, 
     "mappedValue": "GB", 
     "description": "Producing agency" 
    }, 
    "comt": { 
     "value": "", 
     "description": "Comment" 
    } 
   }, 
   "dssi": { 
    "description": "Data Set Structure Information field", 
    "dstr": { 
     "value": 2, 
     "mappedValue": "chain node", 
     "description": "Data structure" 
    }, 
    "aall": { 
     "value": 1, 
     "mappedValue": "level 1", 
     "description": "ATTF lexical level" 
    }, 
    "nall": { 
     "value": 1, 
     "mappedValue": "level 1", 
     "description": "NATF lexical level" 
    }, 
    "nomr": { 
     "value": 6, 
     "description": "Number of meta records" 
    }, 
    "nocr": { 
     "value": 0, 
     "description": "Number of cartographic records" 
    }, 
    "nogr": { 
     "value": 292, 
     "description": "Number of geo records" 
    }, 
    "nolr": { 
     "value": 2, 
     "description": "Number of collection records" 
    }, 
    "noin": { 
     "value": 66, 
     "description": "Number of isolated node records" 
    }, 
    "nocn": { 
     "value": 305, 
     "description": "Number of connected node records" 
    }, 
    "noed": { 
     "value": 403, 
     "description": "Number of edge records" 
    }, 
    "nofa": { 
     "value": 0, 
     "description": "Number of face records" 
    } 
   }, 
   "dspm": { 
    "description": "Data Set Parameter field", 
    "hdat": { 
     "value": 2, 
     "mappedValue": "WGS 84", 
     "description": "Horizontal geodetic datum" 
    }, 
    "vdat": { 
     "value": 17, 
     "mappedValue": "Mean high water springs", 
     "description": "Vertical datum" 
    }, 
    "sdat": { 
     "value": 23, 
     "mappedValue": "Lowest astronomical tide", 
     "description": "Sounding datum" 
    }, 
    "cscl": { 
     "value": 22000, 
     "description": "Compilation scale of data" 
    }, 
    "duni": { 
     "value": 1, 
     "mappedValue": "meters", 
     "description": "Units of depth measurement" 
    }, 
    "huni": { 
     "value": 1, 
     "mappedValue": "meters", 
     "description": "Units of height measurement" 
    }, 
    "puni": { 
     "value": 1, 
     "mappedValue": "meters", 
     "description": "Units of positional accuracy" 
    }, 
    "coun": { 
     "value": 1, 
     "mappedValue": "LL - Latitude/Longitude", 
     "description": "Coordinate units" 
    }, 
    "comf": { 
     "value": 10000000, 
     "description": "Coordinate multiplication factor" 
    }, 
    "somf": { 
     "value": 10, 
     "description": "3-D sounding multiplication factor" 
    }, 
    "comt": { 
     "value": "", 
     "description": "Comment"  
    } 
   }, =
   "geometry": { =
    "rings": [ 
     [ 
      [ 
       60.9666667000, 
       -32.5333333000 
      ], 
      [ =
       60.9666667000, 
       -32.4563735000 
      ], 
      [ 
       60.9972840000, 
       -32.4563735000 
      ], 
      [ 
       60.9972840000, 
       -32.5333333000 
      ], 
      [ 
       60.9666667000, 
       -32.5333333000 
      ] 
     ] 
    ] 
   } 
  } 
 }
```

 

### Example 2

The following is an example of a response for example 2, using a subset of outfields (dsnm, edtn, updn, isdt, uadt, cscl) as well as the `WHERE` clause and `LIKE` operator values from Example 1. Default values are used for the rest of parameters. This returns a small subset of subfields and their values. A total of six are returned; however, only the first one is shown in this example.

```json
 { 
  "charts": [ 
   { 
    "dsid": { 
     "description": "Data Set Identification field", 
     "dsnm": { 
      "value": "GB5X01NE.000", 
      "description": "Data set name" 
     }, 
     "edtn": { 
      "value": "2", 
      "description": "Edition number" 
     }, 
     "updn": { 
      "value": "0", 
      "description": "Update number" 
     }, 
     "isdt": { 
      "value": "20070713", 
      "description": "Issue date" 
     }, 
     "uadt": { 
      "value": "20070713", 
      "description": "Update application date" 
     } 
    }, 
    "dspm": { 
     "description": "Data Set Parameter field", 
     "cscl": { 
      "value": 22000, 
      "description": "Compilation scale of data" 
     } 
    } 
   } 
  ]
  }
 
```

 

### Example 3

The following is an example of a response for example 3, where the `outfields` parameter is used to return only the `permit_expiration_date` field. Default values are used for the rest of the parameters. This does not return any records since this public services (NSDEMO) does not contain encrypted (S-63) datasets.

```json
{ 
 "charts": [   

 ] 
} 

```

 

## JSON error response syntax

This example shows the syntax of a response for error results from a `WHERE` clause formatted incorrectly.

```json
{ 
 "error": { 
  "code": "<value>", 
  "message": "<errorMessage>", 
  "details": [ 
   "<detailedMessage>" 
  ] 
 } 
} 
```

 

## JSON error response example

Ths example response shows error results from a `WHERE` clause formatted incorrectly.

```json
{ 
 "error": { 
  "code": 400, 
  "message": "Bad Request", 
  "details": [ 
   "unrecognized token: \"\\\"" 
  ] 
 } 
} 
```

 
