---
title: "Referent To Geometry"
description: "This operation converts one or more point referent locations into geographic locations along a set of routes."
slug: "lr-referent-to-geometry"
url: "/lr-referent-to-geometry"
guid: "GUID-1882FA8F-BB06-4970-AC65-7ADB98046641"
migratedTopicMetadata:
  FTITLE: "LR Referent To Geometry"
  FDESCRIPTION: ""
  FCHANGES: "Updates for #5024 (Creation of REST Doc topic: Referent To Geometry)."
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "11.2 - *"
  CREATED-ON: "18/05/2023 03:48:50"
  FAUTHOR: "tsharma"
  FSTATUS: "Released"
  MODIFIED-ON: "14/07/2023 14:54:06"
  VERSION: "1"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "10"
  ED: "GUID-E99F0D1B-ACFE-41F3-B91A-18E3CCFA7830"
  FUSERGROUP: ""
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /referentToGeometry
  urlSegments:
    - name: <network-layer-url>
      url: /lr-network-layer
    - name: /referentToGeometry
  methods: []
  sslOnly: 'no'
  versionIntroduced: '11.2'
  requiredCapability: The ArcGIS Location Referencing license is required to use this resource.
---

import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_F346DF29_5325_4FAE_8AEB_B0422F5AE1E9 from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-F346DF29-5325-4FAE-8AEB-B0422F5AE1E9";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_071DFCB9_487C_48DD_89C0_7E164430E1BD from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-071DFCB9-487C-48DD-89C0-7E164430E1BD";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_A1D0566B_93E4_49B1_9578_AA8BECB82C0E from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-A1D0566B-93E4-49B1-9578-AA8BECB82C0E";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_CBD7DB86_6337_46AF_9D06_A96B8007D827 from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-CBD7DB86-6337-46AF-9D06-A96B8007D827";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_0D283141_F093_4914_AE08_85FA000321C8 from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-0D283141-F093-4914-AE08-85FA000321C8";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_E9274257_CDF7_4AEF_B034_FC9A83B71F0E from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-E9274257-CDF7-4AEF-B034-FC9A83B71F0E";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_A204EFC8_9DD4_4692_AB87_877BD3C7E204 from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-A204EFC8-9DD4-4692-AB87-877BD3C7E204";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_B7782607_849C_4C90_9D12_86CEAA873DB0 from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-B7782607-849C-4C90-9D12-86CEAA873DB0";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_2F607C55_E2A3_4EC5_AEC7_0E75B11E3555 from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-2F607C55-E2A3-4EC5-AEC7-0E75B11E3555";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_F20F8D73_B46C_4950_B012_6CDF9CF27212 from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-F20F8D73-B46C-4950-B012-6CDF9CF27212";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_338B692C_1241_497E_A75E_A120E90C5078 from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-338B692C-1241-497E-A75E-A120E90C5078";
import GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_A18843D2_866B_4EFB_B533_9736C6767514 from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_GUID-A18843D2-866B-4EFB-B533-9736C6767514";
import EncodeURLsNote from "./snippets/GUID-CF31BD86-ACFA-4774-8343-CC7C8307F248/_EncodeURLsNote";


## Description

This operation converts one or more point referent locations into geographic locations along a set of routes.

A status message is returned indicating success or more details on why the conversion failed.

## Status messages

The following table contains an enumeration of the possible locating statuses:

<StyledTable headers={"Status,Description"}>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      `esriLocatingOK`
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      Locating was successful.
    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      `esriLocatingMultipleLocation`
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      Locating was successful and the input point was located on more than one route.
    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      `esriLocatingCannotFindRoute` 
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      The route does not exist.
    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      `esriLocatingRouteShapeEmpty` 
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      The route does not have a shape or the shape is empty.
    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      `esriLocatingRouteMeasuresNull` 
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      The route does not have measures or the measures are null.
    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      `esriLocatingRouteNotMAware` 
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      The route is not an m-aware polyline.
    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      `esriLocatingCannotFindLocation` 
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      The route location's shape cannot be found because the route has no measures or the route location's measures do not exist on the route.
    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      `esriLocatingFromPartialMatch` 
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      The route location's shape cannot be found because the from offset is outside of the route measure range.
    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      `esriLocatingToPartialMatch` 
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      The route location's shape cannot be found because the to offset is outside of the route measure range.
    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      `esriLocatingInvalidOID` 
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      The input object Id does not exist or is invalid.
    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      `esriLocatingInvalidOffset` 
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      The input offset value is invalid.
    </StyledTableCell>
  </StyledTableRow>
</StyledTable>

## Request parameters

<StyledTable headers={"Parameter,Details"}>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      `location`
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      A list of referent values used to convert to geometry.
      
      Syntax:
        ```json
        [
          {
            "geometry": {"x": <x1>,"y": <y1>,"z": <z1>},
            "offset": <offset1>
          },
          {
            "geometry": {"x" :<x2>, "y": <y2>,"z": <z2>},
            "fromOffset": <fromOffset2>,
            "toOffset": <toOffset2>
          },
          {
            "fromGeometry": {"x": <x3>,"y": <y3>,"z": <z3>},
            "toGeometry": {"x": <x4>,"y": <y4>,"z": <z4>},
            "fromOffset": <fromOffset3>,
            "toOffset": <toOffset3>
          },
          {
            "layerId": <layerId4>,
            "objectId": <objectId4>,
            "offset": <offset4>  
          },  
          { 
            "layerId": <layerId5>,
            "objectId": <objectId5>,
            "fromOffset": <fromOffset5>,
            "toOffset": <toOffset5>
          },
          {
            "layerId": <layerId6>,
            "fromObjectId": <fromObjectId6>,
            "fromOffset": <fromOffset6>,
            "toObjectId": <toObjectId6>,
            "toOffset": <toOffset6>
          },
          ...
        ]
        ```
      </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      `offsetUnit`

      (Optional)
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      Specifies the unit used for offset values. If this parameter is not specified, the network units are used to calculate the referent offset value.
      
      Values: `esriInches` | `esriFeet` | `esriYards` | `esriMiles` | `esriNauticalMiles` | `esriMillimeters` | `esriCentimeters` | `esriMeters` | `esriKilometers` | `esriDecimalDegrees` | `esriDecimeters` | `esriIntInches` | `esriIntFeet` | `esriIntYards` | `esriIntMiles` | `esriIntNauticalMiles`
    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      `temporalViewDate`

      (Optional)
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_F346DF29_5325_4FAE_8AEB_B0422F5AE1E9 />
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_071DFCB9_487C_48DD_89C0_7E164430E1BD />
      
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_A1D0566B_93E4_49B1_9578_AA8BECB82C0E />
      
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_CBD7DB86_6337_46AF_9D06_A96B8007D827 />
    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      `outSR`

      (Optional)
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_0D283141_F093_4914_AE08_85FA000321C8 />
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_E9274257_CDF7_4AEF_B034_FC9A83B71F0E />
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_A204EFC8_9DD4_4692_AB87_877BD3C7E204 />
    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      `gdbVersion`

      (Optional)
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_B7782607_849C_4C90_9D12_86CEAA873DB0 />
      
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_2F607C55_E2A3_4EC5_AEC7_0E75B11E3555 />
      
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_F20F8D73_B46C_4950_B012_6CDF9CF27212 />
    </StyledTableCell>
  </StyledTableRow>
  <StyledTableRow>
    <StyledTableCell cellStyle="markdown">
      `f`
      
      (Optional)
    </StyledTableCell>
    <StyledTableCell cellStyle="markdown">
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_338B692C_1241_497E_A75E_A120E90C5078 />
      
      <GUID_CF31BD86_ACFA_4774_8343_CC7C8307F248_GUID_A18843D2_866B_4EFB_B533_9736C6767514 />
    </StyledTableCell>
  </StyledTableRow>
</StyledTable>

## Example usage

<EncodeURLsNote />

### Example 1

The following is a URL for converting a single referent to point geometry:

```other
https://sampleserver/arcgis/rest/services/MyLRS/MapServer/exts/LRSServer/networkLayers/1/referentToGeometry?f=json&locations=[{"layerId":2,"objectId":201,"offset":1.4}]&offsetUnit=esriMile&outSR=102100
```

### Example 2

The following is a URL for converting a referent range to line geometry:

```other
https://sampleserver/arcgis/rest/services/MyLRS/MapServer/exts/LRSServer/networkLayers/1/referentToGeometry?f=json&locations=[{"layerId":2,"objectId":201,"fromOffset":-0.5,"toOffset":0.4}]&offsetUnit=esriMile&outSR=102100
```

### Example 3

The following is a URL for converting multiple referents to point geometry:

```other
https://sampleserver/arcgis/rest/services/MyLRS/MapServer/exts/LRSServer/networkLayers/1/referentToGeometry?f=json&locations=[{"layerId":2,"objectId":201,"offset":1.4},{"layerId":2,"objectId":202,"offset":-0.9},{"layerId":3,"objectId":1301,"offset":0.4}]&offsetUnit=esriMile&outSR=102100
```

### Example 4

The following is a URL for converting multiple referents and referent ranges to point and line geometry;

```other
https://sampleserver/arcgis/rest/services/MyLRS/MapServer/exts/LRSServer/networkLayers/1/referentToGeometry?f=json&locations=[{"layerId":2,"objectId":201,"fromOffset":-0.5,"toOffset":0.4},{"layerId":2,"objectId":1404,"offset":9.4}]&offsetUnit=esriMile&outSR=102100
```

### Example 5

The following is a URL for converting a referent range that spans different routes on the same line to line geometry:

```other
https://sampleserver/arcgis/rest/services/MyLRS/MapServer/exts/LRSServer/networkLayers/1/referentToGeometry?f=json&locations=[{"layerId":2,"fromObjectId":201,"fromOffset":-0.5,"toObjectId":203,"toOffset":0.4}]&offsetUnit=esriMile&outSR=102100
```

## JSON Response syntax

```json
{
  {
    "unitsOfMeasure": "<units>",
    "spatialReference": "<spatialReference>",
    "locations": [
      { 
        "status": "<status1>",
        "results": [
          {
            "routeId": "<routeId1>",
            "measure": <measure1>,
            "geometryType": "<geometryType1>",
	           "geometry": {"x": <x>,"y": <y>,"z": <z>,"m": <m>} // syntax for point geometry
          },
          ...
        ]
      },
      { 
        "status": "<status2>",
        "results": [
          {
            "routeId": "<routeId2>",
            "measure": <measure2>,
            "toMeasure": <toMeasure2>,
            "geometryType": "<geometryType2>",
	           "geometry": {"paths": [[[<x1>,<y1>,<z1>,<m1>],[<x2>,<y2>,<z2>,<m2>], ...]]} // syntax for line geometry
          },
          ...
        ]
      },
	     { 
        "status": "<status3>",
        "results": [
          {
            "routeId": "<routeId3>",
            "measure": <measure3>,
            "toRouteId": "<toRouteId3>",
	           "toMeasure": <toMeasure3>,
            "geometryType": "<geometryType3>",
	           "geometry": {"paths": [[[<x1>,<y1>,<z1>,<m1>],[<x2>,<y2>,<z2>,<m2>], ...]]} // syntax for line geometry that spans multiple routes
          },
          ...
        ]
      },
      ...
    ]
  }
}
```

## JSON Response example

The following is an example of a successful response:

```json
{
  {
    "unitsOfMeasure": "esriMiles",
    "spatialReference": {"wkid": 102100},
    "locations": [
      {
        "status": "esriLocatingOK",
        "results": [
          {
            "routeId": "I90",
            "measure": "17.146",
            "geometryType": "esriGeometryPoint",
            "geometry": {"x": -8479118.349,"y": 5326520.134,"z": 0.1,"m": 17.146}
          }
        ]
      }
    ]
  }
}
```