---
title: "Query Feature Attributes (Network Diagrams)"
description: "The queryFeatureAttributes operation retrieves the attribute values you want for the network features or objects represented in your diagram whether they are aggregated."
slug: "query-feature-attributes-network-diagram-service"
url: "/query-feature-attributes-network-diagram-service"
guid: "GUID-C38983C9-313B-4524-987E-90A6164D5678"
migratedTopicMetadata:
  FTITLE: "Query Feature Attributes (Network Diagram service)"
  FDESCRIPTION: ""
  FCHANGES: ""
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "11.3 - *"
  CREATED-ON: "04/12/2023 09:14:45"
  FAUTHOR: "ablin"
  FSTATUS: "Draft"
  MODIFIED-ON: "19/12/2023 09:45:38"
  VERSION: "1"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "6"
  ED: "GUID-F250DAC0-3D8F-4806-8915-AB4DCA5BE040"
  FUSERGROUP: ""
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /<serviceName>/NetworkDiagramServer/diagrams/<diagramName>/queryFeatureAttributes
  urlSegments:
    - name: <root>
      url: /catalog
    - name: /<serviceName>/NetworkDiagramServer/diagrams/<diagramName>/queryFeatureAttributes
  methods: 
    - post
  sslOnly: 'no'
  versionIntroduced: '11.3'
---

import GUID_975B7744_9503_41BE_A799_3D09E55A85D5_GUID_61665A7B_93DA_486F_A8E6_9346FC7AF420 from "./snippets/GUID-975B7744-9503-41BE-A799-3D09E55A85D5/_GUID-61665A7B-93DA-486F-A8E6-9346FC7AF420";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_F6FE67FB_9ACA_45E7_831C_DD51A831EAD3 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-F6FE67FB-9ACA-45E7-831C-DD51A831EAD3";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_7AC426AF_5C62_4474_BBE7_6C36CC7DCEB6 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-7AC426AF-5C62-4474-BBE7-6C36CC7DCEB6";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_3EB2FA97_FEE5_4CCA_85DB_1B67B3F50172 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-3EB2FA97-FEE5-4CCA-85DB-1B67B3F50172";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_5BD34E45_603F_4F5B_B77D_236011A78DA4 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-5BD34E45-603F-4F5B-B77D-236011A78DA4";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_ABFDFF0B_C205_42C8_9ABD_73DE1FE97AE0 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-ABFDFF0B-C205-42C8-9ABD-73DE1FE97AE0";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_17DF280A_CE78_4C37_8906_9FA8518D9989 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-17DF280A-CE78-4C37-8906-9FA8518D9989";
import GUID_3EB37995_2FD3_456A_965A_A1935823EF16_GUID_93C8F8A2_C24D_4137_A321_1954A05468DE from "./snippets/GUID-3EB37995-2FD3-456A-965A-A1935823EF16/_GUID-93C8F8A2-C24D-4137-A321-1954A05468DE";
import GUID_3EB37995_2FD3_456A_965A_A1935823EF16_GUID_846C3BC9_8054_4D10_8980_CE245FED8D72 from "./snippets/GUID-3EB37995-2FD3-456A-965A-A1935823EF16/_GUID-846C3BC9-8054-4D10-8980-CE245FED8D72";
import GUID_3EB37995_2FD3_456A_965A_A1935823EF16_GUID_ED939E48_9751_4CFF_8C36_DC8DAA1704AC from "./snippets/GUID-3EB37995-2FD3-456A-965A-A1935823EF16/_GUID-ED939E48-9751-4CFF-8C36-DC8DAA1704AC";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_4631762B_50EE_44C6_9461_38BDDF1BB012 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-4631762B-50EE-44C6-9461-38BDDF1BB012";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_7D12F246_BE1B_414F_8A39_8054E24176EB from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-7D12F246-BE1B-414F-8A39-8054E24176EB";

## Description

The `queryFeatureAttributes` operation retrieves the attribute values you want for the network features or objects represented in your diagram whether they are aggregated. It is performed on a [diagram resource](/diagram-network-diagram-service). The result of this operation is a JSON object composed of three arrays—one listing the queried diagram element IDs, another precising whether each is aggregated, and the third one for their set of queried attribute values. 

<Note type={"note"}>

<GUID_975B7744_9503_41BE_A799_3D09E55A85D5_GUID_61665A7B_93DA_486F_A8E6_9346FC7AF420 />

</Note>

##  Request parameters 

<StyledTable headers={"Parameter,Details"}>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`gdbVersion` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_F6FE67FB_9ACA_45E7_831C_DD51A831EAD3 />

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_7AC426AF_5C62_4474_BBE7_6C36CC7DCEB6 />

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_3EB2FA97_FEE5_4CCA_85DB_1B67B3F50172 />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`sessionId` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_5BD34E45_603F_4F5B_B77D_236011A78DA4 />

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_ABFDFF0B_C205_42C8_9ABD_73DE1FE97AE0 />

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_17DF280A_CE78_4C37_8906_9FA8518D9989 />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`moment` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_3EB37995_2FD3_456A_965A_A1935823EF16_GUID_93C8F8A2_C24D_4137_A321_1954A05468DE />

<GUID_3EB37995_2FD3_456A_965A_A1935823EF16_GUID_846C3BC9_8054_4D10_8980_CE245FED8D72 />

<GUID_3EB37995_2FD3_456A_965A_A1935823EF16_GUID_ED939E48_9751_4CFF_8C36_DC8DAA1704AC />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`diagramElementFilter` 
<br /> 
(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The way the diagram elements for which you want to query attributes will be filtered out. The filtering can be processed in two different ways:

-   `filterBySelection`—To get attributes for a given set of diagram junctions, diagram edges or diagram containers that you identified thanks to their diagram ObjectIDs.
-   `filterByElementType`—To get attributes for all diagram elements depending on their diagram feature type; that is, query attributes related to all diagram junctions, all diagram edges or all diagram containers.

Syntax:

-   `filterBySelection` type syntax:
```javascript
diagramElementFilter={type="filterBySelection", "junctionObjectIDs": [<DiagJctOid1>, …, <DiagJctOidN>], "edgeObjectIDs": [<DiagEdgOid1>, …, <DiagEdgOidN], "containersObjectIDs": [<DiagCtnrOid1>, …, <DiagCtnrOidN]}
 ```

-   `filterByElementType` type syntax:
```javascript
diagramElementFilter={type="filterByElementType", "browseJunctions":<true|false>, "browseEdges":<true|false>, "browseContainers":<true|false>}
```

Example:

-   `filterBySelection` example: 
```javascript
{"type": "filterBySelection", "junctionObjectIDs":[8756,8757], "edgeObjectIDs":[], "containerObjectIDs":[]}
```

-   `filterByElementType` example:
```javascript
{"type": "filterByElementType", "browseJunctions":true, "browseEdges":true, "browseContainers":true}
```

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`attributes` 
<br /> 
(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

An array of attribute names or attribute alias names to query.

<Note type={"note"}>

You can query any attributes available on the associated network source class or in the network source object table. The SourceID and Subtype attribute available on the diagram element class can also be queried.

Syntax: `attributes=["<attributeName1>", ..., "<attributeNameN>"]` 

Example: `attributes=["Asset ID", "Device Status"]` 

</Note>

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`includeAggregations` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

A boolean statement that determines whether to include the aggregations.

-   `true`—The operation returns the attributes related to the network elements associated with the diagram features whether these network elements are reduced or collapsed in the diagram.
-   `false`—The operation only returns the attribute related to the network elements associated with the diagram features that are visibly represented in the diagrams. This is the default.

Syntax: `includeAggregations=<true | false>` 

Example: `includeAggregations=true` 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`useValueNames` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

A boolean statement that determines whether to export coded domain and subtype values using their string descriptions rather than raw values.

The method to use to export coded domain and subtype values:

-   `true`—Coded domain and subtype values will be exported using their string descriptions rather than raw values.
-   `false`—False-Coded domain and subtype values will be exported as raw values. This is the default

Syntax: `useValueNames = < true | false >` 

Example: `useValueNames = true` 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`f` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_4631762B_50EE_44C6_9461_38BDDF1BB012 />

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_7D12F246_BE1B_414F_8A39_8054E24176EB />

</StyledTableCell>

</StyledTableRow>

</StyledTable>

## Example usage

Query attributes on network elements aggregated under a the reduced edge which objectID is 8764 in the diagram TestDiagram1:

-   URL: `https://myserver.esri.com/server/rest/services/NapervilleElectric/Naperville_Electric_SQL_50898/NetworkDiagramServer/diagrams/TestDiagram1/queryFeatureAttributes` 
-   Parameters:

    ```javascript
    gdbVersion=
    sessionId=
    moment=
    diagramElementFilter={"type": "filterBySelection", "junctionObjectIDs":[], "edgeObjectIDs":[8764], "containerObjectIDs":[]}
    attributes=["Asset Group", "Phases Normal", "Measured Length"]
    includeAggregations=True
    useValueNames=True
    ```

     
-   Sent URL (GET): `https://myserver.esri.com/server/rest/services/NapervilleElectric/Naperville_Electric_SQL_50898/NetworkDiagramServer/diagrams/TestDiagram1/queryFeatureAttributes?gdbVersion=&sessionId=&moment=&diagramElementFilter=%7B%22type%22%3A+%22filterBySelection%22%2C+%22junctionObjectIDs%22%3A%5B%5D%2C+%22edgeObjectIDs%22%3A%5B8764%5D%2C+%22containerObjectIDs%22%3A%5B%5D%7D&attributes=%5B%22Asset+Group%22%2C+%22Phases+Normal%22%2C+%22Measured+Length%22%5D&includeAggregations=True&useValueNames=True&f=pjson` 

## JSON Response syntax

A JSON object composed of three arrays of values:

-    `diagramElementIDs`—An array of Diagram Element IDs.
-    `aggregationFlags`—An array of aggregation flags; 1 or 0 that tells whether each diagram element is aggregated.
-    `attributeValues`—An array of attribute values corresponding to the requested attributes for each diagram element.

```javascript
{
 "diagramElementIDs": [
  <DEID_1>,
  ...,
  <DEID_N>
 ],
 "aggregationFlags": [
  <0 | 1>,
  ...,
  <0 | 1>
 ],
 "attributeValues": [
  <Value1_1,..., Value1_M,
  ...,
  <ValueN_1,..., ValueN_M
 ]
}
```

 

## JSON Response example

```javascript
{
 "diagramElementIDs": [
  6,
  6,
  6
 ],
 "aggregationFlags": [
  1,
  1,
  1
 ],
 "attributeValues": [
  "Low Voltage Lighting",
  "C",
  null,
  "Low Voltage Conductor",
  "C",
  102.19814047,
  "Low Voltage Conductor",
  "C",
  92.122638280000004
 ]
}
```

 
