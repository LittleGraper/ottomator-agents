---
title: "Find"
description: "The Find operation is used to discover features based on their OBJNAM and NOBJNM attribute values as well as for searching for datasets in your map service."
slug: "find-mcs"
url: "/find-mcs"
restInfoMetadata:
  apiPath: /<serviceName>/MapServer/exts/MaritimeChartService/MapServer/find
  urlSegments:
    - name: <root>
      url: /catalog
    - name: /<serviceName>/MapServer/exts/MaritimeChartService/MapServer/find
  methods:
    - post
    - get
  sslOnly: 'no'
  versionIntroduced: '10.9'
  requiredCapability: Maritime Chart Service 
---

import GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_E1846737_750B_49EF_8811_77AEB29A0884 from "./snippets/GUID-352B231F-97FB-4EC7-9BF3-FF3AE8732BFF/_GUID-E1846737-750B-49EF-8811-77AEB29A0884";
import GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_3DAB9905_317E_49EB_B00F_489646BEBF58 from "./snippets/GUID-352B231F-97FB-4EC7-9BF3-FF3AE8732BFF/_GUID-3DAB9905-317E-49EB-B00F-489646BEBF58";
import GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_65CB945B_3B13_4E4F_A845_64316D75C206 from "./snippets/GUID-352B231F-97FB-4EC7-9BF3-FF3AE8732BFF/_GUID-65CB945B-3B13-4E4F-A845-64316D75C206";
import GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_54C65DA8_6034_47F3_972A_21FBB017F569 from "./snippets/GUID-352B231F-97FB-4EC7-9BF3-FF3AE8732BFF/_GUID-54C65DA8-6034-47F3-972A-21FBB017F569";
import GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_19A48072_2700_4D3C_94AC_EABFC66AE9DF from "./snippets/GUID-352B231F-97FB-4EC7-9BF3-FF3AE8732BFF/_GUID-19A48072-2700-4D3C-94AC-EABFC66AE9DF";
import GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_6EC27F8A_F9F1_4939_ACF2_E02F31317C79 from "./snippets/GUID-352B231F-97FB-4EC7-9BF3-FF3AE8732BFF/_GUID-6EC27F8A-F9F1-4939-ACF2-E02F31317C79";

## Description


<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_E1846737_750B_49EF_8811_77AEB29A0884 />

The find operation is performed on a map service resource used to discover features based on their OBJNAM and NOBJNM attribute values as well as searching for datasets in your map service.  

Each result includes its layer ID, layer name, cell name, compilation scale, geometry and geometry type, and other attributes of that result as name-value pairs. 

<Note> 
 
At 11.3 the parameters `contains` and `layers` have been removed. Requests with those parameters in them will not impact the `find` operation. 
 
</Note>

## Request parameters

<StyledTable headers={"Parameter,Details"}>
 
<StyledTableRow>
 
<StyledTableCell cellStyle="markdown">

<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_3DAB9905_317E_49EB_B00F_489646BEBF58 />

<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_65CB945B_3B13_4E4F_A845_64316D75C206 />

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_54C65DA8_6034_47F3_972A_21FBB017F569 />

Syntax

```javascript
<userid value>
``` 



Example

```javascript
userid=Marloe
```



</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`searchtext`

<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_19A48072_2700_4D3C_94AC_EABFC66AE9DF />

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

A literal search text. If the layer has a search field associated with it, the server searches for this text in this field. This parameter is shorthand for a `where` clause of `where<searchfields>` like `'%<searchtext>%'`. The text is not case sensitive. 

Syntax

```javascript
text=<string>
```
 
 
 
Example

```javascript
searchtext=Rossett Island
``` 
 
</StyledTableCell>
 
</StyledTableRow>
  
<StyledTableRow>
 
<StyledTableCell cellStyle="markdown">

`returnGeometry`
 
<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_65CB945B_3B13_4E4F_A845_64316D75C206 />

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

If true, the result set will include the geometries associated with each result. The default is `true`. 

<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_6EC27F8A_F9F1_4939_ACF2_E02F31317C79 />
	  
</StyledTableCell>
 
</StyledTableRow>
  
<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`searchfields`
      
<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_65CB945B_3B13_4E4F_A845_64316D75C206 />

</StyledTableCell>
 
<StyledTableCell cellStyle="markdown">

The screen image display parameters (width, height, and DPI) of the active map. 

By default the `find` operation searches both OBJNAM and NOBNJM for the text in the `searchtext` parameter regardless of the value you put in searchfields. The exception to this is if you want to search for a dataset. When searching for a dataset or set of datasets you must specify DSNM in the `searchfields` parameter. 
 
Syntax

```javascript
searchfields=<string>
``` 



Example

```javascript
searchfields=DSNM
```



</StyledTableCell>
 
</StyledTableRow>
 
<StyledTableRow>
 
<StyledTableCell cellStyle="markdown">

`sr`
 
<GUID_352B231F_97FB_4EC7_9BF3_FF3AE8732BFF_GUID_65CB945B_3B13_4E4F_A845_64316D75C206 />
 
</StyledTableCell>
 
<StyledTableCell cellStyle="markdown">

The spatial reference of the returned geometry. The spatial reference can be specified as a well-known ID or as a spatial reference JSON object. If `sr` is not specified, the geometry is returned in the spatial reference of the map. 

Syntax

```javascript
sr=<WKID>
``` 



Example

```javascript
sr=4326
sr={"wkid":4326}
sr={"wkt": "Replace with actual well-known text"}
```



All values in the `crs.xml` file are supported. This file is stored at `<installation location>\MaritimeServer\<version number>\maritimechartservice\controlfiles\crs.cml`.
 
</StyledTableCell>
 
</StyledTableRow>
 
</StyledTable>

## Response properties

<StyledTable headers={"Property,Details"}>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`format (f)`

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Specifies the response format. The default response format is `html`.

Values: `json`|`html`

Syntax: 

```json
f=json 
```



</StyledTableCell>

</StyledTableRow>

</StyledTable>


## Example usage

The following examples describe various ways to use the `find` operation. All responses are in PJSON format.

### Example 1

The following is an example of the `find` operation searching for a dataset containing GB4X in the name. An output spatial reference of 4326 was used and the rest are using default values.

```other 
https://nsdemo.esri.com/arcgis/rest/services/SampleWorldCities/MapServer/exts/MaritimeChartService/MapServer/find?userid=&searchtext=GB4X&searchfields=DSNM&sr=4326&f=pjson   
``` 
 
 
 
### Example 2

The following is an example of the `find` operation searching for features containing Rosset Island in either the OBJNAM or NOBJNM attribute. An output spatial reference of 4326 was used and 'returnGeometry' was set to 'false'. Default values are used for the rest of the parameters.

```other 
https://nsdemo.esri.com/arcgis/rest/services/SampleWorldCities/MapServer/exts/MaritimeChartService/MapServer/find?searchtext=Rossett+Island&returngeometry=false&searchfields=&sr=4326&f=pjson 
``` 
 
 
 
## JSON Response syntax

### Example 1
 
The following is the syntax of a response for example 1, searching for a dataset with GB4X in the name. 

```json
{ 
 "results": [ 
    { 
     "layerId": <value>, 
     "layerName": "<layerNameValue>", 
     "value": "<datasetName>", 
     "displayFieldName": "<fieldName>", 
     "foundFieldName": "<fieldName>", 
     "value": "<datasetName>", 
   "attributes": { 
      "DSNM": "<subFieldValue>", 
      "EDTN": "<subFieldValue>", 
      "UPDN": "<subFieldValue>", 
      "CSCL": "<subFieldValue>" 
   }, 
   "geometryType": "esriGeometryPolygon", //only returns esriGeomteryPolygon for DSNM  
    "geometry": {<geometry>}     //only when returnGeometry=true (default) 
    "spatialReference": { 
     "wkid": <srValue> 
    },  
   } 
  ] 
}  
```


### Example 2

The following is the syntax of a response for example 2, searching for Rosset Island in either OBJNAM or NOBJNM attributes.  

```json
 { 
  "results": [ 
   { 
    "layerId": <value>, 
    "layerName": "<layerNameValue>", 
    "value": "<recordID>", 
    "displayFieldName": "rcid", 
    "foundFieldName": "<searchFieldValue>", 
    "value": "<RecordID>", 
    "attributes": { 
     "rcid": "<subFieldValue>", 
     "LNAM": "<subFieldValue>", 
     "objectType": "<subFieldValue>", 
     "objectTypeDescription": "<subFieldValue>", 
     "OBJNAM": "<subFieldValue>", 
     "cellName": "<subFieldValue>", 
     "compilationScale": "<subFieldValue>" 
     }
    }
   ]
  }   
```



## JSON Response examples
 
The following sections describe JSON response examples corresponding to the usage examples listed above.
 
### Example 1

```json 
 { 
  "results": [ 
   { 
    "layerId": 0, 
    "layerName": "S57 Cells", 
    "value": "GB4X0000.000", 
    "displayFieldName": "DSNM", 
    "foundFieldName": "DSNM", 
    "value": "GB4X0000.000", 
    "attributes": { 
     "DSNM": "GB4X0000.000", 
     "EDTN": "4", 
     "UPDN": "0", 
     "CSCL": "45000" 
    }, 
    "geometryType": "esriGeometryPolygon", 
    "geometry": { 
     "spatialReference": { 
      "wkid": 4326 
     }, 
     "rings": [ 
      [ 
       [ 
        60.7749955000, 
        -32.6250103000 
       ], 
       [ 
        60.7749955000, 
        -32.3294577000 
       ], 
       [ 
        61.3172987000, 
        -32.3294577000 
       ], 
       [ 
        61.3172987000, 
        -32.6250103000 
       ], 
       [ 
        60.7749955000, 
        -32.6250103000 
       ] 
      ]  
     ] 
    } 
   } 
  ] 
 }   
 ```
 
 
### Example 2
 
The following is an example of a response for example 2, searching for Rosset Island in either OBJNAM or NOBJNM attributes. 
 
```json
 { 
  "layerId": 0, 
  "layerName": "S57 Cells", 
  "value": "439", 
  "displayFieldName": "rcid", 
  "foundFieldName": "OBJNAM", 
  "value": "439", 
  "attributes": { 
   "rcid": "439", 
   "LNAM": "GB120871051300174", 
   "objectType": "LNDARE", 
   "objectTypeDescription": "Land area", 
   "OBJNAM": "Rossett Island", 
   "NOBJNM": "Rössett Inseln", 
   "cellName": "GB5X01NE.000", 
   "compilationScale": "22000" 
  } 
 } 
```
  
  
  
## JSON error response syntax

This example shows the syntax of an error response.

```json
 {  
 "error": {  
  "code": <value>,  
  "message": "<errorMessage>",  
  "details": [  
   "<detailedMessage>"  
   ]  
  }
 }  
```
 
 
### JSON error response example
 
```json
 {  
 "error": {  
  "code": 400,  
  "message": "Bad Request",  
  "details": [  
   "searchText must be specified"  
  ]  
 }  
} 
```
