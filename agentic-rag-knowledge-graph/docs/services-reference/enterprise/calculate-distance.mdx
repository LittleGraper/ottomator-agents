---
title: "Calculate Distance"
description: "The CalculateDistance task calculates the Euclidean distance, direction, and allocation from a single source or set of sources."
slug: "calculate-distance"
url: "/calculate-distance"
guid: "GUID-496E94F7-C3D3-49A5-9378-E66A5D7ABB58"
migratedTopicMetadata:
  FTITLE: "Calculate Distance"
  FDESCRIPTION: ""
  FCHANGES: "Fields should not be in quotes"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "11.1 - *"
  CREATED-ON: "30/03/2023 14:10:53"
  FAUTHOR: "egraham"
  FSTATUS: "Released"
  MODIFIED-ON: "03/04/2023 22:48:50"
  VERSION: "7"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "5"
  ED: "GUID-9D728784-36A0-4DFF-9202-10564660F4AD"
  FUSERGROUP: ""
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /<serviceName>/RasterAnalysisTools/GPServer/CalculateDistance
  urlSegments:
    - name: <root>
      url: /catalog
    - name: /<serviceName>/RasterAnalysisTools/GPServer/CalculateDistance
  methods: []
  sslOnly: 'no'
  versionIntroduced: '10.6'
---

import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_9D29CDC4_105B_4524_9553_0939FB816615 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-9D29CDC4-105B-4524-9553-0939FB816615";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_3C3804F2_DF27_4AB4_8A26_39CB1316D7DD from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-3C3804F2-DF27-4AB4-8A26-39CB1316D7DD";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_F2432D7C_6B85_43BD_B98C_40AC9E9EBA22 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-F2432D7C-6B85-43BD-B98C-40AC9E9EBA22";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_8F14A47B_448F_4A97_9AF3_539B5A3C476E from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-8F14A47B-448F-4A97-9AF3-539B5A3C476E";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_2F2E787E_6290_45AC_8EAF_5FCDBF419470 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-2F2E787E-6290-45AC-8EAF-5FCDBF419470";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_2E84BC51_5D7C_4FA8_B36D_4D34BE686D70 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-2E84BC51-5D7C-4FA8-B36D-4D34BE686D70";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_701B6590_51AF_43E2_979C_D2968584BA62 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-701B6590-51AF-43E2-979C-D2968584BA62";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_F1DDFA0A_6616_4887_BE97_38BC0577A871 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-F1DDFA0A-6616-4887-BE97-38BC0577A871";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_E671F554_89D2_4CAD_B032_525E1CE90C18 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-E671F554-89D2-4CAD-B032-525E1CE90C18";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_1744B5CA044F44D8ABF2E27EF9BC9A27 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_LI_1744B5CA044F44D8ABF2E27EF9BC9A27";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_AD9814DB26DA439EA899971516D5E44D from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_LI_AD9814DB26DA439EA899971516D5E44D";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_7566284934CF4B3BAFE1FBAA218408CB from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_LI_7566284934CF4B3BAFE1FBAA218408CB";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_2DDA48A24C404781BB03BF05B81B3C19 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_LI_2DDA48A24C404781BB03BF05B81B3C19";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_E5BF6567427444E8B74C6B8212C56B99 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_LI_E5BF6567427444E8B74C6B8212C56B99";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_9B5D5783_E386_45F7_8EA8_88843A1BB484 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-9B5D5783-E386-45F7-8EA8-88843A1BB484";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_C771449E_6BA7_4CB4_9328_2C855A14B2B2 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-C771449E-6BA7-4CB4-9328-2C855A14B2B2";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_1702083F_151C_4A0C_AF36_0D0DD9E2563A from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-1702083F-151C-4A0C-AF36-0D0DD9E2563A";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_4B398B66_01FD_40FB_9AEE_30371F0A8CD8 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-4B398B66-01FD-40FB-9AEE-30371F0A8CD8";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_ED11CCC7_40D3_4ADD_A679_A3F6964834ED from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-ED11CCC7-40D3-4ADD-A679-A3F6964834ED";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_50D345C8_14F8_4A4A_AB1E_A6BBD19C49EF from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-50D345C8-14F8-4A4A-AB1E-A6BBD19C49EF";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_9370F058_5BA7_4BA3_8D9F_EFB8ADF723C0 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-9370F058-5BA7-4BA3-8D9F-EFB8ADF723C0";

## Description
![Calculate Distance diagram](./images/GUID-34E2E6F3-2F60-43F5-B499-D5735DE08602-web.png)
<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_9D29CDC4_105B_4524_9553_0939FB816615 />
<Note type={"tip"}>
The [Distance Accumulation](/distance-accumulation) or [Distance Allocation](/distance-allocation) tasks provide enhanced functionality or performance.
</Note>
Example applications include the following:
-   What is the distance to the closest town?
-   What is the distance to the closest road?
-   What is the distance to the closest water source?

## Request parameters
<StyledTable headers={"Parameter,Details"}>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `inputSource` 
            (Required)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            The layer that defines the sources to calculate the distance to. The layer can be raster or feature. To use a raster input, it must be of type integer.
            <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_3C3804F2_DF27_4AB4_8A26_39CB1316D7DD />
            Raster input examples: 
            ```javascript
            //Portal item as input raster
            "inputSourceRasterOrFeatures":"itemID": <portal item id>}
            //URL as input raster
            "inputSourceRasterOrFeatures":{"url": <image service layer url>}
            //Cloud raster as input raster
            "inputSourceRasterOrFeatures": {"uri": <cloud raster dataset uri>}
            ```
            Feature input examples:
            ```javascript
            //Feature layer URL
            "inputSourceRasterOrFeatures":{"url": 
            <feature service layer url>}
            //Feature collection
            "inputSourceRasterOrFeatures":{"layerDefinition": {}, "featureSet": {}}
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `outputDistanceName` 
            (Required)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            The output distance image service name that will be created.

            This calculates, for each cell, the Euclidean distance to the closest source.
            <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_F2432D7C_6B85_43BD_B98C_40AC9E9EBA22 />
            <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_8F14A47B_448F_4A97_9AF3_539B5A3C476E />
            Output name example:
            ```javascript
            "outputDistanceName": {"serviceProperties":{"name":"testrasteranalysis"}}
            ```
            Output raster examples:
            ```javascript
            //Output portal item
            "outputDistanceName":{"itemId": <portal item id>}
            //Output URL
            "outputDistanceName":{"url": <image service url>}
            //Output raster layer service
            "outputDistanceName":{"serviceProperties":
              {"name":"testrasteranalysis",
                "serviceUrl":"https://<server name>/server/rest/services/Hosted/testrasteranalysis/ImageServer"},
              "itemProperties":{"itemId":"8cfbd3ec25584d0d8f4ed23b8ff743b","folderId":""sdfwerfbd3ec25584d0d8f4"}
            }
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `maximumDistance`
            (Optional)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            Defines the threshold that the accumulative distance values cannot exceed. If an accumulative Euclidean distance value exceeds this value, the output value for the cell location will be NoData. The default distance is to the edge of the output raster.
            <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_2F2E787E_6290_45AC_8EAF_5FCDBF419470 />
            <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_2E84BC51_5D7C_4FA8_B36D_4D34BE686D70 />
            Example:
            ```javascript
            "maximumDistance": {"distance":"60","units":"Meters"}
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `outputCellSize`
            (Optional)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_701B6590_51AF_43E2_979C_D2968584BA62 />
            <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_2E84BC51_5D7C_4FA8_B36D_4D34BE686D70 />
            <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_F1DDFA0A_6616_4887_BE97_38BC0577A871 />
            Example:
            ```javascript
            "outputCellSize": {"distance":"60","units":"Meters"}
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `outputDirectionName`
            (Optional)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            The output image service name that will be created.

            The output direction raster is in degrees and indicates the direction to return to the closest source from each cell center. The values on the direction raster are based on compass directions, with 0 degrees reserved for the source cells. Thus, a value of 90 means 90 degrees to the east, 180 is to the south, 270 is to the west, and 360 is to the north.
            <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_F2432D7C_6B85_43BD_B98C_40AC9E9EBA22 />
            <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_8F14A47B_448F_4A97_9AF3_539B5A3C476E />
            Output name example:
            ```javascript
            "outputDirectionName":{"serviceProperties":{"name":"testrasteranalysis"}}
            ```
            Output raster examples:
            ```javascript
            //Output portal item
            "outputDirectionName":{"itemId": <portal item id>}
            //Output url
            "outputDirectionName":{"url": <image service url}
            //Output raster layer service
            "outputDirectionName":{"serviceProperties":
              {"name":"testrasteranalysis",
                "serviceUrl":"https://<server name>/server/rest/services/Hosted/testrasteranalysis/ImageServer"},
              "itemProperties":{"itemId":"8cfbd3ec25584d0d8f4ed23b8ff7c43b","folderId":"sdfwerfbd3ec25584d0d8f4"}
            }
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `outputAllocationName`
            (Optional)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            The output allocation image service name that will be created. This parameter calculates, for each cell, the nearest source based on Euclidean distance.
            <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_F2432D7C_6B85_43BD_B98C_40AC9E9EBA22 />
            <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_8F14A47B_448F_4A97_9AF3_539B5A3C476E />
            Output name example:
            ```javascript
            "outputAllocationName":{"serviceProperties":{"name":"testrasteranalysis"}}
            ```
            Output raster examples:
            ```javascript
            //Output portal item
            "outputAllocationName":{"itemId": <portal item id>}
            //Output url
            "outputAllocationName":{"url": <image service url>}
            //Output raster layer service
            "outputAllocationName":{"serviceProperties":
              {"name":"testrasteranalysis",
                "serviceUrl":"https://<server name>/server/rest/services/Hosted/testrasteranalysis/ImageServer"},
              "itemProperties":{"itemId":"8cfbd3ec25584d0d8f4ec255840d8f4ed23b8ff7c43b","folderId":"sdfwerfbd3ec25584d0d8f4"}
            }
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `allocationField`
            (Optional)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            A field on the `inputSourceRasterOrFeatures`  layer that holds the values that defines each source.

            It can be an integer or a string field of the source dataset. The default for this parameter is `Value` .

            Example:
            ```javascript
            "allocationField": Boundary1
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `distanceMethod`
            (Optional) 
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            Determines whether to calculate the distance using a planar (flat earth) or a geodesic (ellipsoid) method.
            -   `Planar` : The calculation will be performed on a projected flat plane using a 2D Cartesian coordinate system. This is the default method.
            -   `Geodesic` : Distances are calculated on the ellipsoid. Therefore, regardless of input or output projection, the results do not change.
            Example:
            ```javascript
            "distanceMethod": "GEODESIC"
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `inputBarrierRasterOrFeatures`
            (Optional)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            The layer that defines the barriers to calculate the back direction around. The layer can be raster or feature.
            <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_3C3804F2_DF27_4AB4_8A26_39CB1316D7DD />
            Raster input examples:
            ```javascript
            //Portal item as input raster
            "inputBarrierRasterOrFeatures":"itemID": <portal item id>}
            //URL as input raster
            "inputBarrierRasterOrFeatures":{"url": <image service layer url>}
            //Cloud raster as input raster
            "inputBarrierRasterOrFeatures": {"uri": <cloud raster dataset uri>}
            ```
            Feature input examples:
            ```javascript
            //Feature layer URL
            "inputBarrierRasterOrFeatures":{"url": 
            <feature service layer url>}
            //Feature collection
            "inputBarrierRasterOrFeatures":{"layerDefinition": {}, "featureSet": {}}
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `outputBackDirectionName`
            (Optional)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            The output back direction image service name that will be created. This parameter calculates, for each cell, the direction back to the source around barriers, if barriers are provided as input.
            <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_F2432D7C_6B85_43BD_B98C_40AC9E9EBA22 />
            <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_8F14A47B_448F_4A97_9AF3_539B5A3C476E />
            Output name example:
            ```javascript
            "outputBackDirectionName":{"serviceProperties":{"name":"testrasteranalysis"}}
            ```
            Output raster examples:
            ```javascript
            //Output portal item
            "outputBackDirectionName":{"itemId": <portal item id>}
            //Output url
            "outputBackDirectionName":{"url": <image service url>}
            //Output raster layer service
            "outputBackDirectionName":{"serviceProperties":
              {"name":"testrasteranalysis",
                "serviceUrl":"https://<server name>/server/rest/services/Hosted/testrasteranalysis/ImageServer"},
              "itemProperties":{"itemId":"8cfbd3ec25584d0d8f4ec255840d8f4ed23b8ff7c43b","folderId":"sdfwerfbd3ec25584d0d8f4"}
            }
            ```
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `context`
            (Optional)
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_E671F554_89D2_4CAD_B032_525E1CE90C18 />
            -   <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_1744B5CA044F44D8ABF2E27EF9BC9A27 />
            -   <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_AD9814DB26DA439EA899971516D5E44D />
            -   <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_7566284934CF4B3BAFE1FBAA218408CB />
            -   <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_2DDA48A24C404781BB03BF05B81B3C19 />
            -   <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_E5BF6567427444E8B74C6B8212C56B99 />
        </StyledTableCell>
    </StyledTableRow>
    <StyledTableRow>
        <StyledTableCell cellStyle="markdown">
            `f` 
        </StyledTableCell>
        <StyledTableCell cellStyle="markdown">
            <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_9B5D5783_E386_45F7_8EA8_88843A1BB484 />
            <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_C771449E_6BA7_4CB4_9328_2C855A14B2B2 />
        </StyledTableCell>
    </StyledTableRow>
</StyledTable>

## Response
<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_1702083F_151C_4A0C_AF36_0D0DD9E2563A />
<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_4B398B66_01FD_40FB_9AEE_30371F0A8CD8 />
<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_ED11CCC7_40D3_4ADD_A679_A3F6964834ED />
```javascript
https://<raster analysis tools url>/CalculateDistance/jobs/<jobId>
```
<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_50D345C8_14F8_4A4A_AB1E_A6BBD19C49EF />
```javascript
https://<raster analysis tools url>/CalculateDistance/jobs/<jobId>/results/<output parameter>
```

## Example usage
Below is a sample request URL for `CalculateDistance` .
```javascript
https://services.myserver.com/arcgis/rest/services/System/RasterAnalysisTools/GPServer/CalculateDistance/submitJob
```

## JSON Response syntax
The response returns the `outputDistanceRaster` , `outputDirectionRaster` , and `outputAllocationRaster`  output parameters, which have properties for parameter name, data type, and value. The content of `value`  is always the `itemId`  of the output raster dataset and the image service URL.
<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_9370F058_5BA7_4BA3_8D9F_EFB8ADF723C0 />

## JSON Response example
```javascript
{
  "paramName": "outputDistanceRaster",
  "dataType": "GPString",
  "value": {
    "itemId": "f121390b85ef419790479fc75b493efd",
    "url": "https://<server name>/arcgis/rest/services/Hosted/<service name>/ImageServer"
  }
}
```