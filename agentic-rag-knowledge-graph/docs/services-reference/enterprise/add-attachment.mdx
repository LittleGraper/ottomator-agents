---
title: "Add Attachment"
description: "This operation adds an attachment to the associated feature."
slug: "add-attachment"
url: "/add-attachment"
guid: "GUID-0DAFB621-9150-4068-8214-94AEFB3DF5F3"
migratedTopicMetadata:
  FTITLE: "Add Attachment"
  FDESCRIPTION: ""
  FCHANGES: "Updating links to point to new Add Item topic"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "10.8.1-*"
  CREATED-ON: "27/01/2021 13:11:55"
  FAUTHOR: "tohara"
  FSTATUS: "Released"
  MODIFIED-ON: "27/01/2021 14:23:34"
  VERSION: "12"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "4"
  ED: "GUID-083BA605-2BCA-4A9C-BFE0-EDC31C86FE45"
  FUSERGROUP: "VUSERGROUPARCGISONLINEDOC"
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /<serviceName>/FeatureServer/<layerId>/<featureId>/addAttachment
  urlSegments:
    - name: <root>
      url: /catalog
    - name: /<serviceName>/FeatureServer/<layerId>/<featureId>/addAttachment
  methods:
    - post
  sslOnly: 'no'
  versionIntroduced: '10.0'
  requiredCapability: Create or Update
---

import GUID_B11F5B4A_2241_4615_8A92_D9EFC9003B5B_GUID_E8D0FD10_D330_4AF9_9DD1_A020D2D04569 from "./snippets/GUID-B11F5B4A-2241-4615-8A92-D9EFC9003B5B/_GUID-E8D0FD10-D330-4AF9-9DD1-A020D2D04569";
import GUID_B11F5B4A_2241_4615_8A92_D9EFC9003B5B_GUID_1AEF122B_F8EC_46D3_9783_FD19BA872BC8 from "./snippets/GUID-B11F5B4A-2241-4615-8A92-D9EFC9003B5B/_GUID-1AEF122B-F8EC-46D3-9783-FD19BA872BC8";
import GUID_B11F5B4A_2241_4615_8A92_D9EFC9003B5B_GUID_A27A319A_BE0D_4E8F_A1FE_989B0F207A40 from "./snippets/GUID-B11F5B4A-2241-4615-8A92-D9EFC9003B5B/_GUID-A27A319A-BE0D-4E8F-A1FE-989B0F207A40";
import GUID_B11F5B4A_2241_4615_8A92_D9EFC9003B5B_GUID_CFA5999D_2230_4BA3_BF40_6E341EFFA073 from "./snippets/GUID-B11F5B4A-2241-4615-8A92-D9EFC9003B5B/_GUID-CFA5999D-2230-4BA3-BF40-6E341EFFA073";
import GUID_B11F5B4A_2241_4615_8A92_D9EFC9003B5B_GUID_6A3F7F70_9AAB_4F4A_92B1_B2A9DC40D424 from "./snippets/GUID-B11F5B4A-2241-4615-8A92-D9EFC9003B5B/_GUID-6A3F7F70-9AAB-4F4A-92B1-B2A9DC40D424";
import GUID_B11F5B4A_2241_4615_8A92_D9EFC9003B5B_GUID_73D9B0B6_1094_494B_96F8_70F7102229D3 from "./snippets/GUID-B11F5B4A-2241-4615-8A92-D9EFC9003B5B/_GUID-73D9B0B6-1094-494B-96F8-70F7102229D3";
import GUID_B11F5B4A_2241_4615_8A92_D9EFC9003B5B_GUID_C6E915B3_E0DD_4F75_9C64_F6B19380C600 from "./snippets/GUID-B11F5B4A-2241-4615-8A92-D9EFC9003B5B/_GUID-C6E915B3-E0DD-4F75-9C64-F6B19380C600";

## Description

This operation adds an attachment to the associated feature (POST only). Adding an attachment is a feature update, but is support with either the Update or the Create capability. The `addAttachment`  operation is performed on a [feature service feature resource](/feature-feature-service).

Since this request uploads a file, it must be a multipart request pursuant to [IETF RFC1867](http://www.ietf.org/rfc/rfc1867.txt).

This operation is available only if the layer has advertised that it has attachments. A layer has attachments if its `hasAttachments`  property is `true` .

See the [ Limiting upload file size and file types](/uploads) section under Uploads to learn more about default file size and file type limitations imposed on attachments.

The request to upload an item file must be a multipart request pursuant to [IETF RFC1867](http://www.ietf.org/rfc/rfc1867.txt). See the [Add Item](DEVSITE/rest/users-groups-and-items/add-item) page for more information.

The result of this operation is an array of edit result objects. Each edit result indicates whether or not the edit was successful. If successful, the `objectId`  of the result is the ID of the new attachment. If unsuccessful, it also includes an [ error code](/feature-service-error-codes) and error description.

You can provide arguments to the `addAttachment`  operation as defined in the following parameters table:

##  Request parameters

<StyledTable headers={"Parameter,Details"}>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`attachment` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The file to be uploaded as a new feature attachment. 

The content type, size, and name of the attachment will be derived from the uploaded file.

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`gdbVersion` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_B11F5B4A_2241_4615_8A92_D9EFC9003B5B_GUID_E8D0FD10_D330_4AF9_9DD1_A020D2D04569 />

<GUID_B11F5B4A_2241_4615_8A92_D9EFC9003B5B_GUID_1AEF122B_F8EC_46D3_9783_FD19BA872BC8 />

<GUID_B11F5B4A_2241_4615_8A92_D9EFC9003B5B_GUID_A27A319A_BE0D_4E8F_A1FE_989B0F207A40 />

<GUID_B11F5B4A_2241_4615_8A92_D9EFC9003B5B_GUID_CFA5999D_2230_4BA3_BF40_6E341EFFA073 />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`returnEditMoment` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

This option was added at 10.5 and works with ArcGIS Server services only.

Optional parameter specifying whether the response will report the time attachments were added. If `returnEditMoment = true` , the server will return the time in the response's `editMoment`  key. The default value is `false` .

Values:`true|false` 

Example: `returnEditMoment=true` 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`uploadId` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Added to the July 2014 of ArcGIS Online and ArcGIS 10.4 Server.

<GUID_B11F5B4A_2241_4615_8A92_D9EFC9003B5B_GUID_6A3F7F70_9AAB_4F4A_92B1_B2A9DC40D424 />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`keywords` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Sets a text value that is stored as the keywords value for the attachment. This parameter can be set when the layer has an `attachmentProperties`  property that includes `"name": "keywords"`  with `"isEnabled": true` . If the attachments have keywords enabled and the layer also includes the `attachmentFields`  property, you can use it to understand properties like keywords field length.

Example

```javascript
keywords='motorcycle'
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`f` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_B11F5B4A_2241_4615_8A92_D9EFC9003B5B_GUID_73D9B0B6_1094_494B_96F8_70F7102229D3 />

<GUID_B11F5B4A_2241_4615_8A92_D9EFC9003B5B_GUID_C6E915B3_E0DD_4F75_9C64_F6B19380C600 />

</StyledTableCell>

</StyledTableRow>

</StyledTable>

## Example usage

Add an attachment using the `addAttachment`  operation on a feature service feature resource. In this sample URL, the `addAttachment`  operation is performed on feature ID 818654 belonging to layer 0 of the 311Incidents feature service: 

```javascript
https://services.myserver.com/ArcGIS/rest/services/SanFrancisco/311Incidents/FeatureServer/0/818654/addAttachment
```

 

The input parameter attachment to this operation is a file.

## JSON Response syntax

```other
{
  "addAttachmentResult": {
    "objectId": <attachmentId>,
    "globalId": <globalId>,
    "success": <true | false>,
    "error": { //only if success is false
      "code": <code1>,
      "description": "<description>",
    }
  }
}
```

 

## JSON Response example

```other
{
  "addAttachmentResult": {
    "objectId": 58,
    "globalId": null,
    "success": true
  }
}
```

 
