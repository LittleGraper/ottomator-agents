---
title: "Dynamic Layers (Network Diagrams)"
description: "The dynamicLayers resource describes the sublayers under a diagram layer."
slug: "dynamic-layers-network-diagram-service"
url: "/dynamic-layers-network-diagram-service"
guid: "GUID-B1771595-1A09-4CB6-AC3B-D9F393D99C4D"
migratedTopicMetadata:
  FTITLE: "Dynamic Layers (Network Diagram service)"
  FDESCRIPTION: ""
  FCHANGES: "missing blank character in JSON codeblockbody in the response syntax section"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "10.8.1 - *"
  CREATED-ON: "08/10/2020 09:25:47"
  FAUTHOR: "ablin"
  FSTATUS: "Released"
  MODIFIED-ON: "22/01/2021 07:35:45"
  VERSION: "6"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "5"
  ED: "GUID-77A03A13-B028-404D-B785-180F0D9B227B"
  FUSERGROUP: ""
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /<serviceName>/NetworkDiagramServer/diagrams/<diagramName>/dynamicLayers
  urlSegments:
    - name: <root>
      url: /catalog
    - name: /<serviceName>/NetworkDiagramServer/diagrams/<diagramName>/dynamicLayers
  methods: 
    - post
  sslOnly: 'no'
  versionIntroduced: ' 10.6'
---

import GUID_975B7744_9503_41BE_A799_3D09E55A85D5_GUID_9C8453BB_A7AE_4970_B533_B645F1FD919C from "./snippets/GUID-975B7744-9503-41BE-A799-3D09E55A85D5/_GUID-9C8453BB-A7AE-4970-B533-B645F1FD919C";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_F6FE67FB_9ACA_45E7_831C_DD51A831EAD3 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-F6FE67FB-9ACA-45E7-831C-DD51A831EAD3";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_7AC426AF_5C62_4474_BBE7_6C36CC7DCEB6 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-7AC426AF-5C62-4474-BBE7-6C36CC7DCEB6";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_3EB2FA97_FEE5_4CCA_85DB_1B67B3F50172 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-3EB2FA97-FEE5-4CCA-85DB-1B67B3F50172";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_5BD34E45_603F_4F5B_B77D_236011A78DA4 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-5BD34E45-603F-4F5B-B77D-236011A78DA4";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_ABFDFF0B_C205_42C8_9ABD_73DE1FE97AE0 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-ABFDFF0B-C205-42C8-9ABD-73DE1FE97AE0";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_17DF280A_CE78_4C37_8906_9FA8518D9989 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-17DF280A-CE78-4C37-8906-9FA8518D9989";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_4631762B_50EE_44C6_9461_38BDDF1BB012 from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-4631762B-50EE-44C6-9461-38BDDF1BB012";
import GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_7D12F246_BE1B_414F_8A39_8054E24176EB from "./snippets/GUID-39D57F54-1EBC-4379-8DFC-8A7E3A992DFC/_GUID-7D12F246-BE1B-414F-8A39-8054E24176EB";

## Description

The `dynamicLayers` resource describes the sublayers under a diagram layer. It returns an array of JSON object layers with their SQL query. Each JSON object layer item in the array provides the following information:

-   `id`—The ID of the layer
-   `source`—The layer source internal information:

    -   `type`—"workspaceLayer"
    -   `workspaceID`—"Diagram"
    -   `layerID`—The internal layer ID
-   `definitionExpression`—The filtering expression based on the diagram GUID

![Diagram of Dynamic Layers REST endpoint resource](./images/GUID-4DF5B087-7805-40DC-AEDA-AB7B2727E1BC-web.png)

<Note type={"note"}>

<GUID_975B7744_9503_41BE_A799_3D09E55A85D5_GUID_9C8453BB_A7AE_4970_B533_B645F1FD919C />

</Note>

##  Request parameters 

<StyledTable headers={"Parameter,Details"}>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`gdbVersion` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_F6FE67FB_9ACA_45E7_831C_DD51A831EAD3 />

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_7AC426AF_5C62_4474_BBE7_6C36CC7DCEB6 />

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_3EB2FA97_FEE5_4CCA_85DB_1B67B3F50172 />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`sessionId` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_5BD34E45_603F_4F5B_B77D_236011A78DA4 />

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_ABFDFF0B_C205_42C8_9ABD_73DE1FE97AE0 />

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_17DF280A_CE78_4C37_8906_9FA8518D9989 />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`allLayers` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Added in 10.8.1

The mode to use to cache the dynamic layers for the diagram. When `allLayers` is set as `true` , all layers are cached whether they contain diagram features or not. When `allLayers` is set as `false` , only the layers that contain diagram features are cached.

Syntax: `allLayers=<true |false>` 

Example: `allLayers=false` 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`f` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_4631762B_50EE_44C6_9461_38BDDF1BB012 />

<GUID_39D57F54_1EBC_4379_8DFC_8A7E3A992DFC_GUID_7D12F246_BE1B_414F_8A39_8054E24176EB />

</StyledTableCell>

</StyledTableRow>

</StyledTable>

## Example usage

`https://myserver.esri.com/server/rest/services/Naperville/NetworkDiagramServer/diagrams/Basic_RMT003/dynamicLayers?allLayers=false&f=pjson` 

## JSON Response syntax

```json
{
 "dynamicLayers": [
  {
   "id": < layerID1 >,
   "source": {
    "type": "workspaceLayer",
    "workspaceId": "Diagram",
    "layerId": "< internalLayerID1 >"
   }
   "definitionExpression": < DiagramGUIDFilteringExpression >"
  },
  ...,
  {
   "id": < layerIDN >,
   "source": {
    "type": "workspaceLayer",
    "workspaceId": "Diagram",
    "layerId": "< internalLayerIDN >"
   }
   "definitionExpression": < DiagramGUIDFilteringExpression >"
  }
 ]
}

```

 

## JSON Response example

```json
{
 "dynamicLayers": [
  {
   "id": 101,
   "source": {
    "type": "workspaceLayer",
    "workspaceId": "Diagram",
    "layerId": "0_ElectricDistributionAssembly"
   },
   "definitionExpression": "MAP.UN_6_Junctions.DIAGRAMGUID = '{FDA323D6-4868-4375-9773-06AFF80B2F02}'"
  },
  {
   "id": 102,
   "source": {
    "type": "workspaceLayer",
    "workspaceId": "Diagram",
    "layerId": "0_ElectricDistributionDevice"
   },
   "definitionExpression": "MAP.UN_6_Junctions.DIAGRAMGUID = '{FDA323D6-4868-4375-9773-06AFF80B2F02}'"
  },
  {
   "id": 103,
   "source": {
    "type": "workspaceLayer",
    "workspaceId": "Diagram",
    "layerId": "0_ElectricDistributionJunction"
   },
   "definitionExpression": "MAP.UN_6_Junctions.DIAGRAMGUID = '{FDA323D6-4868-4375-9773-06AFF80B2F02}'"
  },
  {
   "id": 104,
   "source": {
    "type": "workspaceLayer",
    "workspaceId": "Diagram",
    "layerId": "0_StructureJunction"
   },
   "definitionExpression": "MAP.UN_6_Junctions.DIAGRAMGUID = '{FDA323D6-4868-4375-9773-06AFF80B2F02}'"
  },
  {
   "id": 105,
   "source": {
    "type": "workspaceLayer",
    "workspaceId": "Diagram",
    "layerId": "0_System Junctions"
   },
   "definitionExpression": "MAP.UN_6_Junctions.DIAGRAMGUID = '{FDA323D6-4868-4375-9773-06AFF80B2F02}'"
  },
  {
   "id": 106,
   "source": {
    "type": "workspaceLayer",
    "workspaceId": "Diagram",
    "layerId": "0_Structure Boundary"
   },
   "definitionExpression": "MAP.UN_6_Junctions.DIAGRAMGUID = '{FDA323D6-4868-4375-9773-06AFF80B2F02}'"
  },
  {
   "id": 107,
   "source": {
    "type": "workspaceLayer",
    "workspaceId": "Diagram",
    "layerId": "0_Structure Line"
   },
   "definitionExpression": "MAP.UN_6_Junctions.DIAGRAMGUID = '{FDA323D6-4868-4375-9773-06AFF80B2F02}'"
  },
  {
   "id": 108,
   "source": {
    "type": "workspaceLayer",
    "workspaceId": "Diagram",
    "layerId": "0_Electric Distribution Line"
   },
   "definitionExpression": "MAP.UN_6_Junctions.DIAGRAMGUID = '{FDA323D6-4868-4375-9773-06AFF80B2F02}'"
  },
  {
   "id": 109,
   "source": {
    "type": "workspaceLayer",
    "workspaceId": "Diagram",
    "layerId": "0_ElectricDistributionLine"
   },
   "definitionExpression": "MAP.UN_6_Edges.DIAGRAMGUID = '{FDA323D6-4868-4375-9773-06AFF80B2F02}'"
  },
  {
   "id": 110,
   "source": {
    "type": "workspaceLayer",
    "workspaceId": "Diagram",
    "layerId": "0_StructureLine"
   },
   "definitionExpression": "MAP.UN_6_Edges.DIAGRAMGUID = '{FDA323D6-4868-4375-9773-06AFF80B2F02}'"
  },
  {
   "id": 111,
   "source": {
    "type": "workspaceLayer",
    "workspaceId": "Diagram",
    "layerId": "0_Connectivity Associations"
   },
   "definitionExpression": "MAP.UN_6_Edges.DIAGRAMGUID = '{FDA323D6-4868-4375-9773-06AFF80B2F02}'"
  },
  {
   "id": 112,
   "source": {
    "type": "workspaceLayer",
    "workspaceId": "Diagram",
    "layerId": "0_Structural Attachments"
   },
   "definitionExpression": "MAP.UN_6_Edges.DIAGRAMGUID = '{FDA323D6-4868-4375-9773-06AFF80B2F02}'"
  },
  {
   "id": 113,
   "source": {
    "type": "workspaceLayer",
    "workspaceId": "Diagram",
    "layerId": "0_Reduction Edges"
   },
   "definitionExpression": "DIAGRAMGUID = '{FDA323D6-4868-4375-9773-06AFF80B2F02}'"
  },
  {
   "id": 114,
   "source": {
    "type": "workspaceLayer",
    "workspaceId": "Diagram",
    "layerId": "0_Structure Junction"
   },
   "definitionExpression": "MAP.UN_6_Containers.DIAGRAMGUID = '{FDA323D6-4868-4375-9773-06AFF80B2F02}'"
  },
  {
   "id": 115,
   "source": {
    "type": "workspaceLayer",
    "workspaceId": "Diagram",
    "layerId": "0_Electric Distribution Assembly"
   },
   "definitionExpression": "MAP.UN_6_Containers.DIAGRAMGUID = '{FDA323D6-4868-4375-9773-06AFF80B2F02}'"
  },
  {
   "id": 116,
   "source": {
    "type": "workspaceLayer",
    "workspaceId": "Diagram",
    "layerId": "0_StructureBoundary"
   },
   "definitionExpression": "MAP.UN_6_Containers.DIAGRAMGUID = '{FDA323D6-4868-4375-9773-06AFF80B2F02}'"
  }
 ]
}

```

 
