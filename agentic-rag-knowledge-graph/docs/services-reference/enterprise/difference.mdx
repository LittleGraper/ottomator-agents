---
title: "Difference"
description: "This operation constructs the set-theoretic difference between each element of an array of geometries and another geometry, the so-called difference geometry."
slug: "difference"
url: "/difference"
guid: "GUID-F2FB48F2-9BED-4737-98EF-40DCBBEB9A3D"
migratedTopicMetadata:
  FTITLE: "Difference"
  FDESCRIPTION: ""
  FCHANGES: "Fixing broken links"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "10.9.1- *"
  CREATED-ON: "07/09/2021 11:26:44"
  FAUTHOR: "tohara"
  FSTATUS: "Released"
  MODIFIED-ON: "04/10/2021 10:05:42"
  VERSION: "4"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "4"
  ED: "GUID-729801C5-83A3-46BF-BDFC-93D2A6CCF8F7"
  FUSERGROUP: "VUSERGROUPARCGISONLINEDOC"
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /Utilities/Geometry/GeometryServer/difference
  urlSegments:
    - name: <root>
      url: /catalog
    - name: /Utilities/Geometry/GeometryServer/difference
  methods: []
  sslOnly: 'no'
  versionIntroduced: '10.0'
---

## Description

The `difference` operation is performed on a [geometry service resource](/geometry-service). This operation constructs the set-theoretic difference between each element of an array of geometries and another geometry, the so-called difference geometry. In other words, let B be the difference geometry. For each geometry, A, in the input geometry array, it constructs A - B. This operation calls `simplify` on the input `geometries` and `geometry` values. You can provide arguments to the `difference` operation as query parameters defined in the following parameters table.

##  Request parameters

<StyledTable headers={"Parameter,Details"}>

<StyledTableRow>
<StyledTableCell cellStyle="markdown">

`geometries` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Specifies an array of points, multipoints, polylines, or polygons. The structure of each geometry in the array is the same as the structure of the [JSON geometry objects](/geometry-objects) returned by ArcGIS REST API. 

Syntax

```other
{"geometryType": "<esriGeometryPoint | esriGeometryMultipoint | esriGeometryPolyline | esriGeometryPolygon >","geometries" : [ <geometry1>, <geometry2> ]}
```

Example

```json
{
  "geometryType": "esriGeometryPolyline",
  "geometries": [
    {
      "paths": [
        [[-117,34],[-116,34],[-117,33]],
        [[-115,44],[-114,43],[-115,43]]
      ]
    },
    {
      "paths": [
        [[32.49,17.83],[31.96,17.59],[30.87,17.01],[30.11,16.86]]
      ]
    }
  ]
}
```

</StyledTableCell>
</StyledTableRow>

<StyledTableRow>
<StyledTableCell cellStyle="markdown">

`geometry` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Specifies a single geometry of any type and of a dimension equal to or greater than the `geometries` elements. The structure of the geometry is the same as the structure of the [JSON geometry objects](/geometry-objects) returned by ArcGIS REST API. The use of simple syntax is not supported.

Syntax

```other
{"geometryType": "<esriGeometryPoint | esriGeometryPolyline | esriGeometryPolygon | esriGeometryMultipoint>","geometry": <geometry1> }
```

Example

```json
{
  "geometryType": "esriGeometryPolygon",
  "geometry": {
    "rings": [
      [[-117,34],[-116,34],[-117,33],[-117,34]],
      [[-115,44],[-114,43],[-115,43],[-115,44]]
    ]
  }
}
```

</StyledTableCell>
</StyledTableRow>

<StyledTableRow>
<StyledTableCell cellStyle="markdown">

`sr` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Specifies the well-known ID (WKID) of the spatial reference or a [spatial reference JSON object](/geometry-objects#spatial-reference) for the input `geometries` values. For a list of valid WKID values, see [Using spatial references](/using-spatial-references). 

</StyledTableCell>
</StyledTableRow>

<StyledTableRow>
<StyledTableCell cellStyle="markdown">

`f` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The response format. The default response format is `html`.

Values: `html`  \| `json`  \| `pjson` 

</StyledTableCell>
</StyledTableRow>

</StyledTable>

## Example usage

The following is a decoded sample request URL (the actual URL must be encoded) for `difference` that constructs the difference between polygons:

[`https://sampleserver6.arcgisonline.com/arcgis/rest/services/Utilities/Geometry/GeometryServer/difference?sr=4269&geometries={"geometryType":"esriGeometryPolygon","geometries":[{"rings":[[[-75.5,39.7],[-74.7,40.2],[-74.9,39.2],[-75.1,39.1],[-75.5,39.7]]]},{"rings":[[[-75,39.8],[-74,40],[-74.5,39],[-75,39.8]]]}]}&geometry={"geometryType":"esriGeometryPolygon","geometry":{"rings":[[[-75,39.8],[-74,40],[-74.5,39],[-75,39.8]]]}}&f=html`](https://sampleserver6.arcgisonline.com/arcgis/rest/services/Utilities/Geometry/GeometryServer/difference?sr=4269&geometries=%7B%22geometryType%22%3A%22esriGeometryPolygon%22%2C%22geometries%22%3A%5B%7B%22rings%22%3A%5B%5B%5B-75.5%2C39.7%5D%2C%5B-74.7%2C40.2%5D%2C%5B-74.9%2C39.2%5D%2C%5B-75.1%2C39.1%5D%2C%5B-75.5%2C39.7%5D%5D%5D%7D%2C%7B%22rings%22%3A%5B%5B%5B-75%2C39.8%5D%2C%5B-74%2C40%5D%2C%5B-74.5%2C39%5D%2C%5B-75%2C39.8%5D%5D%5D%7D%5D%7D&geometry=%7B%22geometryType%22%3A%22esriGeometryPolygon%22%2C%22geometry%22%3A%7B%22rings%22%3A%5B%5B%5B-75%2C39.8%5D%2C%5B-74%2C40%5D%2C%5B-74.5%2C39%5D%2C%5B-75%2C39.8%5D%5D%5D%7D%7D&f=html)

## JSON Response syntax

```other
{
  "geometryType": "<esriGeometryPoint | esriGeometryMultipoint | esriGeometryPolyline | esriGeometryPolygon >",
  "geometries": [<geometry1>, <geometry2>]
}
```

## JSON Response example

```json
{
 "geometryType": "esriGeometryPolygon",
 "geometries": [
  {"rings": [[
   [
    -74.89999999999998,
    39.200000000000045
   ],
   [
    -75.09999999999997,
    39.10000000000008
   ],
   [
    -75.49999999999994,
    39.700000000000045
   ],
   [
    -74.69999999999999,
    40.200000000000045
   ],
   [
    -74.77083333299998,
    39.84583333300003
   ],
   [
    -74.99999999999994,
    39.80000000000007
   ],
   [
    -74.83333333299998,
    39.53333333300003
   ],
   [
    -74.89999999999998,
    39.200000000000045
   ]
  ]]},
  {"rings": []}
 ]
}
```
