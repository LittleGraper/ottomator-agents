---
title: "Create Viewshed"
description: "API reference for the Create Viewshed service available on ArcGIS Online."
slug: "sa-create-viewshed"
url: "/spatial-analysis/tasks/sa-create-viewshed"
redirectFrom:
  - /sa-create-viewshed
guid: "GUID-0D28A723-B93B-4457-A2FB-0BEAD1B4108E"
migratedTopicMetadata:
  FTITLE: "SA Create Viewshed"
  FDESCRIPTION: "SDK help for CreateViewshed tool"
  FCHANGES: "conref context"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "agol10.1-*:11.0-*"
  CREATED-ON: "28/02/2022 16:34:00"
  FAUTHOR: "sambrose"
  FSTATUS: "Released"
  MODIFIED-ON: "02/03/2022 13:22:53"
  VERSION: "5"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "3"
  ED: "GUID-F9FF3CC4-FE1A-4A72-93D4-2FB0D03FD4C7"
  FUSERGROUP: "VUSERGROUPARCGISONLINEDOC"
  READ-ACCESS: ""
restInfoMetadata: {}
---

import GUID_98478E86_0753_4C4D_A2EB_7DC84675B2DC_GUID_E0E9FDE9_9A98_4EA4_9164_0E878BADF591 from "../../snippets/GUID-98478E86-0753-4C4D-A2EB-7DC84675B2DC/_GUID-E0E9FDE9-9A98-4EA4-9164-0E878BADF591";
import GUID_98478E86_0753_4C4D_A2EB_7DC84675B2DC_GUID_D95DEC58_7F27_491A_AF3D_6E6A3C0A6F2D from "../../snippets/GUID-98478E86-0753-4C4D-A2EB-7DC84675B2DC/_GUID-D95DEC58-7F27-491A-AF3D-6E6A3C0A6F2D";
import GUID_67BBDC51_6E6A_4390_A6A8_411955E2C7F7_LI_7EC4035791204CCDA9941641CC45D71B from "../../snippets/GUID-67BBDC51-6E6A-4390-A6A8-411955E2C7F7/_LI_7EC4035791204CCDA9941641CC45D71B";
import GUID_67BBDC51_6E6A_4390_A6A8_411955E2C7F7_LI_2776D080D58544DDAFCD352ECF4EF10A from "../../snippets/GUID-67BBDC51-6E6A-4390-A6A8-411955E2C7F7/_LI_2776D080D58544DDAFCD352ECF4EF10A";
import GUID_67BBDC51_6E6A_4390_A6A8_411955E2C7F7_LI_B72B3046A71742EA8711D02096F44BC1 from "../../snippets/GUID-67BBDC51-6E6A-4390-A6A8-411955E2C7F7/_LI_B72B3046A71742EA8711D02096F44BC1";
import GUID_67BBDC51_6E6A_4390_A6A8_411955E2C7F7_LI_6D405EC749814F878CE03FD6330E98C6 from "../../snippets/GUID-67BBDC51-6E6A-4390-A6A8-411955E2C7F7/_LI_6D405EC749814F878CE03FD6330E98C6";
import GUID_98478E86_0753_4C4D_A2EB_7DC84675B2DC_GUID_E836F966_C272_43B1_9BF9_55BA03755A13 from "../../snippets/GUID-98478E86-0753-4C4D-A2EB-7DC84675B2DC/_GUID-E836F966-C272-43B1-9BF9-55BA03755A13";
import GUID_98478E86_0753_4C4D_A2EB_7DC84675B2DC_GUID_E671F554_89D2_4CAD_B032_525E1CE90C18 from "../../snippets/GUID-98478E86-0753-4C4D-A2EB-7DC84675B2DC/_GUID-E671F554-89D2-4CAD-B032-525E1CE90C18";
import GUID_67BBDC51_6E6A_4390_A6A8_411955E2C7F7_GUID_D4574F98_5D00_467C_BE89_524529F67768 from "../../snippets/GUID-67BBDC51-6E6A-4390-A6A8-411955E2C7F7/_GUID-D4574F98-5D00-467C-BE89-524529F67768";
import GUID_67BBDC51_6E6A_4390_A6A8_411955E2C7F7_GUID_7481CF75_D411_4A63_BA85_01E8F0C58F67 from "../../snippets/GUID-67BBDC51-6E6A-4390-A6A8-411955E2C7F7/_GUID-7481CF75-D411-4A63-BA85-01E8F0C58F67";
import GUID_67BBDC51_6E6A_4390_A6A8_411955E2C7F7_GUID_03071520_C169_41C0_8E51_866D82061408 from "../../snippets/GUID-67BBDC51-6E6A-4390-A6A8-411955E2C7F7/_GUID-03071520-C169-41C0-8E51-866D82061408";

![Create Viewshed](../../images/GUID-491E9A75-30CC-4526-9F71-E47FD25536DE-web.png)

The Create Viewshed task identifies visible areas based on the observer locations you provide. The results are areas where the observers can see the observed objects (and the observed objects can see the observers).

This task is a wrapper around the [Viewshed](http://developers.arcgis.com/rest/elevation/api-reference/viewshed.htm) task found in [Elevation Analysis Services](http://developers.arcgis.com/rest/elevation/api-reference/get-started-with-elevation-services.htm). The main difference between these two tasks is that Create Viewshed provides for feature service layers as input and output.

## Request URL

```javascript
http://<analysis url>/CreateViewshed/submitJob
```

## Request Parameters
<StyledTable headers={"Parameter,Description"}>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `inputLayer`
         (Required)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The features to use as the observer locations.

         <GUID_98478E86_0753_4C4D_A2EB_7DC84675B2DC_GUID_E0E9FDE9_9A98_4EA4_9164_0E878BADF591 />

         <GUID_98478E86_0753_4C4D_A2EB_7DC84675B2DC_GUID_D95DEC58_7F27_491A_AF3D_6E6A3C0A6F2D />
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `demResolution`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The approximate spatial resolution (cell size) of the source elevation data used for the calculation.

         The default is the finest resolution available.

         The resolution values are an approximation of the spatial resolution of the digital elevation model. While many elevation sources are distributed in units of arc seconds, the keyword is an approximation of those resolutions in meters for easier understanding.

         -   <GUID_67BBDC51_6E6A_4390_A6A8_411955E2C7F7_LI_7EC4035791204CCDA9941641CC45D71B />
         -   Values: `FINEST | 10m | 24m | 30m | 90m`
         -   Default: `Finest`
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `maximumDistance`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         This is a cutoff distance where the computation of visible areas stops. Beyond this distance, it is unknown whether the analysis points and the other objects can see each other.

         It is useful for modeling current weather conditions or a given time of day, such as dusk. Large values increase computation time.

         Unless specified, a default maximum distance will be computed based on the resolution and extent of the source DEM. The allowed maximum value is 50 kilometers.

         Use `maxDistanceUnits` to set the units for `maximumDistance`.
         - <GUID_67BBDC51_6E6A_4390_A6A8_411955E2C7F7_LI_2776D080D58544DDAFCD352ECF4EF10A />
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `maxDistanceUnits`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The units for the `maxDistance` parameter.
         - <GUID_67BBDC51_6E6A_4390_A6A8_411955E2C7F7_LI_7EC4035791204CCDA9941641CC45D71B />
         - <GUID_67BBDC51_6E6A_4390_A6A8_411955E2C7F7_LI_B72B3046A71742EA8711D02096F44BC1 />
         - <GUID_67BBDC51_6E6A_4390_A6A8_411955E2C7F7_LI_6D405EC749814F878CE03FD6330E98C6 />
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `observerHeight`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         This is the height above the ground of the observer locations.

         The default is 1.75 meters, which is approximately the average height of a person. If you are looking from an elevated location, such as an observation tower or a tall building, use that height instead.

         Use `observerHeightUnits` to set the units for `observerHeight`.
         - <GUID_67BBDC51_6E6A_4390_A6A8_411955E2C7F7_LI_2776D080D58544DDAFCD352ECF4EF10A />
         - Default: 1.75
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `observerHeightUnits`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The units for the `observerHeight` parameter.
         - <GUID_67BBDC51_6E6A_4390_A6A8_411955E2C7F7_LI_7EC4035791204CCDA9941641CC45D71B />
         - <GUID_67BBDC51_6E6A_4390_A6A8_411955E2C7F7_LI_B72B3046A71742EA8711D02096F44BC1 />
         - <GUID_67BBDC51_6E6A_4390_A6A8_411955E2C7F7_LI_6D405EC749814F878CE03FD6330E98C6 />
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `targetHeight`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         This is the height of structures or people on the ground used to establish visibility. The result viewshed are those areas where an input point can see these other objects. The converse is also true; the other objects can see an input point.
         -   If your input points represent wind turbines and you want to determine where people standing on the ground can see the turbines, enter the average height of a person (approximately 6 feet). The result is those areas where a person standing on the ground can see the wind turbines.
         -   If your input points represent fire lookout towers and you want to determine which lookout towers can see a smoke plume 20 feet high or higher, enter 20 feet for the height. The result is those areas where a fire lookout tower can see a smoke plume at least 20 feet high.
         -   If your input points represent scenic overlooks along roads and trails and you want to determine where wind turbines 400 feet high or higher can be seen, enter 400 feet for the height. The result is those areas where a person standing at a scenic overlook can see a wind turbine at least 400 feet high.
         -   If your input points represent scenic overlooks and you want to determine how much area on the ground people standing at the overlook can see, enter zero. The result is those areas that can be seen from the scenic overlook.

         Use `targetHeightUnits` to set the units for `targetHeight`.
         - <GUID_67BBDC51_6E6A_4390_A6A8_411955E2C7F7_LI_2776D080D58544DDAFCD352ECF4EF10A />
         - Default: 0.0
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `targetHeightUnits`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The units for the `targetHeight` parameter.
         - <GUID_67BBDC51_6E6A_4390_A6A8_411955E2C7F7_LI_7EC4035791204CCDA9941641CC45D71B />
         - <GUID_67BBDC51_6E6A_4390_A6A8_411955E2C7F7_LI_B72B3046A71742EA8711D02096F44BC1 />
         - <GUID_67BBDC51_6E6A_4390_A6A8_411955E2C7F7_LI_6D405EC749814F878CE03FD6330E98C6 />
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `generalize`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         Determines whether the viewshed polygons are to be generalized.

         The viewshed calculation is based on a raster elevation model that creates a result with stair-stepped edges. To create a more pleasing appearance and improve performance, the default behavior is to generalize the polygons. The generalization process smooths the boundary of the visible areas and may remove some single-cell visible areas.
         -   Type: Boolean
         -   Values: `true` \| `false`
         -   Default: `True`
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `outputName`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         <GUID_98478E86_0753_4C4D_A2EB_7DC84675B2DC_GUID_E836F966_C272_43B1_9BF9_55BA03755A13 />
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `context`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         <GUID_98478E86_0753_4C4D_A2EB_7DC84675B2DC_GUID_E671F554_89D2_4CAD_B032_525E1CE90C18 />
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `f`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The response format. The default response format is `html`.

         Values: `html` \| `json`
      </StyledTableCell>
   </StyledTableRow>
</StyledTable>

## Response
<GUID_67BBDC51_6E6A_4390_A6A8_411955E2C7F7_GUID_D4574F98_5D00_467C_BE89_524529F67768 />
<GUID_67BBDC51_6E6A_4390_A6A8_411955E2C7F7_GUID_7481CF75_D411_4A63_BA85_01E8F0C58F67 />
After the initial request is submitted you can use the `jobId` to periodically check the status of the job and messages as described in the topic [Check job status](/checking-job-status-1). Once the job has successfully completed, you use the `jobId` to retrive the results. To track the status, you can make a request of the following form:
```javascript
http://<analysis url>/CreateViewshed/jobs/<jobId>
```
## Accessing results
<GUID_67BBDC51_6E6A_4390_A6A8_411955E2C7F7_GUID_03071520_C169_41C0_8E51_866D82061408 />
```javascript
http://<analysis url>/jobs/<jobId>/results/viewshedLayer?token=<your token>&f=json
```
<StyledTable headers={"Parameter,Description"}>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `viewshedLayer`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The viewshed polygons.
         Example:
         ```javascript
         {"url":"http://<analysis url>/CreateViewshed/jobs/<jobId>/results/viewshedLayer"}
         ```
         The result has properties for parameter name, data type, and value. The contents of value depends upon the `outputName` parameter provided in the initial request.
         -  If `outputName` was provided, `value` contains the url to the feature service layer.
         ```javascript
         {
         "paramName":"viewshedLayer",
         "dataType":"GPString",
         "value":{"url":"<hosted featureservice layer url>"}
         }
         ```
         -  If `outputName` was not provided, `value` contains a feature collection.
         ```javascript
         {
         "paramName":"viewshedLayer",
         "dataType":"GPString",
         "value":{"layerDefinition": {}, "featureSet": {}  }
         }
         ```
         See [Feature Output ](/feature-output-1) for more information about how the result layer or collection is accessed.
      </StyledTableCell>
   </StyledTableRow>
</StyledTable>
