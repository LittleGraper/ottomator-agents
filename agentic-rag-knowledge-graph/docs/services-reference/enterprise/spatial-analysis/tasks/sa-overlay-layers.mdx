---
title: "Overlay Layers"
description: "API reference for the Overlay Layers task available on ArcGIS Online."
slug: "sa-overlay-layers"
url: "/spatial-analysis/tasks/sa-overlay-layers"
redirectFrom:
  - /sa-overlay-layers
guid: "GUID-30A4405D-0FCD-47F5-A21E-8D9A3FFFC525"
migratedTopicMetadata:
  FTITLE: "SA Overlay Layers"
  FDESCRIPTION: "REST API doc"
  FCHANGES: "context conref"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "agol10.1-*:11.0-*"
  CREATED-ON: "28/02/2022 16:27:44"
  FAUTHOR: "sambrose"
  FSTATUS: "Released"
  MODIFIED-ON: "24/05/2022 07:53:20"
  VERSION: "7"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "3"
  ED: "GUID-F7164BD4-84B0-4052-978D-5601656A79FE"
  FUSERGROUP: "VUSERGROUPARCGISONLINEDOC"
  READ-ACCESS: ""
restInfoMetadata: {}
---

import GUID_98478E86_0753_4C4D_A2EB_7DC84675B2DC_GUID_E0E9FDE9_9A98_4EA4_9164_0E878BADF591 from "../../snippets/GUID-98478E86-0753-4C4D-A2EB-7DC84675B2DC/_GUID-E0E9FDE9-9A98-4EA4-9164-0E878BADF591";
import GUID_98478E86_0753_4C4D_A2EB_7DC84675B2DC_GUID_D95DEC58_7F27_491A_AF3D_6E6A3C0A6F2D from "../../snippets/GUID-98478E86-0753-4C4D-A2EB-7DC84675B2DC/_GUID-D95DEC58-7F27-491A-AF3D-6E6A3C0A6F2D";
import GUID_98478E86_0753_4C4D_A2EB_7DC84675B2DC_GUID_E836F966_C272_43B1_9BF9_55BA03755A13 from "../../snippets/GUID-98478E86-0753-4C4D-A2EB-7DC84675B2DC/_GUID-E836F966-C272-43B1-9BF9-55BA03755A13";
import GUID_98478E86_0753_4C4D_A2EB_7DC84675B2DC_GUID_E671F554_89D2_4CAD_B032_525E1CE90C18 from "../../snippets/GUID-98478E86-0753-4C4D-A2EB-7DC84675B2DC/_GUID-E671F554-89D2-4CAD-B032-525E1CE90C18";

![Overlay Layers](../../images/GUID-CE1E0E84-F3B5-446B-9FDE-4DA057F106CC-web.png)

The Overlay Layers task combines two or more layers into a single layer. You can think of overlay as peering through a stack of maps and creating a single map containing all the information from the stack. Before the advent of GIS, cartographers would manually copy maps onto clear acetate sheets, overlay the sheets on a light table, and hand draw a new map from the overlaid data. Overlay is more than a merging of line work; all the attributes of the features in the overlay are carried through to the final product. Overlay is used to answer one of the most basic questions of geography: What is on top of what?

The following are examples:

-    What parcels are within the 100-year floodplain? (Within is another way of saying on top of.)
-    What roads are within what counties?
-    What land use is on top of what soil type?
-    What wells are within abandoned military bases?

## Request URL

```javascript
http://<analysis url>/OverlayLayers/submitJob
```

## Request parameters
<StyledTable headers={"Parameter,Description"}>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `inputLayer`

         (Required)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The point, line, or polygon features that will be overlayed with the `overlayLayer` parameter.

         <GUID_98478E86_0753_4C4D_A2EB_7DC84675B2DC_GUID_E0E9FDE9_9A98_4EA4_9164_0E878BADF591 />

         <GUID_98478E86_0753_4C4D_A2EB_7DC84675B2DC_GUID_D95DEC58_7F27_491A_AF3D_6E6A3C0A6F2D />
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `overlayLayer`

         (Required)
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The features that will be overlaid with the `inputLayer` parameter features.

         <GUID_98478E86_0753_4C4D_A2EB_7DC84675B2DC_GUID_E0E9FDE9_9A98_4EA4_9164_0E878BADF591 />

         <GUID_98478E86_0753_4C4D_A2EB_7DC84675B2DC_GUID_D95DEC58_7F27_491A_AF3D_6E6A3C0A6F2D />
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `overlayType`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The type of overlay to be performed.

         Values: `Intersect` \| `Union` \| `Erase`
         <StyledTable headers={""}>
            <StyledTableRow>
               <StyledTableCell cellStyle="markdown">
                  Intersect ![Intersect](../../images/GUID-90A88DF2-0248-4E42-AA10-861B61B97485-web.png)
               </StyledTableCell>
               <StyledTableCell cellStyle="markdown">
                  Computes a geometric intersection of the input layers. Features or portions of features that overlap in both the `inputLayer` and `overlayLayer` parameters will be written to the output layer. This is the default.
               </StyledTableCell>
            </StyledTableRow>
            <StyledTableRow>
               <StyledTableCell cellStyle="markdown">
                  Union ![Union](../../images/GUID-D760A82D-337D-438D-98F7-7C4E8508714B-web.png)
               </StyledTableCell>
               <StyledTableCell cellStyle="markdown">
                  Computes a geometric union of the input layers. All features and their attributes will be written to the output layer. This option is only valid if both the `inputLayer` and the `overlayLayer` parameter values contain polygon features.
               </StyledTableCell>
            </StyledTableRow>
            <StyledTableRow>
               <StyledTableCell cellStyle="markdown">
                  Erase ![Erase](../../images/GUID-DF16B1C9-526C-4E47-8E83-250F66950A43-web.png)
               </StyledTableCell>
               <StyledTableCell cellStyle="markdown">
                  Only those features or portions of features in the `inputLayer` parameter that do not overlap the features in the `overlayLayer` parameter are written to the output.
               </StyledTableCell>
            </StyledTableRow>
         </StyledTable>

         Example: `"overlayType": "Union"`
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `outputType`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The type of intersection to be found. This parameter is only valid when the `overlayType` parameter value is `Intersect`.

         Values: `Input` \| `Line` \| `Point`
         -   `Input`—The features returned will be the same geometry type as the `inputLayer` or `overlayLayer` parameter value with the lowest dimension geometry. If all inputs are polygons, the output will contain polygons. If one or more inputs are lines and no inputs are points, the output will be line. If one or more inputs are points, the output will contain points. This is the default.
         -   `Line`—Line intersections will be returned. This is only valid if no inputs are points.
         -   `Point`—Point intersections will be returned. If the inputs are line or polygon, the output will be a multipoint layer.
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `snapToInput`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         A Boolean value indicating whether feature vertices in the `inputLayer` parameter are allowed to move. The default is `false` and means if the distance between features is less than the `tolerance` value, all features from both layers can move to allow snapping to each other. When set to `true`, only features in `overlayLayer` can move to snap to the `inputLayer` features.

         Values: `true` \| `false`

         Example: `"snapToInput": true`
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `tolerance`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         A double value of the minimum distance separating all feature coordinates as well as the distance a coordinate can move in the X or Y (or both) direction. The `tolerance` units are the same as the `inputLayer` units.
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `outputName`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         <GUID_98478E86_0753_4C4D_A2EB_7DC84675B2DC_GUID_E836F966_C272_43B1_9BF9_55BA03755A13 />
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `context`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         <GUID_98478E86_0753_4C4D_A2EB_7DC84675B2DC_GUID_E671F554_89D2_4CAD_B032_525E1CE90C18 />
      </StyledTableCell>
   </StyledTableRow>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `f`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The response format. The default response format is `html`.

         Values: `html` \| `json`
      </StyledTableCell>
   </StyledTableRow>
</StyledTable>
## Response
When you submit a request, the service assigns a unique job ID for the transaction.
Syntax:
```javascript
{
"jobId": "<unique job identifier>",
"jobStatus": "<job status>"
}
```
After the initial request is submitted, you can use the `jobId` value to periodically check the status of the job and messages as described in [Check job status](/checking-job-status-1). Once the job has successfully completed, use `jobId` to retrieve the results. To track the status, you can make a request of the following form:
```javascript
http://<analysis url>/OverlayLayers/jobs/<jobId>
```
## Access results
When the status of the job request is `esriJobSucceeded`, you can access the results of the analysis by making a request of the following form:
```javascript
http://<analysis url>/OverlayLayers/jobs/<jobId>/results/outputLayer?token=<your token>&f=json
```
<StyledTable headers={"Parameter,Description"}>
   <StyledTableRow>
      <StyledTableCell cellStyle="markdown">
         `outputLayer`
      </StyledTableCell>
      <StyledTableCell cellStyle="markdown">
         The features that are the result of the overlay. The type of feature (point, line, or polygon) depends on the input parameter settings.

         Example:
         ```javascript
          {"url":"http://<analysis url>/OverlayLayers/jobs/<jobId>/results/outputLayer"}
         ```
         The result includes properties for parameter name, data type, and value. The contents of value depend on the `outputName` parameter provided in the initial request.
         -   If `outputName` was provided, `value` contains the URL to the feature service layer.
         ```javascript
         {
        "paramName":"outputLayer",
        "dataType":"GPString",
        "value":{"url":"<hosted featureservice layer url>"}
        }
         ```
         -   If `outputName` was not provided, `value` contains a feature collection.
         ```javascript
         {
         "paramName":"outputLayer",
         "dataType":"GPString",
         "value":{"layerDefinition": {}, "featureSet": {} }
         }
         ```
         See [Feature Output ](/feature-output-1) for more information about how the result layer or collection is accessed.
      </StyledTableCell>
   </StyledTableRow>
</StyledTable>
