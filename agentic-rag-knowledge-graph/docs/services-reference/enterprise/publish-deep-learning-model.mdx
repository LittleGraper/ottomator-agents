---
title: "Publish Deep Learning Model"
description: "API reference for the Publish Deep Learning Model service available on Portal for ArcGIS."
slug: "publish-deep-learning-model"
url: "/publish-deep-learning-model"
guid: "GUID-274E691A-2BB4-443E-8C44-B5E3E0E635CF"
migratedTopicMetadata:
  FTITLE: "Publish Deep Learning Model"
  FDESCRIPTION: ""
  FCHANGES: "Removing related resources re: https://devtopia.esri.com/WebGIS/arcgis-rest-api-documentation/issues/191"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "10.8.1 - *"
  CREATED-ON: "15/09/2022 08:49:55"
  FAUTHOR: "tohara"
  FSTATUS: "Released"
  MODIFIED-ON: "20/09/2022 11:02:32"
  VERSION: "2"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "3"
  ED: "GUID-EE35684E-1AF1-4F17-839E-78EE20488EC0"
  FUSERGROUP: ""
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /PublishDeepLearningModel
  urlSegments:
    - name: <rasteranalysistools-url>
      url: /raster-analysis-tasks-overview
    - name: /PublishDeepLearningModel
  methods: []
  sslOnly: 'no'
  versionIntroduced: 10.8.1
---

import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_1702083F_151C_4A0C_AF36_0D0DD9E2563A from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_GUID-1702083F-151C-4A0C-AF36-0D0DD9E2563A";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_4B398B66_01FD_40FB_9AEE_30371F0A8CD8 from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_GUID-4B398B66-01FD-40FB-9AEE-30371F0A8CD8";
import GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_ED11CCC7_40D3_4ADD_A679_A3F6964834ED from "./snippets/GUID-92B97D46-70DD-4B77-80C3-E6A319680CD9/_GUID-ED11CCC7-40D3-4ADD-A679-A3F6964834ED";

## Description

![Publish Deep Learning Model](./images/GUID-C158C7C4-73D5-45CC-B7FC-4C6CE394108A-web.png)

The `PublishDeepLearningModel`  operation publishes a model package of a deep learning model (.dlpk) containing the files and data required to run deep learning inferencing tools for object detection or image classification to your portal as a DLPK item.

Deep learning model packages must contain an Esri model definition file (.emd) and a trained model file. The trained model file extension depends on the framework you used to train the model. For example, if you trained your model using TensorFlow, the model file will be a TensorFlow (.pb) file, while a model trained using Keras will generate an Keras (.h5) file. Depending on the model framework and options you used to train your model, you may need to include a Python Raster Function (.py) or additional files.

##  Request parameters

<StyledTable headers={"Parameter,Details"}>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`modelLocation` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The datastore location of the deep learning model that needs to be uploaded to the portal. The `modelLocation`  can be the path pointing to the dlpk file or the folder containing the deep learning model files (emd, trained model file and other additional files.)

Syntax: A string describing the path of the model location.

Example:

```javascript
modelLocation=”/fileShares/datastorename/modelFolder”
modelLocation=”/fileShares/datastorename/modelFolder/modelfile.dlpk”
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`outputName` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The name of the portal item. If the item already exists, the portal item ID can be given to the service tool. The current path of the .dlpk file will be used to update the existing .dlpk item.

Example

```javascript
output_name={"name":"trainedModel"}
output_name={"name":"trainedModel","folderId":"dfwerfbd3ec25584d0d8f4"}

```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`f` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The response format. The default response format is `html` .

Values: `html`  \| `json`  \| `pjson` 

</StyledTableCell>

</StyledTableRow>

</StyledTable>

## Example usage

## Response

<GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_1702083F_151C_4A0C_AF36_0D0DD9E2563A />

<GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_4B398B66_01FD_40FB_9AEE_30371F0A8CD8 />

<GUID_92B97D46_70DD_4B77_80C3_E6A319680CD9_GUID_ED11CCC7_40D3_4ADD_A679_A3F6964834ED />

```javascript
https://<raster analysis tools url>/PublishDeepLearningModel/jobs/<jobId>
```

 

<StyledTable headers={"Parameter,Details"}>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`outItem` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The response returns the .dlpk portal item id.

Example:

Example

```javascript
{
  "url": "http://<raster analysis url>/PublishDeepLearningModel/jobs/<jobId>/results/outItem"
}
```

 

Results in:

```javascript
{
  “itemId”:”c3f5e92474084a07b1134ab9d53fa126”
}
```

 

</StyledTableCell>

</StyledTableRow>

</StyledTable>

## JSON Response example

An example of a successful JSON response is detailed below:

<StyledTable headers={"Details"}>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

Response Example:

```javascript
modelLocation: /fileShares/deeplearningdatastorename/trainedModel
outputName: {"name":"trainedModel"}
overwriteModel: false

```

 

Successful response output:

```javascript
{
"paramName": "outItem",
"dataType": "GPString",
"value": {"itemId": "a2efad91b49f455e9cd29a340dc1887d"}
}

```

 

</StyledTableCell>

</StyledTableRow>

</StyledTable>
