---
title: "Optimal Path As Line"
description: "The OptimalPathAsLine task calculates the optimal path from a source to a destination as a feature."
slug: "optimal-path-as-line"
url: "/optimal-path-as-line"
guid: "GUID-657708B0-A138-423A-B7B3-EB33D4A02A40"
migratedTopicMetadata:
  FTITLE: "Optimal Path As Line"
  FDESCRIPTION: ""
  FCHANGES: "remove quotes from field names"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "11.1 - *"
  CREATED-ON: "30/03/2023 15:07:00"
  FAUTHOR: "egraham"
  FSTATUS: "Released"
  MODIFIED-ON: "03/04/2023 22:46:26"
  VERSION: "5"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "5"
  ED: "GUID-844BCF15-1413-4B09-9BBD-5E694CA4EA9B"
  FUSERGROUP: ""
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /<serviceName>/RasterAnalysisTools/GPServer/OptimalPathAsLine
  urlSegments:
    - name: <root>
      url: /catalog
    - name: /<serviceName>/RasterAnalysisTools/GPServer/OptimalPathAsLine
  methods: []
  sslOnly: 'no'
  versionIntroduced: 10.8.1
---

import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_8690880D_1CA0_4363_B4BA_F85BE9B71D93 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-8690880D-1CA0-4363-B4BA-F85BE9B71D93";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_3C3804F2_DF27_4AB4_8A26_39CB1316D7DD from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-3C3804F2-DF27-4AB4-8A26-39CB1316D7DD";
import GUID_C8AC828B_7267_4862_9377_BBCF20C720A8_GUID_7675B237_96F6_47A9_81FF_DE125BA4ABB6 from "./snippets/GUID-C8AC828B-7267-4862-9377-BBCF20C720A8/_GUID-7675B237-96F6-47A9-81FF-DE125BA4ABB6";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_59BC6D2B_4DDF_47B1_87EB_007154B11B73 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-59BC6D2B-4DDF-47B1-87EB-007154B11B73";
import GUID_C8AC828B_7267_4862_9377_BBCF20C720A8_GUID_4C390501_FFF1_46B6_99F1_BAC0973C0F81 from "./snippets/GUID-C8AC828B-7267-4862-9377-BBCF20C720A8/_GUID-4C390501-FFF1-46B6-99F1-BAC0973C0F81";
import GUID_C8AC828B_7267_4862_9377_BBCF20C720A8_GUID_BFE05096_8323_48F7_AE3F_5483B8936A77 from "./snippets/GUID-C8AC828B-7267-4862-9377-BBCF20C720A8/_GUID-BFE05096-8323-48F7-AE3F-5483B8936A77";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_358B6C50_A4A3_4B48_BF46_CDA9A9F9BBA7 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-358B6C50-A4A3-4B48-BF46-CDA9A9F9BBA7";
import GUID_C8AC828B_7267_4862_9377_BBCF20C720A8_GUID_93464B44_5417_4494_8840_90D6B8E7215C from "./snippets/GUID-C8AC828B-7267-4862-9377-BBCF20C720A8/_GUID-93464B44-5417-4494-8840-90D6B8E7215C";
import GUID_C8AC828B_7267_4862_9377_BBCF20C720A8_GUID_4EED11E9_5485_43B4_8C98_D76CBDA78268 from "./snippets/GUID-C8AC828B-7267-4862-9377-BBCF20C720A8/_GUID-4EED11E9-5485-43B4-8C98-D76CBDA78268";
import GUID_C8AC828B_7267_4862_9377_BBCF20C720A8_GUID_A311C37E_C2B8_4156_A94A_B3563CE9F3F1 from "./snippets/GUID-C8AC828B-7267-4862-9377-BBCF20C720A8/_GUID-A311C37E-C2B8-4156-A94A-B3563CE9F3F1";
import GUID_C8AC828B_7267_4862_9377_BBCF20C720A8_UL_FDBA955103AB498CA12FB813A47E03C0 from "./snippets/GUID-C8AC828B-7267-4862-9377-BBCF20C720A8/_UL_FDBA955103AB498CA12FB813A47E03C0";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_AD9814DB26DA439EA899971516D5E44D from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_LI_AD9814DB26DA439EA899971516D5E44D";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_9B5D5783_E386_45F7_8EA8_88843A1BB484 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-9B5D5783-E386-45F7-8EA8-88843A1BB484";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_C771449E_6BA7_4CB4_9328_2C855A14B2B2 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-C771449E-6BA7-4CB4-9328-2C855A14B2B2";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_1702083F_151C_4A0C_AF36_0D0DD9E2563A from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-1702083F-151C-4A0C-AF36-0D0DD9E2563A";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_4B398B66_01FD_40FB_9AEE_30371F0A8CD8 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-4B398B66-01FD-40FB-9AEE-30371F0A8CD8";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_ED11CCC7_40D3_4ADD_A679_A3F6964834ED from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-ED11CCC7-40D3-4ADD-A679-A3F6964834ED";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_50D345C8_14F8_4A4A_AB1E_A6BBD19C49EF from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-50D345C8-14F8-4A4A-AB1E-A6BBD19C49EF";

## Description

![Optimal Path As Line diagram](./images/GUID-152880A5-E7D4-4811-8E0F-FC41AD2EDD2D-web.png)

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_8690880D_1CA0_4363_B4BA_F85BE9B71D93 />

To create paths that cross the edge of the projection, the rasters used as inputs for the `Input Distance Accumulation` Raster and `Input Back Direction` Raster parameters must have been created at the full global extent, in either a cylindrical projection or a geographic output coordinate system, while using the `Geodesic` option for the `Distance Method` parameter.

Example applications include the following:

-   Finding the optimal route for a new road
-   Finding the downstream trace from a location

## Request parameters

<StyledTable headers={"Parameter,Details"}>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`inputDestinationRasterOrFeatures` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

A raster or feature dataset that identifies the cells from which the optimal path is determined to the least costly source.

If the input is a raster, it must consist of cells that have valid values (zero is a valid value) for the destinations, and the remaining cells must be assigned NoData.

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_3C3804F2_DF27_4AB4_8A26_39CB1316D7DD />

Raster input examples:

```javascript
//Portal item as input raster
"inputDestinationRasterOrFeatures":{"itemId": <portal item Id>}

//URL as input raster
"inputDestinationRasterOrFeatures":{"url": <image service layer url>}
```

 

Feature input examples:

```javascript
//Feature layer URL
"inputDestinationRasterOrFeatures":{"url": <feature service layer url>}

//Feature collection
"inputDestinationRasterOrFeatures":{"layerDefinition": {}, "featureSet": {}}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`inputDistanceAccumulationRaster` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_C8AC828B_7267_4862_9377_BBCF20C720A8_GUID_7675B237_96F6_47A9_81FF_DE125BA4ABB6 />

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_59BC6D2B_4DDF_47B1_87EB_007154B11B73 />

Examples:

```javascript
//Portal item as input raster
"inputDistanceAccumulationRaster":{"itemId": <portal item id>}

//URL as input raster
"inputDistanceAccumulationRaster":{"url": <image service layer url>}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`inputBackDirectionRaster` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_C8AC828B_7267_4862_9377_BBCF20C720A8_GUID_4C390501_FFF1_46B6_99F1_BAC0973C0F81 />

<GUID_C8AC828B_7267_4862_9377_BBCF20C720A8_GUID_BFE05096_8323_48F7_AE3F_5483B8936A77 />

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_59BC6D2B_4DDF_47B1_87EB_007154B11B73 />

Raster input examples:

```javascript
//Portal item as input raster
"inputBackDirectionRaster":{"itemId": <portal item id>}

//URL as input raster
"inputBackDirectionRaster":{"url": <image service layer url>}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`outputPolylineName` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The name of the output feature service that will contain the optimal path.

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_358B6C50_A4A3_4B48_BF46_CDA9A9F9BBA7 />

Output feature service examples:

```javascript
//REST web example
myOutput

//REST scripting example
"outputPolylineName" : "myOutput1"
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`destinationField` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_C8AC828B_7267_4862_9377_BBCF20C720A8_GUID_93464B44_5417_4494_8840_90D6B8E7215C />

<GUID_C8AC828B_7267_4862_9377_BBCF20C720A8_GUID_4EED11E9_5485_43B4_8C98_D76CBDA78268 />

Example:

```javascript
"destinationField": destinationValue
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`pathType` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_C8AC828B_7267_4862_9377_BBCF20C720A8_GUID_A311C37E_C2B8_4156_A94A_B3563CE9F3F1 />

<GUID_C8AC828B_7267_4862_9377_BBCF20C720A8_UL_FDBA955103AB498CA12FB813A47E03C0 />

Example:

```javascript
"pathType": "EACH_ZONE"
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`createNetworkPaths` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Specifies whether complete, and possibly overlapping, paths from the destinations to the sources are calculated or if nonoverlapping network paths are created.

Syntax: A Boolean value as either `true`  or `false` .

-   A value of `false`  specifies complete paths from the destinations to the sources are calculated, which can be overlapping. This is the default.
-   A value of `true`  specifies nonoverlapping network paths are calculated.

Example:

```javascript
"createNetworkPaths": false
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`context` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

Contains additional settings that affect task execution.

-   <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_AD9814DB26DA439EA899971516D5E44D />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`f` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_9B5D5783_E386_45F7_8EA8_88843A1BB484 />

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_C771449E_6BA7_4CB4_9328_2C855A14B2B2 />

</StyledTableCell>

</StyledTableRow>

</StyledTable>

## Response

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_1702083F_151C_4A0C_AF36_0D0DD9E2563A />

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_4B398B66_01FD_40FB_9AEE_30371F0A8CD8 />

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_ED11CCC7_40D3_4ADD_A679_A3F6964834ED />

```javascript
https://<raster analysis tools url>/OptimalPathAsLine/jobs/<jobId>
```

 

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_50D345C8_14F8_4A4A_AB1E_A6BBD19C49EF />

```javascript
https://<raster analysis tools url>/OptimalPathAsLine/jobs/<jobId>/results/outputOptimalPathAsLine
```

 

## Example usage

Below is a sample request URL for `OptimalPathAsLine` .

```javascript
https://services.myserver.com/arcgis/rest/services/System/RasterAnalysisTools/GPServer/OptimalPathAsLine/submitJob
```

 

## JSON Response example

The response returns the `outputPolylineFeatures`  output parameter, which has properties for parameter name, data type, and value. The content of `value`  depends on the `outputPolylineName`  parameter being provided in the initial request. If `outputPolylineName`  was provided, `value`  contains the URL for the feature service layer. If `outputPolylineName`  was not provided, `value`  contains a feature collection.

`outputPolylineName`  is provided in the following request: 

```other
{
  "paramName":"outputPolylineFeatures",
  "dataType":"GPString",
  "value":{"url":"<hosted feature service layer url>"}
}
```

 

`outputPolylineName`  is not provided in the following request: 

```other
{
  "paramName":"outputPolylineFeatures",
  "dataType":"GPString",
  "value":{"layerDefinition": {}, "featureSet": {}}
}
```

 
