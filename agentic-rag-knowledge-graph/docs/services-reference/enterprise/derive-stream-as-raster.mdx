---
title: "Derive Stream As Raster"
description: "The `DeriveStreamAsRaster` task generates a stream raster from an input surface raster with no prior sink or depression filling required."
slug: "derive-stream-as-raster"
url: "/derive-stream-as-raster"
guid: "GUID-490720EA-9405-4975-9623-67BA94127D1A"
migratedTopicMetadata:
  FTITLE: "Derive Stream As Raster"
  FDESCRIPTION: ""
  FCHANGES: "Add task topic"
  FISHRELEASELABEL: ""
  FESRISOFTWARERELEASE: ""
  FESRITAGCLOUD: ""
  FESRIRECREATIONPROCEDURE: ""
  FESRIPRODUCTLIFECYCLE: "11.2 - *"
  CREATED-ON: "09/08/2023 13:02:17"
  FAUTHOR: "tlopezcantu"
  FSTATUS: "Released"
  MODIFIED-ON: "26/09/2023 14:33:00"
  VERSION: "1"
  FRESOLUTION: ""
  DOC-LANGUAGE: "en"
  FISHREVCOUNTER: "8"
  ED: "GUID-20BAC718-9E87-40EB-9107-8CA955B5D583"
  FUSERGROUP: ""
  READ-ACCESS: ""
restInfoMetadata:
  apiPath: /<serviceName>/RasterAnalysisTools/GPServer/DeriveStreamAsRaster
  urlSegments:
    - name: <root>
      url: /catalog
    - name: /<serviceName>/RasterAnalysisTools/GPServer/DeriveStreamAsRaster
  methods: []
  sslOnly: 'no'
  versionIntroduced: '11.2'
---

import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_59BC6D2B_4DDF_47B1_87EB_007154B11B73 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-59BC6D2B-4DDF-47B1-87EB-007154B11B73";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_F2432D7C_6B85_43BD_B98C_40AC9E9EBA22 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-F2432D7C-6B85-43BD-B98C-40AC9E9EBA22";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_8F14A47B_448F_4A97_9AF3_539B5A3C476E from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-8F14A47B-448F-4A97-9AF3-539B5A3C476E";
import GUID_2B2DFC83_7869_4B44_B48C_54A2B546AEBB_GUID_F80DB276_010B_433D_AC61_B20514F26C6C from "./snippets/GUID-2B2DFC83-7869-4B44-B48C-54A2B546AEBB/_GUID-F80DB276-010B-433D-AC61-B20514F26C6C";
import GUID_2B2DFC83_7869_4B44_B48C_54A2B546AEBB_GUID_C5547E70_36B2_4807_95EF_2178B40279FD from "./snippets/GUID-2B2DFC83-7869-4B44-B48C-54A2B546AEBB/_GUID-C5547E70-36B2-4807-95EF-2178B40279FD";
import GUID_2B2DFC83_7869_4B44_B48C_54A2B546AEBB_GUID_C8E9F4A7_C0EB_41E5_B999_3D281F593863 from "./snippets/GUID-2B2DFC83-7869-4B44-B48C-54A2B546AEBB/_GUID-C8E9F4A7-C0EB-41E5-B999-3D281F593863";
import GUID_2B2DFC83_7869_4B44_B48C_54A2B546AEBB_GUID_BCBBB0D8_83EA_45EB_83EE_4A9EC767EB85 from "./snippets/GUID-2B2DFC83-7869-4B44-B48C-54A2B546AEBB/_GUID-BCBBB0D8-83EA-45EB-83EE-4A9EC767EB85";
import GUID_2B2DFC83_7869_4B44_B48C_54A2B546AEBB_GUID_F6FE43AB_546C_46A6_A65D_E2637FECE275 from "./snippets/GUID-2B2DFC83-7869-4B44-B48C-54A2B546AEBB/_GUID-F6FE43AB-546C-46A6-A65D-E2637FECE275";
import GUID_2B2DFC83_7869_4B44_B48C_54A2B546AEBB_GUID_414FE6DD_455D_4F37_AC4A_AFD92F9D8A8F from "./snippets/GUID-2B2DFC83-7869-4B44-B48C-54A2B546AEBB/_GUID-414FE6DD-455D-4F37-AC4A-AFD92F9D8A8F";
import GUID_2B2DFC83_7869_4B44_B48C_54A2B546AEBB_GUID_1B92F2E7_9350_4D13_853D_365FAE368E8B from "./snippets/GUID-2B2DFC83-7869-4B44-B48C-54A2B546AEBB/_GUID-1B92F2E7-9350-4D13-853D-365FAE368E8B";
import GUID_2B2DFC83_7869_4B44_B48C_54A2B546AEBB_GUID_223B63C1_FA03_4F71_AE9A_20C2CE20016D from "./snippets/GUID-2B2DFC83-7869-4B44-B48C-54A2B546AEBB/_GUID-223B63C1-FA03-4F71-AE9A-20C2CE20016D";
import GUID_2B2DFC83_7869_4B44_B48C_54A2B546AEBB_GUID_6961A53B_CE26_49CC_BB17_DA9244826E37 from "./snippets/GUID-2B2DFC83-7869-4B44-B48C-54A2B546AEBB/_GUID-6961A53B-CE26-49CC-BB17-DA9244826E37";
import GUID_2B2DFC83_7869_4B44_B48C_54A2B546AEBB_GUID_8C1DC5EF_E4D2_4DDC_A7B0_38C69A1843A5 from "./snippets/GUID-2B2DFC83-7869-4B44-B48C-54A2B546AEBB/_GUID-8C1DC5EF-E4D2-4DDC-A7B0-38C69A1843A5";
import GUID_2B2DFC83_7869_4B44_B48C_54A2B546AEBB_GUID_819A2028_2555_4C91_993A_5D0C8ADAC403 from "./snippets/GUID-2B2DFC83-7869-4B44-B48C-54A2B546AEBB/_GUID-819A2028-2555-4C91-993A-5D0C8ADAC403";
import GUID_2B2DFC83_7869_4B44_B48C_54A2B546AEBB_UL_CDD66AEBE0AC41BA835966BF8E6E792D from "./snippets/GUID-2B2DFC83-7869-4B44-B48C-54A2B546AEBB/_UL_CDD66AEBE0AC41BA835966BF8E6E792D";
import GUID_2B2DFC83_7869_4B44_B48C_54A2B546AEBB_GUID_A3B2C5CC_613E_47F9_B31B_3741D7D1726B from "./snippets/GUID-2B2DFC83-7869-4B44-B48C-54A2B546AEBB/_GUID-A3B2C5CC-613E-47F9-B31B-3741D7D1726B";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_ED5F3572_A049_4C63_A48E_B74C39469C67 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-ED5F3572-A049-4C63-A48E-B74C39469C67";
import GUID_2B2DFC83_7869_4B44_B48C_54A2B546AEBB_UL_21D1023DF7634C458CF0E17237F0EC86 from "./snippets/GUID-2B2DFC83-7869-4B44-B48C-54A2B546AEBB/_UL_21D1023DF7634C458CF0E17237F0EC86";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_E671F554_89D2_4CAD_B032_525E1CE90C18 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-E671F554-89D2-4CAD-B032-525E1CE90C18";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_1744B5CA044F44D8ABF2E27EF9BC9A27 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_LI_1744B5CA044F44D8ABF2E27EF9BC9A27";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_AD9814DB26DA439EA899971516D5E44D from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_LI_AD9814DB26DA439EA899971516D5E44D";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_7566284934CF4B3BAFE1FBAA218408CB from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_LI_7566284934CF4B3BAFE1FBAA218408CB";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_2DDA48A24C404781BB03BF05B81B3C19 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_LI_2DDA48A24C404781BB03BF05B81B3C19";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_E5BF6567427444E8B74C6B8212C56B99 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_LI_E5BF6567427444E8B74C6B8212C56B99";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_9B5D5783_E386_45F7_8EA8_88843A1BB484 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-9B5D5783-E386-45F7-8EA8-88843A1BB484";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_C771449E_6BA7_4CB4_9328_2C855A14B2B2 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-C771449E-6BA7-4CB4-9328-2C855A14B2B2";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_1702083F_151C_4A0C_AF36_0D0DD9E2563A from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-1702083F-151C-4A0C-AF36-0D0DD9E2563A";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_4B398B66_01FD_40FB_9AEE_30371F0A8CD8 from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-4B398B66-01FD-40FB-9AEE-30371F0A8CD8";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_ED11CCC7_40D3_4ADD_A679_A3F6964834ED from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-ED11CCC7-40D3-4ADD-A679-A3F6964834ED";
import GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_50D345C8_14F8_4A4A_AB1E_A6BBD19C49EF from "./snippets/GUID-512E1710-163F-43F9-8ABC-FA35AE6DD5DF/_GUID-50D345C8-14F8-4A4A-AB1E-A6BBD19C49EF";
import GUID_2B2DFC83_7869_4B44_B48C_54A2B546AEBB_LI_8D67C4416F564D6BB1F6661F0945858F from "./snippets/GUID-2B2DFC83-7869-4B44-B48C-54A2B546AEBB/_LI_8D67C4416F564D6BB1F6661F0945858F";
import GUID_2B2DFC83_7869_4B44_B48C_54A2B546AEBB_LI_2003342AF3DD401DB7F56266E47A639D from "./snippets/GUID-2B2DFC83-7869-4B44-B48C-54A2B546AEBB/_LI_2003342AF3DD401DB7F56266E47A639D";

## Description

The `DeriveStreamAsRaster` task generates a stream raster from an input surface raster with no prior sink or depression filling required.

Example applications of `DeriveStreamAsRaster` include the following:

-   Extract streams from a DEM.
-   Consider sink or depression cell locations through the `inputDepressionsData` parameter in the extraction of streams and determine flow accumulation at each cell of the surface raster, allowing water flow into depression locations but not outward.

## Request parameters

<StyledTable headers={"Parameter,Details"}>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`inputSurfaceRaster` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The input raster representing a surface.

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_59BC6D2B_4DDF_47B1_87EB_007154B11B73 />

Examples:

```javascript
//Portal item as input raster
"inputSurfaceRaster": {"itemId": <portal item id>}

//URL as input raster
"inputSurfaceRaster": {"url": <image service layer url>}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`outputStreamRasterName` 

(Required)

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

The name of the output stream image service that will be created.

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_F2432D7C_6B85_43BD_B98C_40AC9E9EBA22 />

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_8F14A47B_448F_4A97_9AF3_539B5A3C476E />

Output name example:

```javascript
"outputStreamRasterName":{"serviceProperties":{"name":"testrasteranalysis"}}
```

 

Output raster examples:

```javascript
//Output portal item:
"outputStreamRasterName":{"itemId": <portal item id>}

//Output url:
"outputStreamRasterName":{"url": <image service url>}

//Output raster layer service:
"outputStreamRasterName":{"service properties":
  {"name":"testrasteranalysis",
  "serviceUrl":"https://<server name>/server/rest/services/Hosted/testrasteranalysis/ImageServer",
  "itemProperties":{"itemId":"8cfbd3ec25584d0d8f4ed23b8ff7c43b","folderId":"sdfwerfbd3ec25584d0d8f4"}}
}
```

 

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`inputDepressionsData` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_2B2DFC83_7869_4B44_B48C_54A2B546AEBB_GUID_F80DB276_010B_433D_AC61_B20514F26C6C />

<GUID_2B2DFC83_7869_4B44_B48C_54A2B546AEBB_GUID_C5547E70_36B2_4807_95EF_2178B40279FD />

<GUID_2B2DFC83_7869_4B44_B48C_54A2B546AEBB_GUID_C8E9F4A7_C0EB_41E5_B999_3D281F593863 />

<GUID_2B2DFC83_7869_4B44_B48C_54A2B546AEBB_GUID_BCBBB0D8_83EA_45EB_83EE_4A9EC767EB85 />

<GUID_2B2DFC83_7869_4B44_B48C_54A2B546AEBB_GUID_F6FE43AB_546C_46A6_A65D_E2637FECE275 />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`inputWeightRaster` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_2B2DFC83_7869_4B44_B48C_54A2B546AEBB_GUID_414FE6DD_455D_4F37_AC4A_AFD92F9D8A8F />

<GUID_2B2DFC83_7869_4B44_B48C_54A2B546AEBB_GUID_1B92F2E7_9350_4D13_853D_365FAE368E8B />

<GUID_2B2DFC83_7869_4B44_B48C_54A2B546AEBB_GUID_223B63C1_FA03_4F71_AE9A_20C2CE20016D />

<GUID_2B2DFC83_7869_4B44_B48C_54A2B546AEBB_GUID_6961A53B_CE26_49CC_BB17_DA9244826E37 />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`accumulationThreshold` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_2B2DFC83_7869_4B44_B48C_54A2B546AEBB_GUID_8C1DC5EF_E4D2_4DDC_A7B0_38C69A1843A5 />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`streamDesignationMethod` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_2B2DFC83_7869_4B44_B48C_54A2B546AEBB_GUID_819A2028_2555_4C91_993A_5D0C8ADAC403 />

<GUID_2B2DFC83_7869_4B44_B48C_54A2B546AEBB_UL_CDD66AEBE0AC41BA835966BF8E6E792D />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`forceFlow` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_2B2DFC83_7869_4B44_B48C_54A2B546AEBB_GUID_A3B2C5CC_613E_47F9_B31B_3741D7D1726B />

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_ED5F3572_A049_4C63_A48E_B74C39469C67 />

<GUID_2B2DFC83_7869_4B44_B48C_54A2B546AEBB_UL_21D1023DF7634C458CF0E17237F0EC86 />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`context` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_E671F554_89D2_4CAD_B032_525E1CE90C18 />

-   <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_1744B5CA044F44D8ABF2E27EF9BC9A27 />
-   <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_AD9814DB26DA439EA899971516D5E44D />
-   <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_7566284934CF4B3BAFE1FBAA218408CB />
-   <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_2DDA48A24C404781BB03BF05B81B3C19 />
-   <GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_LI_E5BF6567427444E8B74C6B8212C56B99 />

</StyledTableCell>

</StyledTableRow>

<StyledTableRow>

<StyledTableCell cellStyle="markdown">

`f` 

</StyledTableCell>

<StyledTableCell cellStyle="markdown">

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_9B5D5783_E386_45F7_8EA8_88843A1BB484 />

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_C771449E_6BA7_4CB4_9328_2C855A14B2B2 />

</StyledTableCell>

</StyledTableRow>

</StyledTable>

## Response

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_1702083F_151C_4A0C_AF36_0D0DD9E2563A />

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_4B398B66_01FD_40FB_9AEE_30371F0A8CD8 />

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_ED11CCC7_40D3_4ADD_A679_A3F6964834ED />

```javascript
https://<raster analysis tools url>/DeriveStreamAsRaster/jobs/<jobId>
```

 

<GUID_512E1710_163F_43F9_8ABC_FA35AE6DD5DF_GUID_50D345C8_14F8_4A4A_AB1E_A6BBD19C49EF />

```javascript
https://<raster analysis tools url>/DeriveStreamAsRaster/jobs/<jobId>/results/<output parameter>
```

 

## Example usage

The example below is a sample request URL for `DeriveStreamAsRaster` .

```javascript
https://services.myserver.com/arcgis/rest/services/System/RasterAnalysisTools/GPServer/DeriveStreamAsRaster/submitJob
```

 

## JSON Response example

The response returns the `outputStreamRaster`  output parameter, which has properties for parameter name, data type, and value. The content of `value`  is the output raster dataset `itemId`  value and the image service URL.

```javascript
{
  "paramName": "outputStreamRaster",
  "dataType": "GPString",
  "value": {
    "itemId": "f121390b85ef419790479fc75b493efd",
    "url": "https://<server name>/arcgis/rest/services/Hosted/<service name>/ImageServer"
  }
}
```

 

## References

-   <GUID_2B2DFC83_7869_4B44_B48C_54A2B546AEBB_LI_8D67C4416F564D6BB1F6661F0945858F />
-   <GUID_2B2DFC83_7869_4B44_B48C_54A2B546AEBB_LI_2003342AF3DD401DB7F56266E47A639D />
